/* Aurocore Tealeaf SDK (Library 6.4.20) - South China Insurance - ecover Car (2023-09-13) */
/* AppKey: Aurocore ESP */

/*! pako deflate 1.0.11 */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).pako=t()}}(function(){return function i(s,h,l){function o(e,t){if(!h[e]){if(!s[e]){var a="function"==typeof require&&require;if(!t&&a)return a(e,!0);if(_)return _(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var r=h[e]={exports:{}};s[e][0].call(r.exports,function(t){return o(s[e][1][t]||t)},r,r.exports,i,s,h,l)}return h[e].exports}for(var _="function"==typeof require&&require,t=0;t<l.length;t++)o(l[t]);return o}({1:[function(t,e,a){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;a.assign=function(t){for(var e,a,n=Array.prototype.slice.call(arguments,1);n.length;){var r=n.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var i in r)e=r,a=i,Object.prototype.hasOwnProperty.call(e,a)&&(t[i]=r[i])}}return t},a.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var r={arraySet:function(t,e,a,n,r){if(e.subarray&&t.subarray)t.set(e.subarray(a,a+n),r);else for(var i=0;i<n;i++)t[r+i]=e[a+i]},flattenChunks:function(t){var e,a,n,r,i,s;for(e=n=0,a=t.length;e<a;e++)n+=t[e].length;for(s=new Uint8Array(n),e=r=0,a=t.length;e<a;e++)i=t[e],s.set(i,r),r+=i.length;return s}},i={arraySet:function(t,e,a,n,r){for(var i=0;i<n;i++)t[r+i]=e[a+i]},flattenChunks:function(t){return[].concat.apply([],t)}};a.setTyped=function(t){t?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,r)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,i))},a.setTyped(n)},{}],2:[function(t,e,a){"use strict";var l=t("./common"),r=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(t){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){i=!1}for(var o=new l.Buf8(256),n=0;n<256;n++)o[n]=252<=n?6:248<=n?5:240<=n?4:224<=n?3:192<=n?2:1;function _(t,e){if(e<65534&&(t.subarray&&i||!t.subarray&&r))return String.fromCharCode.apply(null,l.shrinkBuf(t,e));for(var a="",n=0;n<e;n++)a+=String.fromCharCode(t[n]);return a}o[254]=o[254]=1,a.string2buf=function(t){var e,a,n,r,i,s=t.length,h=0;for(r=0;r<s;r++)55296==(64512&(a=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(n=t.charCodeAt(r+1)))&&(a=65536+(a-55296<<10)+(n-56320),r++),h+=a<128?1:a<2048?2:a<65536?3:4;for(e=new l.Buf8(h),r=i=0;i<h;r++)55296==(64512&(a=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(n=t.charCodeAt(r+1)))&&(a=65536+(a-55296<<10)+(n-56320),r++),a<128?e[i++]=a:(a<2048?e[i++]=192|a>>>6:(a<65536?e[i++]=224|a>>>12:(e[i++]=240|a>>>18,e[i++]=128|a>>>12&63),e[i++]=128|a>>>6&63),e[i++]=128|63&a);return e},a.buf2binstring=function(t){return _(t,t.length)},a.binstring2buf=function(t){for(var e=new l.Buf8(t.length),a=0,n=e.length;a<n;a++)e[a]=t.charCodeAt(a);return e},a.buf2string=function(t,e){var a,n,r,i,s=e||t.length,h=new Array(2*s);for(a=n=0;a<s;)if((r=t[a++])<128)h[n++]=r;else if(4<(i=o[r]))h[n++]=65533,a+=i-1;else{for(r&=2===i?31:3===i?15:7;1<i&&a<s;)r=r<<6|63&t[a++],i--;1<i?h[n++]=65533:r<65536?h[n++]=r:(r-=65536,h[n++]=55296|r>>10&1023,h[n++]=56320|1023&r)}return _(h,n)},a.utf8border=function(t,e){var a;for((e=e||t.length)>t.length&&(e=t.length),a=e-1;0<=a&&128==(192&t[a]);)a--;return a<0?e:0===a?e:a+o[t[a]]>e?a:e}},{"./common":1}],3:[function(t,e,a){"use strict";e.exports=function(t,e,a,n){for(var r=65535&t|0,i=t>>>16&65535|0,s=0;0!==a;){for(a-=s=2e3<a?2e3:a;i=i+(r=r+e[n++]|0)|0,--s;);r%=65521,i%=65521}return r|i<<16|0}},{}],4:[function(t,e,a){"use strict";var h=function(){for(var t,e=[],a=0;a<256;a++){t=a;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e}();e.exports=function(t,e,a,n){var r=h,i=n+a;t^=-1;for(var s=n;s<i;s++)t=t>>>8^r[255&(t^e[s])];return-1^t}},{}],5:[function(t,e,a){"use strict";var l,u=t("../utils/common"),o=t("./trees"),f=t("./adler32"),c=t("./crc32"),n=t("./messages"),_=0,d=4,p=0,g=-2,m=-1,b=4,r=2,v=8,w=9,i=286,s=30,h=19,y=2*i+1,k=15,z=3,x=258,B=x+z+1,A=42,C=113,S=1,j=2,E=3,U=4;function D(t,e){return t.msg=n[e],e}function I(t){return(t<<1)-(4<t?9:0)}function O(t){for(var e=t.length;0<=--e;)t[e]=0}function q(t){var e=t.state,a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(u.arraySet(t.output,e.pending_buf,e.pending_out,a,t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))}function T(t,e){o._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,q(t.strm)}function L(t,e){t.pending_buf[t.pending++]=e}function N(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function R(t,e){var a,n,r=t.max_chain_length,i=t.strstart,s=t.prev_length,h=t.nice_match,l=t.strstart>t.w_size-B?t.strstart-(t.w_size-B):0,o=t.window,_=t.w_mask,d=t.prev,u=t.strstart+x,f=o[i+s-1],c=o[i+s];t.prev_length>=t.good_match&&(r>>=2),h>t.lookahead&&(h=t.lookahead);do{if(o[(a=e)+s]===c&&o[a+s-1]===f&&o[a]===o[i]&&o[++a]===o[i+1]){i+=2,a++;do{}while(o[++i]===o[++a]&&o[++i]===o[++a]&&o[++i]===o[++a]&&o[++i]===o[++a]&&o[++i]===o[++a]&&o[++i]===o[++a]&&o[++i]===o[++a]&&o[++i]===o[++a]&&i<u);if(n=x-(u-i),i=u-x,s<n){if(t.match_start=e,h<=(s=n))break;f=o[i+s-1],c=o[i+s]}}}while((e=d[e&_])>l&&0!=--r);return s<=t.lookahead?s:t.lookahead}function H(t){var e,a,n,r,i,s,h,l,o,_,d=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=d+(d-B)){for(u.arraySet(t.window,t.window,d,d,0),t.match_start-=d,t.strstart-=d,t.block_start-=d,e=a=t.hash_size;n=t.head[--e],t.head[e]=d<=n?n-d:0,--a;);for(e=a=d;n=t.prev[--e],t.prev[e]=d<=n?n-d:0,--a;);r+=d}if(0===t.strm.avail_in)break;if(s=t.strm,h=t.window,l=t.strstart+t.lookahead,o=r,_=void 0,_=s.avail_in,o<_&&(_=o),a=0===_?0:(s.avail_in-=_,u.arraySet(h,s.input,s.next_in,_,l),1===s.state.wrap?s.adler=f(s.adler,h,_,l):2===s.state.wrap&&(s.adler=c(s.adler,h,_,l)),s.next_in+=_,s.total_in+=_,_),t.lookahead+=a,t.lookahead+t.insert>=z)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=(t.ins_h<<t.hash_shift^t.window[i+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[i+z-1])&t.hash_mask,t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<z)););}while(t.lookahead<B&&0!==t.strm.avail_in)}function F(t,e){for(var a,n;;){if(t.lookahead<B){if(H(t),t.lookahead<B&&e===_)return S;if(0===t.lookahead)break}if(a=0,t.lookahead>=z&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+z-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-B&&(t.match_length=R(t,a)),t.match_length>=z)if(n=o._tr_tally(t,t.strstart-t.match_start,t.match_length-z),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=z){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+z-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(T(t,!1),0===t.strm.avail_out))return S}return t.insert=t.strstart<z-1?t.strstart:z-1,e===d?(T(t,!0),0===t.strm.avail_out?E:U):t.last_lit&&(T(t,!1),0===t.strm.avail_out)?S:j}function K(t,e){for(var a,n,r;;){if(t.lookahead<B){if(H(t),t.lookahead<B&&e===_)return S;if(0===t.lookahead)break}if(a=0,t.lookahead>=z&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+z-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=z-1,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-B&&(t.match_length=R(t,a),t.match_length<=5&&(1===t.strategy||t.match_length===z&&4096<t.strstart-t.match_start)&&(t.match_length=z-1)),t.prev_length>=z&&t.match_length<=t.prev_length){for(r=t.strstart+t.lookahead-z,n=o._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-z),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+z-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=z-1,t.strstart++,n&&(T(t,!1),0===t.strm.avail_out))return S}else if(t.match_available){if((n=o._tr_tally(t,0,t.window[t.strstart-1]))&&T(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return S}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=o._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<z-1?t.strstart:z-1,e===d?(T(t,!0),0===t.strm.avail_out?E:U):t.last_lit&&(T(t,!1),0===t.strm.avail_out)?S:j}function M(t,e,a,n,r){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=n,this.func=r}function P(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new u.Buf16(2*y),this.dyn_dtree=new u.Buf16(2*(2*s+1)),this.bl_tree=new u.Buf16(2*(2*h+1)),O(this.dyn_ltree),O(this.dyn_dtree),O(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new u.Buf16(k+1),this.heap=new u.Buf16(2*i+1),O(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new u.Buf16(2*i+1),O(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function G(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=r,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?A:C,t.adler=2===e.wrap?0:1,e.last_flush=_,o._tr_init(e),p):D(t,g)}function J(t){var e,a=G(t);return a===p&&((e=t.state).window_size=2*e.w_size,O(e.head),e.max_lazy_match=l[e.level].max_lazy,e.good_match=l[e.level].good_length,e.nice_match=l[e.level].nice_length,e.max_chain_length=l[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=z-1,e.match_available=0,e.ins_h=0),a}function Q(t,e,a,n,r,i){if(!t)return g;var s=1;if(e===m&&(e=6),n<0?(s=0,n=-n):15<n&&(s=2,n-=16),r<1||w<r||a!==v||n<8||15<n||e<0||9<e||i<0||b<i)return D(t,g);8===n&&(n=9);var h=new P;return(t.state=h).strm=t,h.wrap=s,h.gzhead=null,h.w_bits=n,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=r+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+z-1)/z),h.window=new u.Buf8(2*h.w_size),h.head=new u.Buf16(h.hash_size),h.prev=new u.Buf16(h.w_size),h.lit_bufsize=1<<r+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new u.Buf8(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=e,h.strategy=i,h.method=a,J(t)}l=[new M(0,0,0,0,function(t,e){var a=65535;for(a>t.pending_buf_size-5&&(a=t.pending_buf_size-5);;){if(t.lookahead<=1){if(H(t),0===t.lookahead&&e===_)return S;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+a;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,T(t,!1),0===t.strm.avail_out))return S;if(t.strstart-t.block_start>=t.w_size-B&&(T(t,!1),0===t.strm.avail_out))return S}return t.insert=0,e===d?(T(t,!0),0===t.strm.avail_out?E:U):(t.strstart>t.block_start&&(T(t,!1),t.strm.avail_out),S)}),new M(4,4,8,4,F),new M(4,5,16,8,F),new M(4,6,32,32,F),new M(4,4,16,16,K),new M(8,16,32,32,K),new M(8,16,128,128,K),new M(8,32,128,256,K),new M(32,128,258,1024,K),new M(32,258,258,4096,K)],a.deflateInit=function(t,e){return Q(t,e,v,15,8,0)},a.deflateInit2=Q,a.deflateReset=J,a.deflateResetKeep=G,a.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?g:(t.state.gzhead=e,p):g},a.deflate=function(t,e){var a,n,r,i;if(!t||!t.state||5<e||e<0)return t?D(t,g):g;if(n=t.state,!t.output||!t.input&&0!==t.avail_in||666===n.status&&e!==d)return D(t,0===t.avail_out?-5:g);if(n.strm=t,a=n.last_flush,n.last_flush=e,n.status===A)if(2===n.wrap)t.adler=0,L(n,31),L(n,139),L(n,8),n.gzhead?(L(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),L(n,255&n.gzhead.time),L(n,n.gzhead.time>>8&255),L(n,n.gzhead.time>>16&255),L(n,n.gzhead.time>>24&255),L(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),L(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(L(n,255&n.gzhead.extra.length),L(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=c(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(L(n,0),L(n,0),L(n,0),L(n,0),L(n,0),L(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),L(n,3),n.status=C);else{var s=v+(n.w_bits-8<<4)<<8;s|=(2<=n.strategy||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(s|=32),s+=31-s%31,n.status=C,N(n,s),0!==n.strstart&&(N(n,t.adler>>>16),N(n,65535&t.adler)),t.adler=1}if(69===n.status)if(n.gzhead.extra){for(r=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>r&&(t.adler=c(t.adler,n.pending_buf,n.pending-r,r)),q(t),r=n.pending,n.pending!==n.pending_buf_size));)L(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>r&&(t.adler=c(t.adler,n.pending_buf,n.pending-r,r)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){r=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>r&&(t.adler=c(t.adler,n.pending_buf,n.pending-r,r)),q(t),r=n.pending,n.pending===n.pending_buf_size)){i=1;break}L(n,i=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0)}while(0!==i);n.gzhead.hcrc&&n.pending>r&&(t.adler=c(t.adler,n.pending_buf,n.pending-r,r)),0===i&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){r=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>r&&(t.adler=c(t.adler,n.pending_buf,n.pending-r,r)),q(t),r=n.pending,n.pending===n.pending_buf_size)){i=1;break}L(n,i=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0)}while(0!==i);n.gzhead.hcrc&&n.pending>r&&(t.adler=c(t.adler,n.pending_buf,n.pending-r,r)),0===i&&(n.status=103)}else n.status=103;if(103===n.status&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&q(t),n.pending+2<=n.pending_buf_size&&(L(n,255&t.adler),L(n,t.adler>>8&255),t.adler=0,n.status=C)):n.status=C),0!==n.pending){if(q(t),0===t.avail_out)return n.last_flush=-1,p}else if(0===t.avail_in&&I(e)<=I(a)&&e!==d)return D(t,-5);if(666===n.status&&0!==t.avail_in)return D(t,-5);if(0!==t.avail_in||0!==n.lookahead||e!==_&&666!==n.status){var h=2===n.strategy?function(t,e){for(var a;;){if(0===t.lookahead&&(H(t),0===t.lookahead)){if(e===_)return S;break}if(t.match_length=0,a=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(T(t,!1),0===t.strm.avail_out))return S}return t.insert=0,e===d?(T(t,!0),0===t.strm.avail_out?E:U):t.last_lit&&(T(t,!1),0===t.strm.avail_out)?S:j}(n,e):3===n.strategy?function(t,e){for(var a,n,r,i,s=t.window;;){if(t.lookahead<=x){if(H(t),t.lookahead<=x&&e===_)return S;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=z&&0<t.strstart&&(n=s[r=t.strstart-1])===s[++r]&&n===s[++r]&&n===s[++r]){i=t.strstart+x;do{}while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<i);t.match_length=x-(i-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=z?(a=o._tr_tally(t,1,t.match_length-z),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(T(t,!1),0===t.strm.avail_out))return S}return t.insert=0,e===d?(T(t,!0),0===t.strm.avail_out?E:U):t.last_lit&&(T(t,!1),0===t.strm.avail_out)?S:j}(n,e):l[n.level].func(n,e);if(h!==E&&h!==U||(n.status=666),h===S||h===E)return 0===t.avail_out&&(n.last_flush=-1),p;if(h===j&&(1===e?o._tr_align(n):5!==e&&(o._tr_stored_block(n,0,0,!1),3===e&&(O(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),q(t),0===t.avail_out))return n.last_flush=-1,p}return e!==d?p:n.wrap<=0?1:(2===n.wrap?(L(n,255&t.adler),L(n,t.adler>>8&255),L(n,t.adler>>16&255),L(n,t.adler>>24&255),L(n,255&t.total_in),L(n,t.total_in>>8&255),L(n,t.total_in>>16&255),L(n,t.total_in>>24&255)):(N(n,t.adler>>>16),N(n,65535&t.adler)),q(t),0<n.wrap&&(n.wrap=-n.wrap),0!==n.pending?p:1)},a.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==A&&69!==e&&73!==e&&91!==e&&103!==e&&e!==C&&666!==e?D(t,g):(t.state=null,e===C?D(t,-3):p):g},a.deflateSetDictionary=function(t,e){var a,n,r,i,s,h,l,o,_=e.length;if(!t||!t.state)return g;if(2===(i=(a=t.state).wrap)||1===i&&a.status!==A||a.lookahead)return g;for(1===i&&(t.adler=f(t.adler,e,_,0)),a.wrap=0,_>=a.w_size&&(0===i&&(O(a.head),a.strstart=0,a.block_start=0,a.insert=0),o=new u.Buf8(a.w_size),u.arraySet(o,e,_-a.w_size,a.w_size,0),e=o,_=a.w_size),s=t.avail_in,h=t.next_in,l=t.input,t.avail_in=_,t.next_in=0,t.input=e,H(a);a.lookahead>=z;){for(n=a.strstart,r=a.lookahead-(z-1);a.ins_h=(a.ins_h<<a.hash_shift^a.window[n+z-1])&a.hash_mask,a.prev[n&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=n,n++,--r;);a.strstart=n,a.lookahead=z-1,H(a)}return a.strstart+=a.lookahead,a.block_start=a.strstart,a.insert=a.lookahead,a.lookahead=0,a.match_length=a.prev_length=z-1,a.match_available=0,t.next_in=h,t.input=l,t.avail_in=s,a.wrap=i,p},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":4,"./messages":6,"./trees":7}],6:[function(t,e,a){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],7:[function(t,e,a){"use strict";var l=t("../utils/common"),h=0,o=1;function n(t){for(var e=t.length;0<=--e;)t[e]=0}var _=0,s=29,d=256,u=d+1+s,f=30,c=19,g=2*u+1,m=15,r=16,p=7,b=256,v=16,w=17,y=18,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],A=new Array(2*(u+2));n(A);var C=new Array(2*f);n(C);var S=new Array(512);n(S);var j=new Array(256);n(j);var E=new Array(s);n(E);var U,D,I,O=new Array(f);function q(t,e,a,n,r){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=n,this.max_length=r,this.has_stree=t&&t.length}function i(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function T(t){return t<256?S[t]:S[256+(t>>>7)]}function L(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function N(t,e,a){t.bi_valid>r-a?(t.bi_buf|=e<<t.bi_valid&65535,L(t,t.bi_buf),t.bi_buf=e>>r-t.bi_valid,t.bi_valid+=a-r):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)}function R(t,e,a){N(t,a[2*e],a[2*e+1])}function H(t,e){for(var a=0;a|=1&t,t>>>=1,a<<=1,0<--e;);return a>>>1}function F(t,e,a){var n,r,i=new Array(m+1),s=0;for(n=1;n<=m;n++)i[n]=s=s+a[n-1]<<1;for(r=0;r<=e;r++){var h=t[2*r+1];0!==h&&(t[2*r]=H(i[h]++,h))}}function K(t){var e;for(e=0;e<u;e++)t.dyn_ltree[2*e]=0;for(e=0;e<f;e++)t.dyn_dtree[2*e]=0;for(e=0;e<c;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*b]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function M(t){8<t.bi_valid?L(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function P(t,e,a,n){var r=2*e,i=2*a;return t[r]<t[i]||t[r]===t[i]&&n[e]<=n[a]}function G(t,e,a){for(var n=t.heap[a],r=a<<1;r<=t.heap_len&&(r<t.heap_len&&P(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!P(e,n,t.heap[r],t.depth));)t.heap[a]=t.heap[r],a=r,r<<=1;t.heap[a]=n}function J(t,e,a){var n,r,i,s,h=0;if(0!==t.last_lit)for(;n=t.pending_buf[t.d_buf+2*h]<<8|t.pending_buf[t.d_buf+2*h+1],r=t.pending_buf[t.l_buf+h],h++,0===n?R(t,r,e):(R(t,(i=j[r])+d+1,e),0!==(s=k[i])&&N(t,r-=E[i],s),R(t,i=T(--n),a),0!==(s=z[i])&&N(t,n-=O[i],s)),h<t.last_lit;);R(t,b,e)}function Q(t,e){var a,n,r,i=e.dyn_tree,s=e.stat_desc.static_tree,h=e.stat_desc.has_stree,l=e.stat_desc.elems,o=-1;for(t.heap_len=0,t.heap_max=g,a=0;a<l;a++)0!==i[2*a]?(t.heap[++t.heap_len]=o=a,t.depth[a]=0):i[2*a+1]=0;for(;t.heap_len<2;)i[2*(r=t.heap[++t.heap_len]=o<2?++o:0)]=1,t.depth[r]=0,t.opt_len--,h&&(t.static_len-=s[2*r+1]);for(e.max_code=o,a=t.heap_len>>1;1<=a;a--)G(t,i,a);for(r=l;a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],G(t,i,1),n=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=n,i[2*r]=i[2*a]+i[2*n],t.depth[r]=(t.depth[a]>=t.depth[n]?t.depth[a]:t.depth[n])+1,i[2*a+1]=i[2*n+1]=r,t.heap[1]=r++,G(t,i,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var a,n,r,i,s,h,l=e.dyn_tree,o=e.max_code,_=e.stat_desc.static_tree,d=e.stat_desc.has_stree,u=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,c=e.stat_desc.max_length,p=0;for(i=0;i<=m;i++)t.bl_count[i]=0;for(l[2*t.heap[t.heap_max]+1]=0,a=t.heap_max+1;a<g;a++)c<(i=l[2*l[2*(n=t.heap[a])+1]+1]+1)&&(i=c,p++),l[2*n+1]=i,o<n||(t.bl_count[i]++,s=0,f<=n&&(s=u[n-f]),h=l[2*n],t.opt_len+=h*(i+s),d&&(t.static_len+=h*(_[2*n+1]+s)));if(0!==p){do{for(i=c-1;0===t.bl_count[i];)i--;t.bl_count[i]--,t.bl_count[i+1]+=2,t.bl_count[c]--,p-=2}while(0<p);for(i=c;0!==i;i--)for(n=t.bl_count[i];0!==n;)o<(r=t.heap[--a])||(l[2*r+1]!==i&&(t.opt_len+=(i-l[2*r+1])*l[2*r],l[2*r+1]=i),n--)}}(t,e),F(i,o,t.bl_count)}function V(t,e,a){var n,r,i=-1,s=e[1],h=0,l=7,o=4;for(0===s&&(l=138,o=3),e[2*(a+1)+1]=65535,n=0;n<=a;n++)r=s,s=e[2*(n+1)+1],++h<l&&r===s||(h<o?t.bl_tree[2*r]+=h:0!==r?(r!==i&&t.bl_tree[2*r]++,t.bl_tree[2*v]++):h<=10?t.bl_tree[2*w]++:t.bl_tree[2*y]++,i=r,(h=0)===s?(l=138,o=3):r===s?(l=6,o=3):(l=7,o=4))}function W(t,e,a){var n,r,i=-1,s=e[1],h=0,l=7,o=4;for(0===s&&(l=138,o=3),n=0;n<=a;n++)if(r=s,s=e[2*(n+1)+1],!(++h<l&&r===s)){if(h<o)for(;R(t,r,t.bl_tree),0!=--h;);else 0!==r?(r!==i&&(R(t,r,t.bl_tree),h--),R(t,v,t.bl_tree),N(t,h-3,2)):h<=10?(R(t,w,t.bl_tree),N(t,h-3,3)):(R(t,y,t.bl_tree),N(t,h-11,7));i=r,(h=0)===s?(l=138,o=3):r===s?(l=6,o=3):(l=7,o=4)}}n(O);var X=!1;function Y(t,e,a,n){var r,i,s,h;N(t,(_<<1)+(n?1:0),3),i=e,s=a,h=!0,M(r=t),h&&(L(r,s),L(r,~s)),l.arraySet(r.pending_buf,r.window,i,s,r.pending),r.pending+=s}a._tr_init=function(t){X||(function(){var t,e,a,n,r,i=new Array(m+1);for(n=a=0;n<s-1;n++)for(E[n]=a,t=0;t<1<<k[n];t++)j[a++]=n;for(j[a-1]=n,n=r=0;n<16;n++)for(O[n]=r,t=0;t<1<<z[n];t++)S[r++]=n;for(r>>=7;n<f;n++)for(O[n]=r<<7,t=0;t<1<<z[n]-7;t++)S[256+r++]=n;for(e=0;e<=m;e++)i[e]=0;for(t=0;t<=143;)A[2*t+1]=8,t++,i[8]++;for(;t<=255;)A[2*t+1]=9,t++,i[9]++;for(;t<=279;)A[2*t+1]=7,t++,i[7]++;for(;t<=287;)A[2*t+1]=8,t++,i[8]++;for(F(A,u+1,i),t=0;t<f;t++)C[2*t+1]=5,C[2*t]=H(t,5);U=new q(A,k,d+1,u,m),D=new q(C,z,0,f,m),I=new q(new Array(0),x,0,c,p)}(),X=!0),t.l_desc=new i(t.dyn_ltree,U),t.d_desc=new i(t.dyn_dtree,D),t.bl_desc=new i(t.bl_tree,I),t.bi_buf=0,t.bi_valid=0,K(t)},a._tr_stored_block=Y,a._tr_flush_block=function(t,e,a,n){var r,i,s=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,a=4093624447;for(e=0;e<=31;e++,a>>>=1)if(1&a&&0!==t.dyn_ltree[2*e])return h;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return o;for(e=32;e<d;e++)if(0!==t.dyn_ltree[2*e])return o;return h}(t)),Q(t,t.l_desc),Q(t,t.d_desc),s=function(t){var e;for(V(t,t.dyn_ltree,t.l_desc.max_code),V(t,t.dyn_dtree,t.d_desc.max_code),Q(t,t.bl_desc),e=c-1;3<=e&&0===t.bl_tree[2*B[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),r=t.opt_len+3+7>>>3,(i=t.static_len+3+7>>>3)<=r&&(r=i)):r=i=a+5,a+4<=r&&-1!==e?Y(t,e,a,n):4===t.strategy||i===r?(N(t,2+(n?1:0),3),J(t,A,C)):(N(t,4+(n?1:0),3),function(t,e,a,n){var r;for(N(t,e-257,5),N(t,a-1,5),N(t,n-4,4),r=0;r<n;r++)N(t,t.bl_tree[2*B[r]+1],3);W(t,t.dyn_ltree,e-1),W(t,t.dyn_dtree,a-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),J(t,t.dyn_ltree,t.dyn_dtree)),K(t),n&&M(t)},a._tr_tally=function(t,e,a){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&a,t.last_lit++,0===e?t.dyn_ltree[2*a]++:(t.matches++,e--,t.dyn_ltree[2*(j[a]+d+1)]++,t.dyn_dtree[2*T(e)]++),t.last_lit===t.lit_bufsize-1},a._tr_align=function(t){var e;N(t,2,3),R(t,b,A),16===(e=t).bi_valid?(L(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}},{"../utils/common":1}],8:[function(t,e,a){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/lib/deflate.js":[function(t,e,a){"use strict";var s=t("./zlib/deflate"),h=t("./utils/common"),l=t("./utils/strings"),r=t("./zlib/messages"),i=t("./zlib/zstream"),o=Object.prototype.toString,_=0,d=-1,u=0,f=8;function c(t){if(!(this instanceof c))return new c(t);this.options=h.assign({level:d,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:u,to:""},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new i,this.strm.avail_out=0;var a=s.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(a!==_)throw new Error(r[a]);if(e.header&&s.deflateSetHeader(this.strm,e.header),e.dictionary){var n;if(n="string"==typeof e.dictionary?l.string2buf(e.dictionary):"[object ArrayBuffer]"===o.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(a=s.deflateSetDictionary(this.strm,n))!==_)throw new Error(r[a]);this._dict_set=!0}}function n(t,e){var a=new c(e);if(a.push(t,!0),a.err)throw a.msg||r[a.err];return a.result}c.prototype.push=function(t,e){var a,n,r=this.strm,i=this.options.chunkSize;if(this.ended)return!1;n=e===~~e?e:!0===e?4:0,"string"==typeof t?r.input=l.string2buf(t):"[object ArrayBuffer]"===o.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new h.Buf8(i),r.next_out=0,r.avail_out=i),1!==(a=s.deflate(r,n))&&a!==_)return this.onEnd(a),!(this.ended=!0);0!==r.avail_out&&(0!==r.avail_in||4!==n&&2!==n)||("string"===this.options.to?this.onData(l.buf2binstring(h.shrinkBuf(r.output,r.next_out))):this.onData(h.shrinkBuf(r.output,r.next_out)))}while((0<r.avail_in||0===r.avail_out)&&1!==a);return 4===n?(a=s.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===_):2!==n||(this.onEnd(_),!(r.avail_out=0))},c.prototype.onData=function(t){this.chunks.push(t)},c.prototype.onEnd=function(t){t===_&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},a.Deflate=c,a.deflate=n,a.deflateRaw=function(t,e){return(e=e||{}).raw=!0,n(t,e)},a.gzip=function(t,e){return(e=e||{}).gzip=!0,n(t,e)}},{"./utils/common":1,"./utils/strings":2,"./zlib/deflate":5,"./zlib/messages":6,"./zlib/zstream":8}]},{},[])("/lib/deflate.js")});

/*!
 * Copyright (c) 2023 Acoustic, L.P. All rights reserved.
 *
 * NOTICE: This file contains material that is confidential and proprietary to
 * Acoustic, L.P. and/or other developers. No license is granted under any intellectual or
 * industrial property rights of Acoustic, L.P. except as may be provided in an agreement with
 * Acoustic, L.P. Any unauthorized copying or distribution of content from this file is
 * prohibited.
 *
 * @version 6.4.20 (minified - CWE606 Mod)
 * @flags DEBUG
 */
// 原始
//if(window.TLT)throw"Attempting to recreate TLT. Library may be included more than once on the page.";if(window.TLT=function(){"use strict";var e,t,n,r,i,o,a,s,l,u,c,d,f,h=!1;function p(e){window.TLT&&e.persisted&&(TLT.terminationReason="",TLT.init())}function g(e,t,n,r){var i=null,a=null,l=TLT.getModule("replay"),u=TLT.getModule("TLCookie"),c=TLT.getModule("performance"),f=null,h=d.getOriginAndPath();t&&"string"==typeof t&&(n&&"string"==typeof n||(n=""),a={type:2,screenview:{type:e,name:t,originalUrl:h.path,url:TLT.normalizeUrl("",h.path,2),host:h.origin,referrer:n,title:document.title,queryParams:h.queryParams}},"LOAD"===e?f={type:"screenview_load",name:t}:"UNLOAD"===e&&(f={type:"screenview_unload",name:t}),f&&l&&(i=l.onevent(f)),i&&(a.dcid=i),"LOAD"!==e&&"UNLOAD"!==e||o.post("",a),f&&u&&u.onevent(f),f&&c&&c.onevent(f),f&&s&&s.onevent(f))}var m,v,y,w=(new Date).getTime(),b={},T={},S={},_=!1,x=null,E=function(){var e,t=[];function r(r){return d.indexOf(t,r)<0&&function(r){var i,o,a=l.framesBlacklist;if(e=e||[],r=r||null,void 0!==a&&a.length>0){for(o=0;o<a.length;o+=1)(i=n.queryAll(a[o],r))&&i.length>0&&(e=e.concat(i));t=t.concat(n.queryAll("iframe",r))}}(r.ownerDocument),d.indexOf(e,r)>-1}return r.clearCache=function(){e=null},r}(),C=null,k={config:["getConfig","getDefaultConfig","updateConfig","getCoreConfig","updateCoreConfig","getModuleConfig","updateModuleConfig","getServiceConfig","updateServiceConfig"],queue:["post","setAutoFlush","flushAll","setXHRLog"],browserBase:["getXPathFromNode","processDOMEvent"]},O=(y={},{normalizeModuleEvents:function(e,t,n,r){var i=y[e],o=!1,a=!1;n=n||X._getLocalTop(),i||(y[e]={loadFired:!1,pageHideFired:!1},d.forEach(t,(function(e){switch(e.name){case"load":o=!0,t.push(d.mixin(d.mixin({},e),{name:"pageshow"}));break;case"unload":a=!0,t.push(d.mixin(d.mixin({},e),{name:"pagehide"})),t.push(d.mixin(d.mixin({},e),{name:"beforeunload"}));break;case"change":d.isLegacyIE&&"w3c"===X.getFlavor()&&t.push(d.mixin(d.mixin({},e),{name:"propertychange"}))}})),o||a?(y[e].silentLoad=!o,y[e].silentUnload=!a,o||t.push({name:"load",target:n}),a||t.push({name:"unload",target:n})):delete y[e])},canPublish:function(e,t){var n;if(!1===y.hasOwnProperty(e))return!0;switch(n=y[e],t.type){case"load":return n.pageHideFired=!1,n.loadFired=!0,!n.silentLoad;case"pageshow":return n.pageHideFired=!1,t.type="load",!n.loadFired&&!n.silentLoad;case"pagehide":return t.type="unload",n.loadFired=!1,n.pageHideFired=!0,!n.silentUnload;case"unload":case"beforeunload":return t.type="unload",n.loadFired=!1,!n.pageHideFired&&!n.silentUnload}return!0},isUnload:function(e){return"object"==typeof e&&("unload"===e.type||"beforeunload"===e.type||"pagehide"===e.type)}}),L={},I={},M={},D=[],P=function(){},A=null,R=!0,z=function(){},N=!1,U=function(){var e=window.location,t=e.pathname,n=e.hash,r="";return function(){var i=e.pathname,o=e.hash,a=r;i!==t?a=TLT.normalizeUrl("",i+o,2):o!==n&&(a=TLT.normalizeUrl("",o,2)),a!==r&&(r&&g("UNLOAD",r),g("LOAD",a),r=a,t=i,n=o)}}(),V=function(e,t){var n,r,i,o,a=null;if(!e||!t)return a;for(n=0,r=e.length;n<r;n+=1)switch(typeof(i=e[n])){case"object":(o=new RegExp(i.regex,i.flags).exec(t))&&(a=o[0]);break;case"string":-1!==t.indexOf(i)&&(a=i)}return a},F=function(e,t){var r,i,o,a,s,u,c=!1,f=l.blockedElements;if(!f||!f.length)return F=function(){return!1},c;if(!e||!e.nodeType)return c;for(t=t||d.getDocument(e),r=0,o=f.length;r<o&&!c;r+=1)for(i=0,u=(s=n.queryAll(f[r],t)).length;i<u&&!c;i+=1)c=(a=s[i]).contains?a.contains(e):a===e;return c},H=function(e){var t=!1;return e&&"a"===d.getTagName(e)&&-1!==["intent:","mailto:","sms:","tel:"].indexOf(e.protocol)&&(t=!0),t},j=function(){var e=null,t="tltTabId";try{(e=sessionStorage.getItem(t))||(e=d.getRandomString(4),sessionStorage.setItem(t,e))}catch(e){d.clog("Tab Id: Session Storage access exception.",e)}return e},X={debugMode:!0,getBlockedUA:V,hasExcludedProtocol:H,getTabIndex:j,getTLTSessionCookieInfo:function(){return b},_loadGlobalsForUnitTesting:function(u){d=u.utils,e=u.getService("ajax"),t=u.getService("browserBase"),n=u.getService("browser"),r=u.getService("config"),i=u.getService("domCapture"),o=u.getService("queue"),a=u.getService("serializer"),s=u.getModule("dataLayer"),l=r?r.getCoreConfig():null},getStartTime:function(){return w},getPageId:function(){return m||"#"},getTabId:function(){return v},isMousemovementDetected:function(){return h},setSessionCookieInfo:function(e,t,n){b.tltCookieName=t,b.tltCookieValue=n},getLibraryVersion:function(){return"6.4.20"},getCurrentWebEvent:function(){return L},normalizeUrl:function(e,t,n){var r,i;if((r=this.getCoreConfig()).normalization&&r.normalization.urlFunction){"string"==typeof(i=r.normalization.urlFunction)&&(i=d.access(i));try{t=i(t,n)}catch(e){d.clog("URL Normalization error",t,e)}}return t},getCurrentOffset:function(){return this.getService("message").getCurrentOffset()},initLib:function(e,t){return this.initLibAdv(e,t,{},!0,!0,!0,!0,!0)},initLibAdv:function(e,t,n,r,i,o,a,s){return"object"==typeof pako&&void 0!==pako&&void 0!==pako.deflate&&void 0!==pako.Deflate?console&&console.info("Pako is already loaded."):!0===r&&(window.pako=function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){return i(t[a][1][e]||e)}),c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t,n,r=Array.prototype.slice.call(arguments,1);r.length;){var i=r.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var o in i)t=i,n=o,Object.prototype.hasOwnProperty.call(t,n)&&(e[o]=i[o])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,a;for(t=r=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),t=i=0,n=e.length;t<n;t++)o=e[t],a.set(o,i),i+=o.length;return a}},o={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(r)},{}],2:[function(e,t,n){var r=e("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function l(e,t){if(t<65534&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,n.string2buf=function(e){var t,n,i,o,a,s=e.length,l=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),o=a=0;a<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[a++]=n:(n<2048?t[a++]=192|n>>>6:(n<65536?t[a++]=224|n>>>12:(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63),t[a++]=128|n>>>6&63),t[a++]=128|63&n);return t},n.buf2binstring=function(e){return l(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,i,o,s=t||e.length,u=new Array(2*s);for(n=r=0;n<s;)if((i=e[n++])<128)u[r++]=i;else if(4<(o=a[i]))u[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;1<o&&n<s;)i=i<<6|63&e[n++],o--;1<o?u[r++]=65533:i<65536?u[r++]=i:(i-=65536,u[r++]=55296|i>>10&1023,u[r++]=56320|1023&i)}return l(u,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}},{"./common":1}],3:[function(e,t,n){t.exports=function(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){for(n-=a=2e3<n?2e3:n;o=o+(i=i+t[r++]|0)|0,--a;);i%=65521,o%=65521}return i|o<<16|0}},{}],4:[function(e,t,n){var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,i){var o=r,a=i+n;e^=-1;for(var s=i;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},{}],5:[function(e,t,n){var r,i=e("../utils/common"),o=e("./trees"),a=e("./adler32"),s=e("./crc32"),l=e("./messages"),u=0,c=4,d=0,f=-2,h=-1,p=4,g=2,m=8,v=9,y=286,w=30,b=19,T=2*y+1,S=15,_=3,x=258,E=x+_+1,C=42,k=113,O=1,L=2,I=3,M=4;function D(e,t){return e.msg=l[t],t}function P(e){return(e<<1)-(4<e?9:0)}function A(e){for(var t=e.length;0<=--t;)e[t]=0}function R(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function z(e,t){o._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,R(e.strm)}function N(e,t){e.pending_buf[e.pending++]=t}function U(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function V(e,t){var n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-E?e.strstart-(e.w_size-E):0,u=e.window,c=e.w_mask,d=e.prev,f=e.strstart+x,h=u[o+a-1],p=u[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(n=t)+a]===p&&u[n+a-1]===h&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<f);if(r=x-(f-o),o=f-x,a<r){if(e.match_start=t,s<=(a=r))break;h=u[o+a-1],p=u[o+a]}}}while((t=d[t&c])>l&&0!=--i);return a<=e.lookahead?a:e.lookahead}function F(e){var t,n,r,o,l,u,c,d,f,h,p=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-E)){for(i.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=n=e.hash_size;r=e.head[--t],e.head[t]=p<=r?r-p:0,--n;);for(t=n=p;r=e.prev[--t],e.prev[t]=p<=r?r-p:0,--n;);o+=p}if(0===e.strm.avail_in)break;if(u=e.strm,c=e.window,d=e.strstart+e.lookahead,h=void 0,(f=o)<(h=u.avail_in)&&(h=f),n=0===h?0:(u.avail_in-=h,i.arraySet(c,u.input,u.next_in,h,d),1===u.state.wrap?u.adler=a(u.adler,c,h,d):2===u.state.wrap&&(u.adler=s(u.adler,c,h,d)),u.next_in+=h,u.total_in+=h,h),e.lookahead+=n,e.lookahead+e.insert>=_)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+_-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<_)););}while(e.lookahead<E&&0!==e.strm.avail_in)}function H(e,t){for(var n,r;;){if(e.lookahead<E){if(F(e),e.lookahead<E&&t===u)return O;if(0===e.lookahead)break}if(n=0,e.lookahead>=_&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+_-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-E&&(e.match_length=V(e,n)),e.match_length>=_)if(r=o._tr_tally(e,e.strstart-e.match_start,e.match_length-_),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=_){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+_-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(z(e,!1),0===e.strm.avail_out))return O}return e.insert=e.strstart<_-1?e.strstart:_-1,t===c?(z(e,!0),0===e.strm.avail_out?I:M):e.last_lit&&(z(e,!1),0===e.strm.avail_out)?O:L}function j(e,t){for(var n,r,i;;){if(e.lookahead<E){if(F(e),e.lookahead<E&&t===u)return O;if(0===e.lookahead)break}if(n=0,e.lookahead>=_&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+_-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=_-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-E&&(e.match_length=V(e,n),e.match_length<=5&&(1===e.strategy||e.match_length===_&&4096<e.strstart-e.match_start)&&(e.match_length=_-1)),e.prev_length>=_&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-_,r=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-_),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+_-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=_-1,e.strstart++,r&&(z(e,!1),0===e.strm.avail_out))return O}else if(e.match_available){if((r=o._tr_tally(e,0,e.window[e.strstart-1]))&&z(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return O}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<_-1?e.strstart:_-1,t===c?(z(e,!0),0===e.strm.avail_out?I:M):e.last_lit&&(z(e,!1),0===e.strm.avail_out)?O:L}function X(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function q(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=m,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*T),this.dyn_dtree=new i.Buf16(2*(2*w+1)),this.bl_tree=new i.Buf16(2*(2*b+1)),A(this.dyn_ltree),A(this.dyn_dtree),A(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(S+1),this.heap=new i.Buf16(2*y+1),A(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*y+1),A(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function B(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=g,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?C:k,e.adler=2===t.wrap?0:1,t.last_flush=u,o._tr_init(t),d):D(e,f)}function Y(e){var t,n=B(e);return n===d&&((t=e.state).window_size=2*t.w_size,A(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=_-1,t.match_available=0,t.ins_h=0),n}function W(e,t,n,r,o,a){if(!e)return f;var s=1;if(t===h&&(t=6),r<0?(s=0,r=-r):15<r&&(s=2,r-=16),o<1||v<o||n!==m||r<8||15<r||t<0||9<t||a<0||p<a)return D(e,f);8===r&&(r=9);var l=new q;return(e.state=l).strm=e,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+_-1)/_),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=n,Y(e)}r=[new X(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(F(e),0===e.lookahead&&t===u)return O;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,z(e,!1),0===e.strm.avail_out))return O;if(e.strstart-e.block_start>=e.w_size-E&&(z(e,!1),0===e.strm.avail_out))return O}return e.insert=0,t===c?(z(e,!0),0===e.strm.avail_out?I:M):(e.strstart>e.block_start&&(z(e,!1),e.strm.avail_out),O)})),new X(4,4,8,4,H),new X(4,5,16,8,H),new X(4,6,32,32,H),new X(4,4,16,16,j),new X(8,16,32,32,j),new X(8,16,128,128,j),new X(8,32,128,256,j),new X(32,128,258,1024,j),new X(32,258,258,4096,j)],n.deflateInit=function(e,t){return W(e,t,m,15,8,0)},n.deflateInit2=W,n.deflateReset=Y,n.deflateResetKeep=B,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?f:(e.state.gzhead=t,d):f},n.deflate=function(e,t){var n,i,a,l;if(!e||!e.state||5<t||t<0)return e?D(e,f):f;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&t!==c)return D(e,0===e.avail_out?-5:f);if(i.strm=e,n=i.last_flush,i.last_flush=t,i.status===C)if(2===i.wrap)e.adler=0,N(i,31),N(i,139),N(i,8),i.gzhead?(N(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),N(i,255&i.gzhead.time),N(i,i.gzhead.time>>8&255),N(i,i.gzhead.time>>16&255),N(i,i.gzhead.time>>24&255),N(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),N(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(N(i,255&i.gzhead.extra.length),N(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(N(i,0),N(i,0),N(i,0),N(i,0),N(i,0),N(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),N(i,3),i.status=k);else{var h=m+(i.w_bits-8<<4)<<8;h|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(h|=32),h+=31-h%31,i.status=k,U(i,h),0!==i.strstart&&(U(i,e.adler>>>16),U(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),R(e),a=i.pending,i.pending!==i.pending_buf_size));)N(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),R(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}N(i,l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),R(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}N(i,l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&R(e),i.pending+2<=i.pending_buf_size&&(N(i,255&e.adler),N(i,e.adler>>8&255),e.adler=0,i.status=k)):i.status=k),0!==i.pending){if(R(e),0===e.avail_out)return i.last_flush=-1,d}else if(0===e.avail_in&&P(t)<=P(n)&&t!==c)return D(e,-5);if(666===i.status&&0!==e.avail_in)return D(e,-5);if(0!==e.avail_in||0!==i.lookahead||t!==u&&666!==i.status){var p=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(F(e),0===e.lookahead)){if(t===u)return O;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(z(e,!1),0===e.strm.avail_out))return O}return e.insert=0,t===c?(z(e,!0),0===e.strm.avail_out?I:M):e.last_lit&&(z(e,!1),0===e.strm.avail_out)?O:L}(i,t):3===i.strategy?function(e,t){for(var n,r,i,a,s=e.window;;){if(e.lookahead<=x){if(F(e),e.lookahead<=x&&t===u)return O;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=_&&0<e.strstart&&(r=s[i=e.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){a=e.strstart+x;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);e.match_length=x-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=_?(n=o._tr_tally(e,1,e.match_length-_),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(z(e,!1),0===e.strm.avail_out))return O}return e.insert=0,t===c?(z(e,!0),0===e.strm.avail_out?I:M):e.last_lit&&(z(e,!1),0===e.strm.avail_out)?O:L}(i,t):r[i.level].func(i,t);if(p!==I&&p!==M||(i.status=666),p===O||p===I)return 0===e.avail_out&&(i.last_flush=-1),d;if(p===L&&(1===t?o._tr_align(i):5!==t&&(o._tr_stored_block(i,0,0,!1),3===t&&(A(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),R(e),0===e.avail_out))return i.last_flush=-1,d}return t!==c?d:i.wrap<=0?1:(2===i.wrap?(N(i,255&e.adler),N(i,e.adler>>8&255),N(i,e.adler>>16&255),N(i,e.adler>>24&255),N(i,255&e.total_in),N(i,e.total_in>>8&255),N(i,e.total_in>>16&255),N(i,e.total_in>>24&255)):(U(i,e.adler>>>16),U(i,65535&e.adler)),R(e),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?d:1)},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==C&&69!==t&&73!==t&&91!==t&&103!==t&&t!==k&&666!==t?D(e,f):(e.state=null,t===k?D(e,-3):d):f},n.deflateSetDictionary=function(e,t){var n,r,o,s,l,u,c,h,p=t.length;if(!e||!e.state)return f;if(2===(s=(n=e.state).wrap)||1===s&&n.status!==C||n.lookahead)return f;for(1===s&&(e.adler=a(e.adler,t,p,0)),n.wrap=0,p>=n.w_size&&(0===s&&(A(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new i.Buf8(n.w_size),i.arraySet(h,t,p-n.w_size,n.w_size,0),t=h,p=n.w_size),l=e.avail_in,u=e.next_in,c=e.input,e.avail_in=p,e.next_in=0,e.input=t,F(n);n.lookahead>=_;){for(r=n.strstart,o=n.lookahead-(_-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+_-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--o;);n.strstart=r,n.lookahead=_-1,F(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=_-1,n.match_available=0,e.next_in=u,e.input=c,e.avail_in=l,n.wrap=s,d},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":4,"./messages":6,"./trees":7}],6:[function(e,t,n){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],7:[function(e,t,n){var r=e("../utils/common"),i=0,o=1;function a(e){for(var t=e.length;0<=--t;)e[t]=0}var s=0,l=29,u=256,c=u+1+l,d=30,f=19,h=2*c+1,p=15,g=16,m=7,v=256,y=16,w=17,b=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],S=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],_=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],x=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],E=new Array(2*(c+2));a(E);var C=new Array(2*d);a(C);var k=new Array(512);a(k);var O=new Array(256);a(O);var L=new Array(l);a(L);var I,M,D,P=new Array(d);function A(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function R(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function z(e){return e<256?k[e]:k[256+(e>>>7)]}function N(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function U(e,t,n){e.bi_valid>g-n?(e.bi_buf|=t<<e.bi_valid&65535,N(e,e.bi_buf),e.bi_buf=t>>g-e.bi_valid,e.bi_valid+=n-g):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function V(e,t,n){U(e,n[2*t],n[2*t+1])}function F(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function H(e,t,n){var r,i,o=new Array(p+1),a=0;for(r=1;r<=p;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=F(o[s]++,s))}}function j(e){var t;for(t=0;t<c;t++)e.dyn_ltree[2*t]=0;for(t=0;t<d;t++)e.dyn_dtree[2*t]=0;for(t=0;t<f;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*v]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function X(e){8<e.bi_valid?N(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function q(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function B(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&q(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!q(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function Y(e,t,n){var r,i,o,a,s=0;if(0!==e.last_lit)for(;r=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],i=e.pending_buf[e.l_buf+s],s++,0===r?V(e,i,t):(V(e,(o=O[i])+u+1,t),0!==(a=T[o])&&U(e,i-=L[o],a),V(e,o=z(--r),n),0!==(a=S[o])&&U(e,r-=P[o],a)),s<e.last_lit;);V(e,v,t)}function W(e,t){var n,r,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=h,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=u,n=e.heap_len>>1;1<=n;n--)B(e,o,n);for(i=l;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],B(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,B(e,o,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,o,a,s,l=t.dyn_tree,u=t.max_code,c=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,g=t.stat_desc.extra_base,m=t.stat_desc.max_length,v=0;for(o=0;o<=p;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<h;n++)m<(o=l[2*l[2*(r=e.heap[n])+1]+1]+1)&&(o=m,v++),l[2*r+1]=o,u<r||(e.bl_count[o]++,a=0,g<=r&&(a=f[r-g]),s=l[2*r],e.opt_len+=s*(o+a),d&&(e.static_len+=s*(c[2*r+1]+a)));if(0!==v){do{for(o=m-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[m]--,v-=2}while(0<v);for(o=m;0!==o;o--)for(r=e.bl_count[o];0!==r;)u<(i=e.heap[--n])||(l[2*i+1]!==o&&(e.opt_len+=(o-l[2*i+1])*l[2*i],l[2*i+1]=o),r--)}}(e,t),H(o,u,e.bl_count)}function K(e,t,n){var r,i,o=-1,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<l&&i===a||(s<u?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[2*y]++):s<=10?e.bl_tree[2*w]++:e.bl_tree[2*b]++,o=i,(s=0)===a?(l=138,u=3):i===a?(l=6,u=3):(l=7,u=4))}function Q(e,t,n){var r,i,o=-1,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<l&&i===a)){if(s<u)for(;V(e,i,e.bl_tree),0!=--s;);else 0!==i?(i!==o&&(V(e,i,e.bl_tree),s--),V(e,y,e.bl_tree),U(e,s-3,2)):s<=10?(V(e,w,e.bl_tree),U(e,s-3,3)):(V(e,b,e.bl_tree),U(e,s-11,7));o=i,(s=0)===a?(l=138,u=3):i===a?(l=6,u=3):(l=7,u=4)}}a(P);var J=!1;function G(e,t,n,i){var o,a,l,u;U(e,(s<<1)+(i?1:0),3),a=t,l=n,u=!0,X(o=e),u&&(N(o,l),N(o,~l)),r.arraySet(o.pending_buf,o.window,a,l,o.pending),o.pending+=l}n._tr_init=function(e){J||(function(){var e,t,n,r,i,o=new Array(p+1);for(r=n=0;r<l-1;r++)for(L[r]=n,e=0;e<1<<T[r];e++)O[n++]=r;for(O[n-1]=r,r=i=0;r<16;r++)for(P[r]=i,e=0;e<1<<S[r];e++)k[i++]=r;for(i>>=7;r<d;r++)for(P[r]=i<<7,e=0;e<1<<S[r]-7;e++)k[256+i++]=r;for(t=0;t<=p;t++)o[t]=0;for(e=0;e<=143;)E[2*e+1]=8,e++,o[8]++;for(;e<=255;)E[2*e+1]=9,e++,o[9]++;for(;e<=279;)E[2*e+1]=7,e++,o[7]++;for(;e<=287;)E[2*e+1]=8,e++,o[8]++;for(H(E,c+1,o),e=0;e<d;e++)C[2*e+1]=5,C[2*e]=F(e,5);I=new A(E,T,u+1,c,p),M=new A(C,S,0,d,p),D=new A(new Array(0),_,0,f,m)}(),J=!0),e.l_desc=new R(e.dyn_ltree,I),e.d_desc=new R(e.dyn_dtree,M),e.bl_desc=new R(e.bl_tree,D),e.bi_buf=0,e.bi_valid=0,j(e)},n._tr_stored_block=G,n._tr_flush_block=function(e,t,n,r){var a,s,l=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return i;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return o;for(t=32;t<u;t++)if(0!==e.dyn_ltree[2*t])return o;return i}(e)),W(e,e.l_desc),W(e,e.d_desc),l=function(e){var t;for(K(e,e.dyn_ltree,e.l_desc.max_code),K(e,e.dyn_dtree,e.d_desc.max_code),W(e,e.bl_desc),t=f-1;3<=t&&0===e.bl_tree[2*x[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),a=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=a&&(a=s)):a=s=n+5,n+4<=a&&-1!==t?G(e,t,n,r):4===e.strategy||s===a?(U(e,2+(r?1:0),3),Y(e,E,C)):(U(e,4+(r?1:0),3),function(e,t,n,r){var i;for(U(e,t-257,5),U(e,n-1,5),U(e,r-4,4),i=0;i<r;i++)U(e,e.bl_tree[2*x[i]+1],3);Q(e,e.dyn_ltree,t-1),Q(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),Y(e,e.dyn_ltree,e.dyn_dtree)),j(e),r&&X(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(O[n]+u+1)]++,e.dyn_dtree[2*z(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){var t;U(e,2,3),V(e,v,E),16===(t=e).bi_valid?(N(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}},{"../utils/common":1}],8:[function(e,t,n){t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/lib/deflate.js":[function(e,t,n){var r=e("./zlib/deflate"),i=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/messages"),s=e("./zlib/zstream"),l=Object.prototype.toString,u=0,c=-1,d=0,f=8;function h(e){if(!(this instanceof h))return new h(e);this.options=i.assign({level:c,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==u)throw new Error(a[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var p;if(p="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=r.deflateSetDictionary(this.strm,p))!==u)throw new Error(a[n]);this._dict_set=!0}}function p(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}h.prototype.push=function(e,t){var n,a,s=this.strm,c=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(c),s.next_out=0,s.avail_out=c),1!==(n=r.deflate(s,a))&&n!==u)return this.onEnd(n),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===u):2!==a||(this.onEnd(u),!(s.avail_out=0))},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===u&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=h,n.deflate=p,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,p(e,t)}},{"./utils/common":1,"./utils/strings":2,"./zlib/deflate":5,"./zlib/messages":6,"./zlib/zstream":8}]},{},[])("/lib/deflate.js")),"function"==typeof Hammer&&void 0!==Hammer?console&&console.info("Hammer:"+Hammer.VERSION+" is already loaded. But you need 1.1.3."):!0===i&&function(e,t){var n=function e(t,n){return new e.Instance(t,n||{})};n.VERSION="1.1.3",n.defaults={behavior:{userSelect:"none",touchAction:"pan-y",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},n.DOCUMENT=document,n.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,n.HAS_TOUCHEVENTS="ontouchstart"in e,n.IS_MOBILE=/mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent),n.NO_MOUSEEVENTS=n.HAS_TOUCHEVENTS&&n.IS_MOBILE||n.HAS_POINTEREVENTS,n.CALCULATE_INTERVAL=25;var r={},i=n.DIRECTION_DOWN="down",o=n.DIRECTION_LEFT="left",a=n.DIRECTION_UP="up",s=n.DIRECTION_RIGHT="right",l=n.POINTER_MOUSE="mouse",u=n.POINTER_TOUCH="touch",c=n.POINTER_PEN="pen",d=n.EVENT_START="start",f=n.EVENT_MOVE="move",h=n.EVENT_END="end",p=n.EVENT_RELEASE="release",g=n.EVENT_TOUCH="touch";n.READY=!1,n.plugins=n.plugins||{},n.gestures=n.gestures||{};var m=n.utils={extend:function(e,n,r){for(var i in n)!n.hasOwnProperty(i)||e[i]!==t&&r||(e[i]=n[i]);return e},on:function(e,t,n){e.addEventListener(t,n,!1)},off:function(e,t,n){e.removeEventListener(t,n,!1)},each:function(e,n,r){var i,o;if("forEach"in e)e.forEach(n,r);else if(e.length!==t){for(i=0,o=e.length;o>i;i++)if(!1===n.call(r,e[i],i,e))return}else for(i in e)if(e.hasOwnProperty(i)&&!1===n.call(r,e[i],i,e))return},inStr:function(e,t){return e.indexOf(t)>-1},inArray:function(e,t){if(e.indexOf){var n=e.indexOf(t);return-1!==n&&n}for(var r=0,i=e.length;i>r;r++)if(e[r]===t)return r;return!1},toArray:function(e){return Array.prototype.slice.call(e,0)},hasParent:function(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1},getCenter:function(e){var t=[],n=[],r=[],i=[],o=Math.min,a=Math.max;return 1===e.length?{pageX:e[0].pageX,pageY:e[0].pageY,clientX:e[0].clientX,clientY:e[0].clientY}:(m.each(e,(function(e){t.push(e.pageX),n.push(e.pageY),r.push(e.clientX),i.push(e.clientY)})),{pageX:(o.apply(Math,t)+a.apply(Math,t))/2,pageY:(o.apply(Math,n)+a.apply(Math,n))/2,clientX:(o.apply(Math,r)+a.apply(Math,r))/2,clientY:(o.apply(Math,i)+a.apply(Math,i))/2})},getVelocity:function(e,t,n){return{x:Math.abs(t/e)||0,y:Math.abs(n/e)||0}},getAngle:function(e,t){var n=t.clientX-e.clientX,r=t.clientY-e.clientY;return 180*Math.atan2(r,n)/Math.PI},getDirection:function(e,t){return Math.abs(e.clientX-t.clientX)>=Math.abs(e.clientY-t.clientY)?e.clientX-t.clientX>0?o:s:e.clientY-t.clientY>0?a:i},getDistance:function(e,t){var n=t.clientX-e.clientX,r=t.clientY-e.clientY;return Math.sqrt(n*n+r*r)},getScale:function(e,t){return e.length>=2&&t.length>=2?this.getDistance(t[0],t[1])/this.getDistance(e[0],e[1]):1},getRotation:function(e,t){return e.length>=2&&t.length>=2?this.getAngle(t[1],t[0])-this.getAngle(e[1],e[0]):0},isVertical:function(e){return e==a||e==i},setPrefixedCss:function(e,t,n,r){var i=["","Webkit","Moz","O","ms"];t=m.toCamelCase(t);for(var o=0;o<i.length;o++){var a=t;if(i[o]&&(a=i[o]+a.slice(0,1).toUpperCase()+a.slice(1)),a in e.style){e.style[a]=(null==r||r)&&n||"";break}}},toggleBehavior:function(e,t,n){if(t&&e&&e.style){m.each(t,(function(t,r){m.setPrefixedCss(e,r,t,n)}));var r=n&&function(){return!1};"none"==t.userSelect&&(e.onselectstart=r),"none"==t.userDrag&&(e.ondragstart=r)}},toCamelCase:function(e){return e.replace(/[_-]([a-z])/g,(function(e){return e[1].toUpperCase()}))}},v=n.event={preventMouseEvents:!1,started:!1,shouldDetect:!1,on:function(e,t,n,r){var i=t.split(" ");m.each(i,(function(t){m.on(e,t,n),r&&r(t)}))},off:function(e,t,n,r){var i=t.split(" ");m.each(i,(function(t){m.off(e,t,n),r&&r(t)}))},onTouch:function(e,t,i){var o=this,a=function(r){var a,s=r.type.toLowerCase(),l=n.HAS_POINTEREVENTS,c=m.inStr(s,"mouse");c&&o.preventMouseEvents||(c&&t==d&&0===r.button?(o.preventMouseEvents=!1,o.shouldDetect=!0):l&&t==d?o.shouldDetect=1===r.buttons||y.matchType(u,r):c||t!=d||(o.preventMouseEvents=!0,o.shouldDetect=!0),l&&t!=h&&y.updatePointer(t,r),o.shouldDetect&&(a=o.doDetect.call(o,r,t,e,i)),a==h&&(o.preventMouseEvents=!1,o.shouldDetect=!1,y.reset()),l&&t==h&&y.updatePointer(t,r))};return this.on(e,r[t],a),a},doDetect:function(e,t,n,r){var i=this.getTouchList(e,t),o=i.length,a=t,s=i.trigger,l=o;t==d?s=g:t==h&&(s=p,l=i.length-(e.changedTouches?e.changedTouches.length:1)),l>0&&this.started&&(a=f),this.started=!0;var u=this.collectEventData(n,a,i,e);return t!=h&&r.call(w,u),s&&(u.changedLength=l,u.eventType=s,r.call(w,u),u.eventType=a,delete u.changedLength),a==h&&(r.call(w,u),this.started=!1),a},determineEventTypes:function(){var t;return t=n.HAS_POINTEREVENTS?e.PointerEvent?["pointerdown","pointermove","pointerup pointercancel lostpointercapture"]:["MSPointerDown","MSPointerMove","MSPointerUp MSPointerCancel MSLostPointerCapture"]:n.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],r[d]=t[0],r[f]=t[1],r[h]=t[2],r},getTouchList:function(e,t){if(n.HAS_POINTEREVENTS)return y.getTouchList();if(e.touches){if(t==f)return e.touches;var r=[],i=[].concat(m.toArray(e.touches),m.toArray(e.changedTouches)),o=[];return m.each(i,(function(e){!1===m.inArray(r,e.identifier)&&o.push(e),r.push(e.identifier)})),o}return e.identifier=1,[e]},collectEventData:function(e,t,n,r){var i=u;return m.inStr(r.type,"mouse")||y.matchType(l,r)?i=l:y.matchType(c,r)&&(i=c),{center:m.getCenter(n),timeStamp:Date.now(),target:r.target,touches:n,eventType:t,pointerType:i,srcEvent:r,preventDefault:function(){var e=this.srcEvent;e.preventManipulation&&e.preventManipulation(),e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return w.stopDetect()}}}},y=n.PointerEvent={pointers:{},getTouchList:function(){var e=[];return m.each(this.pointers,(function(t){e.push(t)})),e},updatePointer:function(e,t){e==h?delete this.pointers[t.pointerId]:(t.identifier=t.pointerId,this.pointers[t.pointerId]=t)},matchType:function(e,t){if(!t.pointerType)return!1;var n=t.pointerType,r={};return r[l]=n===(t.MSPOINTER_TYPE_MOUSE||l),r[u]=n===(t.MSPOINTER_TYPE_TOUCH||u),r[c]=n===(t.MSPOINTER_TYPE_PEN||c),r[e]},reset:function(){this.pointers={}}},w=n.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(e,t){this.current||(this.stopped=!1,this.current={inst:e,startEvent:m.extend({},t),lastEvent:!1,lastCalcEvent:!1,futureCalcEvent:!1,lastCalcData:{},name:""},this.detect(t))},detect:function(e){if(this.current&&!this.stopped){e=this.extendEventData(e);var t=this.current.inst,n=t.options;return m.each(this.gestures,(function(r){!this.stopped&&t.enabled&&n[r.name]&&r.handler.call(r,e,t)}),this),this.current&&(this.current.lastEvent=e),e.eventType==h&&this.stopDetect(),e}},stopDetect:function(){this.previous=m.extend({},this.current),this.current=null,this.stopped=!0},getCalculatedData:function(e,t,r,i,o){var a=this.current,s=!1,l=a.lastCalcEvent,u=a.lastCalcData;l&&e.timeStamp-l.timeStamp>n.CALCULATE_INTERVAL&&(t=l.center,r=e.timeStamp-l.timeStamp,i=e.center.clientX-l.center.clientX,o=e.center.clientY-l.center.clientY,s=!0),(e.eventType==g||e.eventType==p)&&(a.futureCalcEvent=e),(!a.lastCalcEvent||s)&&(u.velocity=m.getVelocity(r,i,o),u.angle=m.getAngle(t,e.center),u.direction=m.getDirection(t,e.center),a.lastCalcEvent=a.futureCalcEvent||e,a.futureCalcEvent=e),e.velocityX=u.velocity.x,e.velocityY=u.velocity.y,e.interimAngle=u.angle,e.interimDirection=u.direction},extendEventData:function(e){var t=this.current,n=t.startEvent,r=t.lastEvent||n;(e.eventType==g||e.eventType==p)&&(n.touches=[],m.each(e.touches,(function(e){n.touches.push({clientX:e.clientX,clientY:e.clientY})})));var i=e.timeStamp-n.timeStamp,o=e.center.clientX-n.center.clientX,a=e.center.clientY-n.center.clientY;return this.getCalculatedData(e,r.center,i,o,a),m.extend(e,{startEvent:n,deltaTime:i,deltaX:o,deltaY:a,distance:m.getDistance(n.center,e.center),angle:m.getAngle(n.center,e.center),direction:m.getDirection(n.center,e.center),scale:m.getScale(n.touches,e.touches),rotation:m.getRotation(n.touches,e.touches)}),e},register:function(e){var r=e.defaults||{};return r[e.name]===t&&(r[e.name]=!0),m.extend(n.defaults,r,!0),e.index=e.index||1e3,this.gestures.push(e),this.gestures.sort((function(e,t){return e.index<t.index?-1:e.index>t.index?1:0})),this.gestures}};n.Instance=function(e,t){var r=this;n.READY||(v.determineEventTypes(),m.each(n.gestures,(function(e){w.register(e)})),v.onTouch(n.DOCUMENT,f,w.detect),v.onTouch(n.DOCUMENT,h,w.detect),n.READY=!0),this.element=e,this.enabled=!0,m.each(t,(function(e,n){delete t[n],t[m.toCamelCase(n)]=e})),this.options=m.extend(m.extend({},n.defaults),t||{}),this.options.behavior&&m.toggleBehavior(this.element,this.options.behavior,!0),this.eventStartHandler=v.onTouch(e,d,(function(e){r.enabled&&e.eventType==d?w.startDetect(r,e):e.eventType==g&&w.detect(e)})),this.eventHandlers=[]},n.Instance.prototype={on:function(e,t){var n=this;return v.on(n.element,e,t,(function(e){n.eventHandlers.push({gesture:e,handler:t})})),n},off:function(e,t){var n=this;return v.off(n.element,e,t,(function(e){var r=m.inArray({gesture:e,handler:t});!1!==r&&n.eventHandlers.splice(r,1)})),n},trigger:function(e,t){t||(t={});var r=n.DOCUMENT.createEvent("Event");r.initEvent(e,!0,!0),r.gesture=t;var i=this.element;return m.hasParent(t.target,i)&&(i=t.target),i.dispatchEvent(r),this},enable:function(e){return this.enabled=e,this},dispose:function(){var e,t;for(m.toggleBehavior(this.element,this.options.behavior,!1),e=-1;t=this.eventHandlers[++e];)m.off(this.element,t.gesture,t.handler);return this.eventHandlers=[],v.off(this.element,r[d],this.eventStartHandler),null}},function(e){var t=!1;n.gestures.Drag={name:e,index:50,handler:function(n,r){var l=w.current;if(!(r.options.dragMaxTouches>0&&n.touches.length>r.options.dragMaxTouches))switch(n.eventType){case d:t=!1;break;case f:if(n.distance<r.options.dragMinDistance&&l.name!=e)return;var u=l.startEvent.center;if(l.name!=e&&(l.name=e,r.options.dragDistanceCorrection&&n.distance>0)){var c=Math.abs(r.options.dragMinDistance/n.distance);u.pageX+=n.deltaX*c,u.pageY+=n.deltaY*c,u.clientX+=n.deltaX*c,u.clientY+=n.deltaY*c,n=w.extendEventData(n)}(l.lastEvent.dragLockToAxis||r.options.dragLockToAxis&&r.options.dragLockMinDistance<=n.distance)&&(n.dragLockToAxis=!0);var g=l.lastEvent.direction;n.dragLockToAxis&&g!==n.direction&&(n.direction=m.isVertical(g)?n.deltaY<0?a:i:n.deltaX<0?o:s),t||(r.trigger(e+"start",n),t=!0),r.trigger(e,n),r.trigger(e+n.direction,n);var v=m.isVertical(n.direction);(r.options.dragBlockVertical&&v||r.options.dragBlockHorizontal&&!v)&&n.preventDefault();break;case p:t&&n.changedLength<=r.options.dragMaxTouches&&(r.trigger(e+"end",n),t=!1);break;case h:t=!1}},defaults:{dragMinDistance:10,dragDistanceCorrection:!0,dragMaxTouches:1,dragBlockHorizontal:!1,dragBlockVertical:!1,dragLockToAxis:!1,dragLockMinDistance:25}}}("drag"),n.gestures.Gesture={name:"gesture",index:1337,handler:function(e,t){t.trigger(this.name,e)}},function(e){var t;n.gestures.Hold={name:e,index:10,defaults:{holdTimeout:500,holdThreshold:2},handler:function(n,r){var i=r.options,o=w.current;switch(n.eventType){case d:clearTimeout(t),o.name=e,t=setTimeout((function(){o&&o.name==e&&r.trigger(e,n)}),i.holdTimeout);break;case f:n.distance>i.holdThreshold&&clearTimeout(t);break;case p:clearTimeout(t)}}}}("hold"),n.gestures.Release={name:"release",index:1/0,handler:function(e,t){e.eventType==p&&t.trigger(this.name,e)}},n.gestures.Swipe={name:"swipe",index:40,defaults:{swipeMinTouches:1,swipeMaxTouches:1,swipeVelocityX:.6,swipeVelocityY:.6},handler:function(e,t){if(e.eventType==p){var n=e.touches.length,r=t.options;if(n<r.swipeMinTouches||n>r.swipeMaxTouches)return;(e.velocityX>r.swipeVelocityX||e.velocityY>r.swipeVelocityY)&&(t.trigger(this.name,e),t.trigger(this.name+e.direction,e))}}},function(e){var t=!1;n.gestures.Tap={name:e,index:100,handler:function(n,r){var i,o,a=r.options,s=w.current,l=w.previous;switch(n.eventType){case d:t=!1;break;case f:t=t||n.distance>a.tapMaxDistance;break;case h:!m.inStr(n.srcEvent.type,"cancel")&&n.deltaTime<a.tapMaxTime&&!t&&(i=l&&l.lastEvent&&n.timeStamp-l.lastEvent.timeStamp,o=!1,l&&l.name==e&&i&&i<a.doubleTapInterval&&n.distance<a.doubleTapDistance&&(r.trigger("doubletap",n),o=!0),(!o||a.tapAlways)&&(s.name=e,r.trigger(s.name,n)))}},defaults:{tapMaxTime:250,tapMaxDistance:10,tapAlways:!0,doubleTapDistance:20,doubleTapInterval:300}}}("tap"),n.gestures.Touch={name:"touch",index:-1/0,defaults:{preventDefault:!1,preventMouse:!1},handler:function(e,t){return t.options.preventMouse&&e.pointerType==l?void e.stopDetect():(t.options.preventDefault&&e.preventDefault(),void(e.eventType==g&&t.trigger("touch",e)))}},function(e){var t=!1;n.gestures.Transform={name:e,index:45,defaults:{transformMinScale:.01,transformMinRotation:1},handler:function(n,r){switch(n.eventType){case d:t=!1;break;case f:if(n.touches.length<2)return;var i=Math.abs(1-n.scale),o=Math.abs(n.rotation);if(i<r.options.transformMinScale&&o<r.options.transformMinRotation)return;w.current.name=e,t||(r.trigger(e+"start",n),t=!0),r.trigger(e,n),o>r.options.transformMinRotation&&r.trigger("rotate",n),i>r.options.transformMinScale&&(r.trigger("pinch",n),r.trigger("pinch"+(n.scale<1?"in":"out"),n));break;case p:t&&n.changedLength<2&&(r.trigger(e+"end",n),t=!1)}}}}("transform"),"function"==typeof define&&define.amd?define((function(){return n})):"undefined"!=typeof module&&module.exports?module.exports=n:e.Hammer=n}(window),"function"==typeof Hammer&&void 0!==Hammer&&Hammer&&"1.1.3"==Hammer.VERSION?TLT.addModule("gestures",(function(e){var t,n,r,i,o={"input:radio":"radioButton","input:checkbox":"checkBox","input:text":"textBox","input:password":"textBox","input:file":"fileInput","input:button":"button","input:submit":"submitButton","input:reset":"resetButton","input:image":"image","input:color":"color","input:date":"date","input:datetime":"datetime","input:datetime-local":"datetime-local","input:number":"number","input:email":"email","input:tel":"tel","input:search":"search","input:url":"url","input:time":"time","input:week":"week","input:month":"month","textarea:":"textBox","select:":"selectList","select:select-one":"selectList","button:":"button","a:":"link"},a=e.utils,s=[],l=0,u=!0,c=function(){},d={swipeAfterPinchInterval:300,doubleTapInterval:300,preventMouse:!0,dragMinDistance:10},f=[],h=[];function p(t){e.post(t)}function g(e){for(var t=e.gesture.srcEvent.target,n=0,r=0;t&&"BODY"!==t.tagName;)n+=t.offsetTop,r+=t.offsetLeft,t=t.offsetParent;return{topLeftX:r,topLeftY:n}}function m(e,t){"radioButton"===t&&delete e.control.position.relXY,null!==e.control.name&&void 0!==e.control.name&&""!==e.control.name||delete e.control.name,null!==e.control.subType&&void 0!==e.control.subType&&""!==e.control.subType||delete e.control.subType}function v(t){var i,l,u,c,d,f,h,p,v,y="string"==typeof(v="drag"===(p=a.getValue(t,"webEvent")).type?"swipe":"hold"===p.type?"tapHold":p.type)?v.toLowerCase():"unknown",w=a.getValue(t,"webEvent.gesture.srcEvent.target",document.body),b=a.getTagName(w)||"body",T=a.getValue(w,"type",""),S=o[b.toLowerCase()+":"+T.toLowerCase()]||b,_=a.getValue(t,"webEvent.target.subtype"),x=[];for("1"===r?(l=t.webEvent.gesture.touches,u="webEvent.gesture.touches.",c="swipe"===y&&!(void 0!==n&&"swipe"===n.event.tlEvent)||"pinch"===y&&!(void 0!==n&&"pinch"===n.event.tlEvent),d="swipe"===y||"pinch"===y):(l=t.webEvent.gesture.pointers,u="webEvent.gesture.pointers.",c="first"===a.getValue(t,"webEvent.gesture.firstOrLastSwipeEvent")||"first"===a.getValue(t,"webEvent.gesture.firstOrLastPinchEvent"),d="last"===a.getValue(t,"webEvent.gesture.firstOrLastSwipeEvent")||"last"===a.getValue(t,"webEvent.gesture.firstOrLastPinchEvent")),h=0;h<l.length;h+=1)f={x:a.getValue(t,u+h+".pageX")-g(t.webEvent).topLeftX,y:a.getValue(t,u+h+".pageY")-g(t.webEvent).topLeftY,width:a.getValue(t,"webEvent.gesture.srcEvent.target.offsetWidth"),height:a.getValue(t,"webEvent.gesture.srcEvent.target.offsetHeight")},x.push([{position:{y:Math.round(a.getValue(t,u+h+".pageY")),x:Math.round(a.getValue(t,u+h+".pageX"))},control:{position:{width:Math.round(a.getValue(t,u+h+".target.offsetWidth")),height:Math.round(a.getValue(t,u+h+".target.offsetHeight")),relXY:a.calculateRelativeXY(f),scrollX:Math.round(document.documentElement.scrollLeft||document.body.scrollLeft),scrollY:Math.round(document.documentElement.scrollTop||document.body.scrollTop)},id:a.getValue(t,u+h+".target.id")||e.getXPathFromNode(a.getValue(t,u+h+".target")),idType:a.getValue(t,"webEvent.gesture.idType"),name:a.getValue(t,u+h+".target.name"),tlType:S,type:b,subType:T}}]),m(x[h][0],S);if(c)for(h=0;h<l.length;h+=1)s.push(x[h][0]);if(d)for(h=0;h<l.length;h+=1)x[h].unshift(s[h]);return i={type:11,event:{tlEvent:y,type:y},touches:x},"swipe"===y&&(i.velocityX=t.webEvent.gesture.velocityX,i.velocityY=t.webEvent.gesture.velocityY),"swipe"===y&&(i.direction=t.webEvent.gesture.direction,2===i.direction&&(i.direction="left"),4===i.direction&&(i.direction="right"),8===i.direction&&(i.direction="up"),16===i.direction&&(i.direction="down")),"pinch"===y&&(t.webEvent.gesture.scale>1?i.direction="open":t.webEvent.gesture.scale<1&&(i.direction="close")),null!=_&&(i.event.subType=_),i}function y(e,t){"1"===r?"doubletap"===t.type||"hold"===t.type||"tap"===t.type?p(v({webEvent:t,id:e,currState:a.getValue(t,"target.state")})):"release"!==t.type||void 0===n||"swipe"!==n.event.tlEvent&&"pinch"!==n.event.tlEvent?"drag"!==t.type&&"pinch"!==t.type||(n=v({webEvent:t,id:e,currState:a.getValue(t,"target.state")})):(p(n),n=void 0,s=[]):"doubletap"===t.type||"tapHold"===t.type||"tap"===t.type?p(v({webEvent:t,id:e,currState:a.getValue(t,"target.state")})):"last"===t.gesture.firstOrLastSwipeEvent||"last"===t.gesture.firstOrLastPinchEvent?(p(v({webEvent:t,id:e,currState:a.getValue(t,"target.state")})),s=[]):"first"!==t.gesture.firstOrLastSwipeEvent&&"first"!==t.gesture.firstOrLastPinchEvent||v({webEvent:t,id:e,currState:a.getValue(t,"target.state")})}function w(e){var t;return document.createEvent?((t=document.createEvent("HTMLEvents")).initEvent(e.type,!0,!0),t.gesture=e):((t=document.createEventObject()).eventType=e.type,t.gesture=e),t}function b(e,t){void 0!==t&&(document.createEvent?t.dispatchEvent(e):t.fireEvent("on"+e.eventType,e))}function T(e){var t=e.type,n=e.target;"tap"===t?(b(w(e),n),i=void 0):"press"===t?(e.type="tapHold",b(w(e),n),i=void 0):"panstart"===t?(e.type="swipe",e.firstOrLastSwipeEvent="first",b(w(e),n),i=n):"panend"===t?(e.type="swipe",e.firstOrLastSwipeEvent="last",b(w(e),i),i=void 0):"pinchstart"===t?(e.type="pinch",e.firstOrLastPinchEvent="first",b(w(e),n),i=n):"pinchend"===t&&(e.type="pinch",e.firstOrLastPinchEvent="last",b(w(e),i),i=void 0)}return{init:function(){var t,n,o,s,l,u,c,p=[],g=TLT.getCoreConfig().modules.gestures.events,m="";if("function"==typeof Hammer){for("1"===(r=Hammer.VERSION.split(".")[0])&&(Hammer.defaults.behavior.userSelect="auto",Hammer.defaults.behavior.userDrag="auto",Hammer.defaults.behavior.contentZooming="auto",Hammer.defaults.behavior.touchCallout="default",Hammer.defaults.behavior.touchAction="auto"),e.getConfig()&&e.getConfig().options&&a.extend(!0,d,e.getConfig().options),t=0;t<g.length;t+=1)if("tap"===(c=g[t].name)&&(m+="tap "),"swipe"===c&&(m+="panstart panend "),"tapHold"===c&&(m+="press "),"pinch"===c&&(m+="pinchstart pinchend"),(s=g[t].target)===window||"window"===s)"1"===r&&f.push(new Hammer(window,d));else if(null!=l)for(l=s.split(", "),n=0;n<l.length;n+=1)for(p=TLT.getService("browser").queryAll(l[n],document),o=0;o<p.length;o+=1)-1===a.indexOf(h,p[o])&&h.push(p[o]);if("1"===r)for(t=0;t<h.length;t+=1)f.push(new Hammer(h[t],d));else if(0!==h.length)for(t=0;t<h.length;t+=1)(u=new Hammer.Manager(h[t])).add(new Hammer.Tap({event:"tap"})),u.add(new Hammer.Pan({direction:Hammer.DIRECTION_ALL})),u.add(new Hammer.Press),u.add(new Hammer.Pinch({enable:!0})),u.on(m,(function(e){(("panend"===e.type||"pinchend"===e.type)&&h.indexOf(i)>-1||h.indexOf(e.target)>-1)&&T(e)})),f.push(u);else void 0===window.style&&(window.style=[]),(u=new Hammer.Manager(window)).add(new Hammer.Tap({event:"tap"})),u.add(new Hammer.Pan({direction:Hammer.DIRECTION_ALL})),u.add(new Hammer.Press),u.add(new Hammer.Pinch({enable:!0})),u.on(m,(function(e){T(e)})),f.push(u)}},destroy:function(){var e;if(null!=f)for(e=0;e<f.length;e+=1)f[e].off("tap press pinchstart pinchend panstart panend"),f[e].enabled=!1;f=[],h=[]},onevent:function(e){var n;if("object"==typeof e&&e.type&&(e.gesture||"unload"===e.type)&&e.target&&("unload"===e.type||"mouse"!==e.gesture.pointerType||!d.preventMouse))switch(n=a.getValue(e,"target.id"),e.type){case"tap":!function(e,n){var r=d.doubleTapInterval;1===(l+=1)?(c=function(e,t){var n=e,r=t;return function(){y(n,r),l=0}}(e,n),t=setTimeout((function(){c(),c=function(){}}),r)):(clearTimeout(t),n.type="doubletap",y(e,n),c=function(){},l=0)}(n,e);break;case"swipe":case"pinch":case"drag":!function(e,n){var r=d.swipeAfterPinchInterval;!u||"swipe"!==n.type&&"drag"!==n.type||y(e,n),"pinch"===n.type&&(y(e,n),u=!1,t=setTimeout((function(){u=!0}),r))}(n,e);break;case"tapHold":case"hold":case"release":y(n,e);break;case"unload":clearTimeout(t),c()}}}})):console&&console.info("Could not load TL.Gestures."),window.TLT.utils.isiOS&&o&&function(){if("undefined"!=typeof document&&!("adoptedStyleSheets"in document)){var e="ShadyCSS"in window&&!ShadyCSS.nativeShadow,t=document.implementation.createHTMLDocument(""),n=new WeakMap,r="object"==typeof DOMException?Error:DOMException,i=Object.defineProperty,o=Array.prototype.forEach,a=/@import.+?;?$/gm,s=CSSStyleSheet.prototype;s.replace=function(){return Promise.reject(new r("Can't call replace on non-constructed CSSStyleSheets."))},s.replaceSync=function(){throw new r("Failed to execute 'replaceSync' on 'CSSStyleSheet': Can't call replaceSync on non-constructed CSSStyleSheets.")};var l=new WeakMap,u=new WeakMap,c=new WeakMap,d=new WeakMap,f=k.prototype;f.replace=function(e){try{return this.replaceSync(e),Promise.resolve(this)}catch(e){return Promise.reject(e)}},f.replaceSync=function(e){if(C(this),"string"==typeof e){var t=this;l.get(t).textContent=function(e){var t=e.replace(a,"");return t!==e&&console.warn("@import rules are not allowed here. See https://github.com/WICG/construct-stylesheets/issues/119#issuecomment-588352418"),t.trim()}(e),d.set(t,[]),u.get(t).forEach((function(e){e.isConnected()&&E(t,x(t,e))}))}},i(f,"cssRules",{configurable:!0,enumerable:!0,get:function(){return C(this),l.get(this).sheet.cssRules}}),i(f,"media",{configurable:!0,enumerable:!0,get:function(){return C(this),l.get(this).sheet.media}}),["addRule","deleteRule","insertRule","removeRule"].forEach((function(e){f[e]=function(){var t=this;C(t);var n=arguments;d.get(t).push({method:e,args:n}),u.get(t).forEach((function(r){if(r.isConnected()){var i=x(t,r).sheet;i[e].apply(i,n)}}));var r=l.get(t).sheet;return r[e].apply(r,n)}})),i(k,Symbol.hasInstance,{configurable:!0,value:S});var h={childList:!0,subtree:!0},p=new WeakMap,g=new WeakMap,m=new WeakMap,v=new WeakMap;if(P.prototype={isConnected:function(){var e=g.get(this);return e instanceof Document?"loading"!==e.readyState:function(e){return"isConnected"in e?e.isConnected:document.contains(e)}(e.host)},connect:function(){var e=M(this);v.get(this).observe(e,h),m.get(this).length>0&&D(this),I(e,(function(e){O(e).connect()}))},disconnect:function(){v.get(this).disconnect()},update:function(e){var t=this,n=g.get(t)===document?"Document":"ShadowRoot";if(!Array.isArray(e))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+n+": Iterator getter is not callable.");if(!e.every(S))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+n+": Failed to convert value to 'CSSStyleSheet'");if(e.some(_))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+n+": Can't adopt non-constructed stylesheets");t.sheets=e;var r,i,o=m.get(t),a=(r=e).filter((function(e,t){return r.indexOf(e)===t}));(i=a,o.filter((function(e){return-1===i.indexOf(e)}))).forEach((function(e){var n;(n=x(e,t)).parentNode.removeChild(n),function(e,t){c.get(e).delete(t),u.set(e,u.get(e).filter((function(e){return e!==t})))}(e,t)})),m.set(t,a),t.isConnected()&&a.length>0&&D(t)}},window.CSSStyleSheet=k,L(Document),"ShadowRoot"in window){L(ShadowRoot);var y=Element.prototype,w=y.attachShadow;y.attachShadow=function(e){var t=w.call(this,e);return"closed"===e.mode&&n.set(this,t),t}}var b=O(document);b.isConnected()?b.connect():document.addEventListener("DOMContentLoaded",b.connect.bind(b))}function T(e){return e.shadowRoot||n.get(e)}function S(e){return"object"==typeof e&&(f.isPrototypeOf(e)||s.isPrototypeOf(e))}function _(e){return"object"==typeof e&&s.isPrototypeOf(e)}function x(e,t){return c.get(e).get(t)}function E(e,t){requestAnimationFrame((function(){t.textContent=l.get(e).textContent,d.get(e).forEach((function(e){return t.sheet[e.method].apply(t.sheet,e.args)}))}))}function C(e){if(!l.has(e))throw new TypeError("Illegal invocation")}function k(){var e=document.createElement("style");t.body.appendChild(e),l.set(this,e),u.set(this,[]),c.set(this,new WeakMap),d.set(this,[])}function O(e){var t=p.get(e);return t||(t=new P(e),p.set(e,t)),t}function L(e){i(e.prototype,"adoptedStyleSheets",{configurable:!0,enumerable:!0,get:function(){return O(this).sheets},set:function(e){O(this).update(e)}})}function I(e,t){for(var n=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT,(function(e){return T(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}),null,!1),r=void 0;r=n.nextNode();)t(T(r))}function M(e){var t=g.get(e);return t instanceof Document?t.body:t}function D(e){var t=document.createDocumentFragment(),n=m.get(e),r=v.get(e),i=M(e);r.disconnect(),n.forEach((function(n){t.appendChild(x(n,e)||function(e,t){var n=document.createElement("style");return c.get(e).set(t,n),u.get(e).push(t),n}(n,e))})),i.insertBefore(t,null),r.observe(i,h),n.forEach((function(t){E(t,x(t,e))}))}function P(t){var n=this;n.sheets=[],g.set(n,t),m.set(n,[]),v.set(n,new MutationObserver((function(t,r){document?t.forEach((function(t){e||o.call(t.addedNodes,(function(e){e instanceof Element&&I(e,(function(e){O(e).connect()}))})),o.call(t.removedNodes,(function(t){t instanceof Element&&(function(e,t){return t instanceof HTMLStyleElement&&m.get(e).some((function(t){return x(t,e)}))}(n,t)&&D(n),e||I(t,(function(e){O(e).disconnect()})))}))})):r.disconnect()})))}}(),!0===a&&TLT.addModule("ajaxListener",(function(e){var t,n,r,i,o={},a=!1,s=e.utils;function l(e){var t,n,r=!1,i=o.urlBlocklist;if(!e||!i)return r;for(t=0,n=i.length;!r&&t<n;t+=1)r=i[t].cRegex.test(e);return r}function u(e,t,n){var r,i,a,s={},l=o.filters;if(!l||!l.length)return s;for(r=0,i=l.length,a=!1;!a&&r<i;r+=1)a=!0,(s=l[r]).url&&(a=s.url.cRegex.test(e)),a&&s.method&&(a=s.method.cRegex.test(t)),a&&s.status&&(a=s.status.cRegex.test(n));return a||(s=null),s}function c(t,n){var r,i,o={type:5,customEvent:{name:"ajaxListener",data:{interfaceType:"XHR"}}},a=o.customEvent.data;if(t){if((r=document.createElement("a")).href=t.tListener.url,a.originalURL=r.host+("/"===r.pathname[0]?"":"/")+r.pathname,a.requestURL=e.normalizeUrl?e.normalizeUrl(a.originalURL,3):a.originalURL,a.description="Full Ajax Monitor "+a.requestURL,a.method=t.tListener.method,a.status=t.status,a.statusText=t.statusText||"",a.async=t.tListener.async,a.ajaxResponseTime=t.tListener.end-t.tListener.start,a.locationHref=e.normalizeUrl(document.location.href,3),a.queryParams=h(t.tListener.url),n.requestHeaders&&(a.requestHeaders=t.tListener.reqHeaders),n.requestData&&"string"==typeof t.tListener.reqData&&!t.tListener.isSystemXHR)try{a.request=JSON.parse(t.tListener.reqData)}catch(e){a.request=t.tListener.reqData}if(n.responseHeaders&&(a.responseHeaders=function(e){var t,n,r,i,o,a={};for(t=0,n=(e=e.split(/[\r\n]+/)).length;t<n;t+=1)i=(r=e[t].split(": "))[0],o=s.rtrim(r[1]),i&&i.length&&(a[i]=o);return a}(t.getAllResponseHeaders())),n.responseData){if(void 0===t.responseType?i=t.responseText:""===t.responseType||"text"===t.responseType?i=t.response:"json"===t.responseType?a.response=t.response:a.response=typeof t.response,i)try{a.response=JSON.parse(i)}catch(e){a.response=i}t.responseType&&(a.responseType=t.responseType)}e.post(o)}}function d(e){for(var t,n={},r=e.entries(),i=r.next();!i.done;)n[(t=i.value)[0]]=t[1],i=r.next();return n}function f(e){return d(e)}function h(e){var t=e.indexOf("?");if(t<0)return{};var n=e.substring(t+1),r={},i=new URLSearchParams(n).entries();for(var o in i)r[i[o][0]]=i[o][1];return r}function p(t,n,r){var i,o,a={type:5,customEvent:{name:"ajaxListener",data:{interfaceType:"fetch"}}},s=a.customEvent.data;if((i=document.createElement("a")).href=t.url,s.originalURL=i.host+("/"===i.pathname[0]?"":"/")+i.pathname,s.requestURL=e.normalizeUrl?e.normalizeUrl(s.originalURL,3):s.originalURL,s.description="Full Ajax Monitor "+s.requestURL,s.method=t.initData.method,s.status=n.status,s.statusText=n.statusText||"",s.async=!0,s.ajaxResponseTime=t.end-t.start,s.responseType=n.type,s.locationHref=e.normalizeUrl(document.location.href,3),s.queryParams=h(t.url),r.requestHeaders&&(t.initData.headers&&-1!==t.initData.headers.toString().indexOf("Headers")?s.requestHeaders=f(t.initData.headers):s.requestHeaders=t.initData.headers||""),r.requestData&&void 0!==t.body&&!t.isSystemXHR&&(s.request=function(e){var t=e;if(!e)return t;if("object"==typeof e&&-1!==e.toString().indexOf("FormData"))t=d(e);else if("string"==typeof e)try{t=JSON.parse(e)}catch(n){t=e}return t}(t.body)),r.responseHeaders&&(s.responseHeaders=f(n.headers)),r.responseData){if((o=n.headers.get("content-type"))&&-1!==o.indexOf("application/json"))return void n.clone().json().then((function(t){s.response=t,e.post(a)}));if(o&&(-1!==o.indexOf("text")||-1!==o.indexOf("xml")))return void n.clone().text().then((function(t){s.response=t,e.post(a)}));s.response="Not logging unsupported response content: "+o}e.post(a)}function g(e){var t;e&&e.target&&4===(t=e.target).readyState&&(t.removeEventListener("readystatechange",g),t.tListener.end=Date.now(),function(e){var t,n={requestHeaders:!1,requestData:!1,responseHeaders:!1,responseData:!1};(t=u(e.tListener.url,e.tListener.method,e.status.toString()))&&(t.log&&(n=t.log),c(e,n))}(t))}function m(e){var t,n;for(n=TLT.getServiceConfig("queue").queues||[],t=0;t<n.length;t+=1)if(n[t].endpoint&&-1!==e.indexOf(n[t].endpoint))return!0;return!1}function v(e,n,r){var i=this;return a&&!l(n)&&(i.addEventListener("readystatechange",g),i.tListener={method:e,url:n,async:void 0===r||!!r,reqHeaders:{},isSystemXHR:m(n)},function(e){var t=e.setRequestHeader;e.setRequestHeader=function(e,n){var r=this.tListener;return e&&e.length&&(r.reqHeaders[e]=n),t.apply(this,arguments)}}(i),function(e){var t=e.send;e.send=function(e){var n=this.tListener;return e&&(n.reqData=e),n.start=Date.now(),t.apply(this,arguments)}}(i)),t.apply(i,arguments)}function y(){n=window.fetch,window.fetch=function(e,t){var r={};return e instanceof Request?(r.initData=e,r.url=e.url,r.initData.clone().text().then((function(e){e.length>0&&(r.body=e)}))):(r.initData=t||{},r.url=e.toString(),t&&t.body&&(r.body=t.body)),r.isSystemXHR=m(r.url),r.start=Date.now(),n.apply(this,arguments).then((function(e){return r.end=Date.now(),function(e,t){var n,r=e.url,i=e.initData.method,o=t.status.toString(),a={requestHeaders:!1,requestData:!1,responseHeaders:!1,responseData:!1};l(r)||(n=u(r,i,o))&&(n.log&&(a=n.log),p(e,t,a))}(r,e),e}))}}function w(e){e&&e.regex&&(e.cRegex=new RegExp(e.regex,e.flags))}return{init:function(){!function(e){var t,n,o,a=[],l=s.getValue(e,"skipSafetyCheck",!1);for(e&&e.filters&&(a=e.filters),t=0,n=a.length;t<n;t+=1)o=a[t],s.forEach([o.url,o.method,o.status],w);e&&e.urlBlocklist&&s.forEach(e.urlBlocklist,w),!(r=s.getValue(e,"xhrEnabled",!0)&&window.XMLHttpRequest)||l||-1!==XMLHttpRequest.toString().indexOf("[native code]")&&-1!==XMLHttpRequest.toString().indexOf("XMLHttpRequest")||(r=!1),(i=s.getValue(e,"fetchEnabled",!0)&&window.fetch)&&!l&&-1===window.fetch.toString().indexOf("[native code]")&&(i=!1)}(o=e.getConfig())},destroy:function(){a=!1},onevent:function(e){switch(e.type){case"load":r&&XMLHttpRequest&&(t=XMLHttpRequest.prototype.open,XMLHttpRequest.prototype.open=v),i&&y(),a=!0;break;case"unload":a=!1}},version:"1.3.0"}})),TLT.addModule("flushQueue",(function(){return{onevent:function(e){if(e&&"visibilitychange"===e.type)TLT.flushAll()}}})),void 0!==(f=n?n&&0===Object.keys(n).length&&Object.getPrototypeOf(n)===Object.prototype?window.TLT.getDefaultConfig():n:window.TLT.getDefaultConfig())&&void 0!==f.services&&void 0!==f.services.queue&&void 0!==f.services.queue.queues[0]?f.services.queue.queues[0].endpoint=t:console&&console.warn("Not able to update defaultConfig.services.queue.queues[0].endpoint"),void 0!==f&&void 0!==f.modules&&void 0!==f.modules.TLCookie?f.modules.TLCookie.tlAppKey=e:console&&console.warn("Not able to update defaultConfig.modules.TLCookie.tlAppKey"),window.TLT.utils.isLegacyIE?(console&&(console.warn("This version of the UIC does not support Internet Explorer 9."),console.info("Applications requiring Internet Explorer 8 (or below) support should use UIC 5.2.0")),void(window.TLT.terminationReason="Unsupported browser")):(window.TLT.init(f,(function(e){console&&(console.info("TLT.initLib has "+e+" with the following settings below:"),console.info(f))})),!0===s&&function(){var e,t=window.TLT.destroy;function n(){"visible"===document.visibilityState&&document.hasFocus()&&(e&&window.TLT&&!TLT.isInitialized()&&(console.log("Restarting TLT"),TLT.init(e),e=null),window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n))}window.TLT.destroy=function(r,i){"inactivity"===i&&(e=TLT.getConfig(),window.addEventListener("visibilitychange",n),window.addEventListener("focus",n)),t.call(window.TLT,r,i)}}(),f)},init:function(e,t){var n;if((d=this.utils).isLegacyIE)d.clog("This version of UIC does not support Internet Explorer 8 and below. For older browsers, use UIC 5.2.0 instead.");else{if(A=t,!R)throw"init must only be called once!";if(!e&&!this.config)throw"missing configuration.";e=e||this.config,this.config=e,R=!1,m="P."+d.getRandomString(28),v=j(),n=function(r){"load"!==(r=r||window.event||{}).type&&"loading"===document.readyState||(document.removeEventListener?(document.removeEventListener("DOMContentLoaded",n,!1),window.removeEventListener("load",n,!1)):(document.detachEvent("onreadystatechange",n),window.detachEvent("onload",n)),P(e,t))},"complete"===document.readyState||"interactive"===document.readyState&&!d.isIE?setTimeout(n):document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):(document.attachEvent("onreadystatechange",n),window.attachEvent("onload",n))}},isInitialized:function(){return _},getState:function(){return x},destroy:function(e,t){var r="",i="",o=null,a=null,s=null,l=!1;if(R)return!1;if(this.stopAll(),!e){for(r in I)I.hasOwnProperty(r)&&(i=r.split("|")[0],o=I[r].target,void 0!==(l=I[r].delegateTarget||void 0)&&n.unsubscribe(i,o,this._publishEvent,l));c&&(n.unsubscribe("mousemove",document,c),c=null)}for(a in S)S.hasOwnProperty(a)&&((s=S[a].instance)&&"function"==typeof s.destroy&&s.destroy(),S[a].instance=null);E.clearCache(),I={},L={},D=[],_=!1,R=!0,x="destroyed",TLT.terminationReason=t||x;try{sessionStorage.setItem("tl.TR",TLT.terminationReason),sessionStorage.setItem("tl.PU",this.normalizeUrl("",location.href))}catch(e){}if("function"==typeof A)try{A("destroyed")}catch(e){}u||(window.addEventListener("pageshow",p),u=!0)},_updateModules:function(e){var t=null,n=null,r=!0;if(l&&l.modules)try{for(n in l.modules)if(l.modules.hasOwnProperty(n)&&(t=l.modules[n],T.hasOwnProperty(n))){if(!1===t.enabled){this.stop(n);continue}this.start(n),t.events&&this._registerModuleEvents(n,t.events,e)}this._registerModuleEvents.clearCache()}catch(e){throw X.destroy(!1,"_updateModules: "+e.message),r=!1,e}else r=!1;return r},rebind:function(e){X._updateModules(e)},getSessionData:function(){if(!X.isInitialized())throw"getSessionData API was called before UIC is initialized.";var e,t,n,r,i=null;return l&&l.sessionDataEnabled?((t=(e=l.sessionData||{}).sessionQueryName)?n=d.getQueryStringValue(t,e.sessionQueryDelim):(t=e.sessionCookieName)?n=d.getCookieValue(t):(t=(r=TLT.getTLTSessionCookieInfo()).tltCookieName,n=r.tltCookieValue),t&&n&&((i=i||{}).tltSCN=t,i.tltSCV=n,i.tltSCVNeedsHashing=!!e.sessionValueNeedsHashing),i):(d.clog("TLT.getSessionData() API called when "+(l?"session data sharing is disabled.":"TLT is not initialized.")),null)},logGeolocation:function(e){var t;if(!X.isInitialized())throw"logGeolocation API was called before UIC is initialized.";e&&e.coords&&(t={type:13,geolocation:{lat:d.getValue(e,"coords.latitude",0),long:d.getValue(e,"coords.longitude",0),accuracy:Math.ceil(d.getValue(e,"coords.accuracy",0))}},o.post("",t))},logCustomEvent:function(e,t){if(!X.isInitialized())throw"logCustomEvent API was called before UIC is initialized.";var n;e&&"string"==typeof e||(e="CUSTOM"),n={type:5,customEvent:{name:e,data:t=t||{}}},o.post("",n)},logExceptionEvent:function(e,t,n){if(!X.isInitialized())throw"logExceptionEvent API was called before UIC is initialized.";var r;e&&"string"==typeof e&&(t&&(t=X.normalizeUrl("",t,6)),r={type:6,exception:{description:e,url:t=t||"",line:n=n||-1}},o.post("",r))},logFormCompletion:function(e,t){if(!X.isInitialized())throw"logFormCompletion API was called before UIC is initialized.";var n={type:15,formCompletion:{submitted:!!e,valid:"boolean"==typeof t?t:null}};o.post("",n)},logDataLayer:function(e){var t;if(!X.isInitialized())throw"logDataLayer API was called before UIC is initialized.";if(!s)throw"logDataLayer API was called but Data Layer module not found.";e&&"object"!=typeof e||(t={type:"logDataLayer",data:e},s.onevent(t))},logScreenviewLoad:function(e,t,n){if(!X.isInitialized())throw"logScreenviewLoad API was called before UIC is initialized.";g("LOAD",e,t)},logScreenviewUnload:function(e){if(!X.isInitialized())throw"logScreenviewUnload API was called before UIC is initialized.";g("UNLOAD",e)},logDOMCapture:function(e,t){var n,r,a,s=null;if(!this.isInitialized())throw"logDOMCapture API was called before UIC is initialized.";return d.isLegacyIE||i&&(e=e||window.document,r=this.getServiceConfig("domCapture"),t=d.mixin({},r.options,t),(n=i.captureDOM(e,t))&&(s=t.dcid||"dcid-"+d.getSerialNumber()+"."+(new Date).getTime(),n.dcid=s,n.eventOn=!!t.eventOn,a={type:12,domCapture:n},t.timeoutExpired&&(a.domCapture.timeout=!0),o.post("",a),!1!==t.qffd&&!N&&a.domCapture.fullDOM&&(o.flush(),N=!0))),s},performDOMCapture:function(e,t,n){return this.logDOMCapture(t,n)},performFormCompletion:function(e,t,n){return this.logFormCompletion(t,n)},_bridgeCallback:function(e){var t=M[e];return t&&t.enabled?t:null},logScreenCapture:function(){if(!X.isInitialized())throw"logScreenCapture API was called before UIC is initialized.";var e=X._bridgeCallback("screenCapture");null!==e&&e.cbFunction()},enableTealeafFramework:function(){if(!X.isInitialized())throw"enableTealeafFramework API was called before UIC is initialized.";var e=X._bridgeCallback("enableTealeafFramework");null!==e&&e.cbFunction()},disableTealeafFramework:function(){if(!X.isInitialized())throw"disableTealeafFramework API was called before UIC is initialized.";var e=X._bridgeCallback("disableTealeafFramework");null!==e&&e.cbFunction()},startNewTLFSession:function(){if(!X.isInitialized())throw"startNewTLFSession API was called before UIC is initialized.";var e=X._bridgeCallback("startNewTLFSession");null!==e&&e.cbFunction()},currentSessionId:function(){if(!X.isInitialized())throw"currentSessionId API was called before UIC is initialized.";var e,t=X._bridgeCallback("currentSessionId");return null!==t&&(e=t.cbFunction()),e},defaultValueForConfigurableItem:function(e){if(!X.isInitialized())throw"defaultValueForConfigurableItem API was called before UIC is initialized.";var t,n=X._bridgeCallback("defaultValueForConfigurableItem");return null!==n&&(t=n.cbFunction(e)),t},valueForConfigurableItem:function(e){if(!X.isInitialized())throw"valueForConfigurableItem API was called before UIC is initialized.";var t,n=X._bridgeCallback("valueForConfigurableItem");return null!==n&&(t=n.cbFunction(e)),t},setConfigurableItem:function(e,t){if(!X.isInitialized())throw"setConfigurableItem API was called before UIC is initialized.";var n=!1,r=X._bridgeCallback("setConfigurableItem");return null!==r&&(n=r.cbFunction(e,t)),n},addAdditionalHttpHeader:function(e,t){if(!X.isInitialized())throw"addAdditionalHttpHeader API was called before UIC is initialized.";var n=!1,r=X._bridgeCallback("addAdditionalHttpHeader");return null!==r&&(n=r.cbFunction(e,t)),n},logCustomEventBridge:function(e,t,n){if(!X.isInitialized())throw"logCustomEventBridge API was called before UIC is initialized.";var r=!1,i=X._bridgeCallback("logCustomEventBridge");return null!==i&&(r=i.cbFunction(e,t,n)),r},registerBridgeCallbacks:function(e){var t,n,r,i,o,a,s,l=null,u=TLT.utils;if(!e)return!1;if(0===e.length)return u.clog("Resetting previously registered callbacks."),M={},!1;try{for(t=0,r=e.length;t<r;t+=1)if("object"==typeof(l=e[t])&&l.cbType&&l.cbFunction)if(i={enabled:l.enabled,cbFunction:l.cbFunction,cbOrder:l.order||0},u.isUndefOrNull(M[l.cbType]))i.enabled&&(M[l.cbType]=i,u.clog("Registered callback: ",l.cbType,i));else{for(u.isArray(M[l.cbType])||(M[l.cbType]=[M[l.cbType]]),o=M[l.cbType],n=0,s=!1,a=o.length;n<a;n+=1)if(o[n].cbOrder===i.cbOrder&&o[n].cbFunction===i.cbFunction)s=!0,i.enabled||(o.splice(n,1),o.length||delete M[l.cbType],u.clog("Removed callback: ",l.cbType,i));else if(o[n].cbOrder>i.cbOrder)break;s||i.enabled&&(o.splice(n,0,i),u.clog("Registered callback: ",l.cbType,i))}}catch(e){return!1}return!0},registerMutationCallback:function(e,t){var n;return!(!e||"function"!=typeof e)&&(t?-1===(n=D.indexOf(e))&&(D.push(e),d.clog("Registered mutation callback: ",e)):-1!==(n=D.indexOf(e))&&(D.splice(n,1),d.clog("Unregistered mutation callback: ",e)),!0)},invokeMutationCallbacks:function(e){var t,n,r,i,o=[],a=[];if(0!==D.length){for(i=Map?new Map:new d.WeakMap,t=0;t<e.length;t++)(r=e[t].target)&&(n=d.getDocument(r),void 0===i.get(n)&&(n.host?a.push(n):o.push(n),i.set(n,!0)));for(i.clear(),t=0;t<D.length;t++)(0,D[t])(e,o,a)}},redirectQueue:function(e){var t,n,r,i,o,s,l;if(!e||!e.length)return e;if(!(i=M.messageRedirect))return e;for(n=0,s=(o=d.isArray(i)?i:[i]).length;n<s;n+=1)if((i=o[n])&&i.enabled)for(t=0,r=e.length;t<r;t+=1)(l=i.cbFunction(a.serialize(e[t]),e[t]))&&"object"==typeof l?e[t]=l:(e.splice(t,1),t-=1,r=e.length);return e},_hasSameOrigin:function(e){var t=!1;try{return(t=e.document.location.host===document.location.host&&e.document.location.protocol===document.location.protocol)||(t=e.document.domain===document.domain),t}catch(e){}return!1},provideRequestHeaders:function(){var e=null,t=M.addRequestHeaders;return t&&t.enabled&&(e=t.cbFunction()),e},_registerModuleEvents:function(){var e,r=0,o=function(e,t,n){return"window"===e?t:"document"===e?n:e};function a(e){var t=d.getIFrameWindow(e);return null!==t&&X._hasSameOrigin(t)&&null!==t.document&&"complete"===t.document.readyState&&""!==t.document.body.innerHTML}function s(s,l,u){if(u=u||X._getLocalTop().document,e=e||new d.WeakMap,function(r,i,a){var s,l,u,c=d.getDocument(a),f=X._getLocalTop(),h=d.isIFrameDescendant(a);if(a=a||c,O.normalizeModuleEvents(r,i,f,c),h&&"string"==typeof(s=t.ElementData.prototype.examineID(a).id))for(l in s=s.slice(0,s.length-1),I)if(I.hasOwnProperty(l))for(u=0;u<I[l].length;u+=1)if(r===I[l][u]&&-1!==l.indexOf(s)){delete I[l];break}d.forEach(i,(function(i){var s=o(i.target,f,c)||c,l="";!0!==i.recurseFrames&&h||("string"==typeof s?d.forEach(n.queryAll(s,a),(function(o){var a=e.get(o);a||(a=t.ElementData.prototype.examineID(o),e.set(o,a)),l=i.name+"|"+a.id+a.idType,-1===d.indexOf(I[l],r)&&(I[l]=I[l]||[],I[l].push(r),I[l].target=o,n.subscribe(i.name,o,X._publishEvent))})):(l=X._buildToken4bubbleTarget(i.name,s,void 0===i.target),I.hasOwnProperty(l)?-1===d.indexOf(I[l],r)&&I[l].push(r):(I[l]=[r],n.subscribe(i.name,s,X._publishEvent))),""!==l&&"string"!=typeof s&&(I[l].target=s))}))}(s,l,u),"performance"!==s){var c,f,h=null,p=null,g=n.queryAll("iframe, frame",u);for(c=0,f=g.length;c<f;c+=1)h=g[c],E(h)||(a(h)?(p=d.getIFrameWindow(h),X._registerModuleEvents(s,l,p.document),i.observeWindow(p)):(r+=1,function(e,t,n){var o=null,s=function(){var o=null;E(n)||(o=d.getIFrameWindow(n),X._hasSameOrigin(o)&&(X._registerModuleEvents(e,t,o.document),i.observeWindow(o))),(r-=1)||X._publishEvent({type:"loadWithFrames",custom:!0})};d.addEventListener(n,"load",(function(){s()})),d.isLegacyIE&&a(n)&&(o=d.getIFrameWindow(n),d.addEventListener(o.document,"readystatechange",(function(){s()})))}(s,l,h)))}}return s.clearCache=function(){e&&(e.clear(),e=null)},s}(),_buildToken4currentTarget:function(e){var n=e.nativeEvent?e.nativeEvent.currentTarget:null,r=n?t.ElementData.prototype.examineID(n):{id:e.target?e.target.id:null,idType:e.target?e.target.idType:-1};return e.type+"|"+r.id+r.idType},_buildToken4delegateTarget:function(e,t,n){return e+"|"+t+"|"+n},_buildToken4bubbleTarget:function(e,r,i,o){var a,s,l,u=X._getLocalTop(),c=d.getDocument(r),f=null,h=e;return c&&(a=c.defaultView||c.parentWindow),r===window||r===window.window?h+="|null-2|window":i&&a&&X._hasSameOrigin(a.parent)&&void 0!==c&&u.document!==c?(s=c,l=null,X._hasSameOrigin(a.parent)&&d.forEach(n.queryAll("iframe, frame",a.parent.document),(function(e){var t=null;E(e)||(t=d.getIFrameWindow(e),X._hasSameOrigin(t)&&t.document===s&&(l=e))})),(f=l)&&(h+="|"+t.ElementData.prototype.examineID(f).xPath+"-2")):h+="|null-2|document",h},_reinitConfig:function(){X._updateModules()},_publishEvent:function(e){var t,r,i,a,s=null,u=null,c=e.delegateTarget&&e.data?e.data:X._buildToken4currentTarget(e),f=null,h=null,p=!1,g=!1,m=e.delegateTarget||null;if(L=e,e.type.match(/^(click|change|blur|mouse|touch)/)&&(z(),o.resetFlushTimer()),d.getValue(l,"screenviewAutoDetect",!0)&&U(),"load"!==e.type&&"pageshow"!==e.type||e.nativeEvent.customLoad)if("click"===e.type&&(C=e.target.element),"beforeunload"===e.type&&(p=!1,(a="a"===d.getTagName(C)?C:document.activeElement)&&(H(a)?p=!0:d.forEach(l.ieExcludedLinks,(function(e){var t,r,i=n.queryAll(e);for(t=0,r=i?i.length:0;t<r;t+=1)if(i[t]&&i[t]===C){p=!0;break}}))),p))L={};else if(O.isUnload(e)&&(x="unloading"),"change"!==e.type||!d.isLegacyIE||"w3c"!==X.getFlavor()||"checkbox"!==e.target.element.type&&"radio"!==e.target.element.type){if("propertychange"===e.type){if("checked"!==e.nativeEvent.propertyName||!("checkbox"===e.target.element.type||"radio"===e.target.element.type&&e.target.element.checked))return void(L={});e.type="change",e.target.type="INPUT"}if(e.target&&F(e.target.element))L={};else{if(I.hasOwnProperty(c)||(e.hasOwnProperty("nativeEvent")&&(i=e.nativeEvent.currentTarget||e.nativeEvent.target),c=X._buildToken4bubbleTarget(e.type,i,!0,m)),I.hasOwnProperty(c))for(t=0,r=(f=I[c]).length;t<r;t+=1)if(s=f[t],u=X.getModule(s),h=d.mixin({},e),u&&X.isStarted(s)&&"function"==typeof u.onevent&&(g=O.canPublish(s,h)))try{u.onevent(h)}catch(e){d.clog("ERROR in "+s+" module.",e)}h&&"unload"===h.type&&g&&X.destroy(!1,h.type),L={}}}else L={};else L={}},_getLocalTop:function(){return window.window},addModule:function(e,t){if(T.hasOwnProperty(e))throw new Error("Attempting to add duplicate module '"+e+"' on TLT.");T[e]={creator:t,instance:null,context:null,messages:[]},this.isInitialized()&&this.start(e)},getModule:function(e){return T[e]&&T[e].instance?T[e].instance:null},removeModule:function(e){this.stop(e),delete T[e]},isStarted:function(e){return T.hasOwnProperty(e)&&null!==T[e].instance},start:function(e){var t=T[e],n=null;if(!T.hasOwnProperty(e))throw new Error("Attempting to start nonexistent module '"+e+"' on TLT.");t&&null===t.instance&&(t.context=new TLT.ModuleContext(e,this),"function"==typeof(n=t.instance=t.creator(t.context)).init&&n.init())},startAll:function(){var e=null;for(e in T)T.hasOwnProperty(e)&&this.start(e)},stop:function(e){var t=T[e],n=null;t&&null!==t.instance&&("function"==typeof(n=t.instance).destroy&&n.destroy(),t.instance=t.context=null)},stopAll:function(){var e=null;for(e in T)T.hasOwnProperty(e)&&this.stop(e)},addService:function(e,t){if(S.hasOwnProperty(e))throw new Error("Attempting to add duplicate service '"+e+"' on TLT.");S[e]={creator:t,instance:null}},getService:function(e){if(S.hasOwnProperty(e)){if(!S[e].instance){try{S[e].instance=S[e].creator(this),"function"==typeof S[e].instance.init&&S[e].instance.init()}catch(t){throw d.clog("UIC terminated due to error when instanciating the "+e+" service."),t}"function"!=typeof S[e].instance.getServiceName&&(S[e].instance.getServiceName=function(){return e})}return S[e].instance}return null},removeService:function(e){delete S[e]},broadcast:function(e){var t,n;if(e&&"object"==typeof e){if(!e.hasOwnProperty("type"))throw new Error("Message is missing property 'type'.");for(t in T)T.hasOwnProperty(t)&&(n=T[t],d.indexOf(n.messages,e.type)>-1&&"function"==typeof n.instance.onmessage&&n.instance.onmessage(e))}},listen:function(e,t){var n=null;this.isStarted(e)&&(n=T[e],-1===d.indexOf(n.messages,t)&&n.messages.push(t))},_getServices:function(){return S},fail:function(e,t,n){e="UIC FAILED. "+e;try{X.destroy(!!n,e)}catch(t){d.clog(e)}throw new X.UICError(e,t)},UICError:function(){function e(e,t){this.message=e,this.code=t}return e.prototype=new Error,e.prototype.name="UICError",e.prototype.constructor=e,e}(),getFlavor:function(){return"w3c"},isCrossOrigin:function(e,t){var n,r,i=!1;if(t=t||window.location.origin,!e||!t)return i;if(r=e.match(/^\/\//),e.match(/^\//)&&!r)i=!1;else if(r||-1!==e.indexOf("://")){r&&-1!==(n=t.indexOf("://"))&&(t=t.substring(n+1));const a=100;var o=t.length;o>a&&(o=a),i=e.length<o||(t!==e.substring(0,t.length)||e.length>t.length&&"/"!==e.charAt(t.length))}else i=!1;return i}};return z=function(){var e=null,t=d.getValue(l,"inactivityTimeout",6e5);function n(){d.clog("UIC self-terminated due to inactivity timeout."),X.destroy(!1,"inactivity")}t?(z=function(){e&&(clearTimeout(e),e=null),e=setTimeout(n,t)})():z=function(){}},P=function(u,f){var p,g,v,y,w,b,T,S,E,C,k,O,L=null;if(_)d.clog("TLT.init() called more than once. Ignoring.");else if(!TLT||!TLT.replay){if((r=X.getService("config")).updateConfig(u),l=r.getCoreConfig(),E=V(l.blockedUserAgents,navigator.userAgent))return d.clog("UIC not initializing because User-Agent matches blockedUserAgents list: ",E),void(TLT.terminationReason="blockedUA: "+E);if(e=X.getService("ajax"),d.browserBaseService=t=X.getService("browserBase"),d.browserService=n=X.getService("browser"),i=X.getService("domCapture"),o=X.getService("queue"),a=X.getService("serializer"),y=(p=r.getModuleConfig("TLCookie")||{}).sessionizationCookieName||"TLTSID","DND"===(w=d.getCookieValue("TLTSID")))return"destroyed"!==x&&X.destroy(!1,"killswitch"),void d.clog("Aborting initialization because the killswitch is active.");if((w=d.getCookieValue(y)||function(e){var t,n,r,i;if(localStorage&&e)return(r=localStorage.getItem(e))&&(n=r.split("|"),t=parseInt(n[0],10),Date.now()>t?localStorage.removeItem(e):i=n[1]),i}(y))||(y=p.wcxCookieName||"WCXSID",w=d.getCookieValue(y)),X._updateModules()){s=X.getModule("dataLayer"),r.subscribe&&r.subscribe("configupdated",X._reinitConfig),_=!0,x="loaded";try{"function"==typeof TLFExtensionNotify&&TLFExtensionNotify("Initialized")}catch(e){d.clog("Call to TLFExtensionNotify failed.",e)}for(v=(g=X.getServiceConfig("queue")).queues||[],(d.isLegacyIE||d.isIE9)&&(L=d.getOriginAndPath().origin),S=0;S<v.length;S+=1){if(L&&X.isCrossOrigin(v[S].endpoint,L))return d.clog("UIC terminated because IE 9 and below doesn't support cross-origin XHR"),X.setAutoFlush(!1),void X.destroy(!1,"CORS not supported");!w&&p.tlAppKey&&(b=v[S].endpoint,(T=v[S].killswitchURL||(b.match("collectorPost")?b.replace("collectorPost","switch/"+p.tlAppKey):null))&&(d.clog("Checking killswitch: "+T),e.sendRequest({type:"GET",url:T,async:!0,timeout:5e3,oncomplete:function(e){d.clog("Killswitch request result",e),"0"!==e.responseText&&0!==e.data||(d.clog("UIC terminated because the killswitch is enabled."),X.setAutoFlush(!1),d.setCookie("TLTSID","DND"),X.destroy(!1,"killswitch"))}}))),v[S].checkEndpoint&&!g.asyncReqOnUnload&&(g.asyncReqOnUnload=!0,d.clog("Pending endpoint check validation..."),e.sendRequest({oncomplete:function(e){e.success&&(g.asyncReqOnUnload=!1,d.clog("Endpoint check passed: ",e),d.clog("UIC will use sync on unload."))},timeout:v[S].endpointCheckTimeout||3e3,url:v[S].endpoint,headers:{"X-PageId":m,"X-Tealeaf-SaaS-AppKey":p.tlAppKey,"X-Tealeaf-EndpointCheck":!0},async:!0,error:function(e){e.success||(d.clog("Endpoint check failed: ",e),d.clog("UIC will use async on unload."),g.endpointCheckFailed=!0)}}))}if(O=function(e){var r,i;r={type:"load",target:window.window,srcElement:window.window,currentTarget:window.window,bubbles:!0,cancelBubble:!1,cancelable:!0,timeStamp:+new Date,customLoad:!0},i=new t.WebEvent(r),X._publishEvent(i),e&&n.unsubscribe(C,k,O)},l.screenviewLoadEvent?(C=l.screenviewLoadEvent.name,k=l.screenviewLoadEvent.target||window,n.subscribe(C,k,O)):O(),X.isInitialized()&&(x="initialized",z(),c=function(e){"mousemove"===e.type&&(h=!0),n.unsubscribe("mousemove",document,c),c=null},n.subscribe("mousemove",document,c,{once:!0})),"function"==typeof A)try{A(x)}catch(e){d.clog("Error in callback.",e)}}else"destroyed"!==x&&X.destroy(!1,"modules init")}},function(){var e,t,n=null;for(n in k)if(k.hasOwnProperty(n))for(e=0,t=k[n].length;e<t;e+=1)!function(e,t){X[t]=function(){var n=this.getService(e);if(n)return n[t].apply(n,arguments)}}(n,k[n][e])}(),X}(),function(){"use strict";var e,t,n,r=window.navigator.userAgent.toLowerCase(),i=-1!==r.indexOf("msie")||-1!==r.indexOf("trident"),o=(n=!!window.performance,i&&(!n||document.documentMode<9)),a=i&&9===document.documentMode,s=-1!==r.indexOf("android"),l=/(ipad|iphone|ipod)/.test(r),u=-1!==r.indexOf("opera mini"),c=-1===r.indexOf("chrome")&&-1!==r.indexOf("safari"),d=1,f={"a:":"link","button:button":"button","button:submit":"button","input:button":"button","input:checkbox":"checkBox","input:color":"colorPicker","input:date":"datePicker","input:datetime":"datetimePicker","input:datetime-local":"datetime-local","input:email":"emailInput","input:file":"fileInput","input:image":"button","input:month":"month","input:number":"numberPicker","input:password":"textBox","input:radio":"radioButton","input:range":"slider","input:reset":"button","input:search":"searchBox","input:submit":"button","input:tel":"tel","input:text":"textBox","input:time":"timePicker","input:url":"urlBox","input:week":"week","select:":"selectList","select:select-one":"selectList","textarea:":"textBox","textarea:textarea":"textBox"},h={isIE:i,isLegacyIE:o,isIE9:a,isAndroid:s,isLandscapeZeroDegrees:!1,isiOS:l,isOperaMini:u,isSafari:c,isUndefOrNull:function(e){return null==e},isArray:function(e){return!(!e||"[object Array]"!==Object.prototype.toString.call(e))},getSerialNumber:function(){var e;return e=d,d+=1,e},getRandomString:function(e,t){var n,r,i="";if(!e)return i;for("string"!=typeof t&&(t="ABCDEFGHJKLMNPQRSTUVWXYZ23456789"),n=0,r=t.length;n<e;n+=1)i+=t.charAt(Math.floor(Math.random()*r));return i},getValue:function(e,t,n){var r,i,o;if(n=void 0===n?null:n,!e||"object"!=typeof e||"string"!=typeof t)return n;for(r=0,i=(o=t.split(".")).length;r<i;r+=1){if(!e||void 0===e[o[r]])return n;e=e[o[r]]}return e},indexOf:function(e,t){return e&&e.indexOf?e.indexOf(t):-1},forEach:function(e,t,n){var r,i;if(!(e&&e.length&&t&&t.call))return 0;for(r=0,i=e.length;r<i;r+=1)t.call(n,e[r],r,e);return 1},some:function(e,t){var n,r,i=!1;for(n=0,r=e.length;n<r;n+=1)if(i=t(e[n],n,e))return i;return i},convertToArray:function(e){for(var t=0,n=e.length,r=[];t<n;)r.push(e[t]),t+=1;return r},mixin:function(e){var t,n,r,i;for(r=1,i=arguments.length;r<i;r+=1)for(t in n=arguments[r])Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e},extend:function(e,t,n){var r="";for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e&&"[object Object]"===Object.prototype.toString.call(n[r])?(void 0===t[r]&&(t[r]={}),this.extend(e,t[r],n[r])):t[r]=n[r]);return t},clone:function(e){var t,n;if(null===e||"object"!=typeof e)return e;if(e instanceof Object){for(n in t="[object Array]"===Object.prototype.toString.call(e)?[]:{},e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=this.clone(e[n]));return t}},parseVersion:function(e){var t,n,r=[];if(!e||!e.length)return r;for(t=0,n=(r=e.split(".")).length;t<n;t+=1)r[t]=/^[0-9]+$/.test(r[t])?parseInt(r[t],10):r[t];return r},isEqual:function(e,t){var n,r,i,o;if(e===t)return!0;if(typeof e!=typeof t)return!1;if(e instanceof Object&&t instanceof Object){if("[object Array]"===Object.prototype.toString.call(e)&&"[object Array]"===Object.prototype.toString.call(t)){if(e.length!==t.length)return!1;for(n=0,o=e.length;n<o;n+=1)if(!this.isEqual(e[n],t[n]))return!1;return!0}if("[object Object]"===Object.prototype.toString.call(e)&&"[object Object]"===Object.prototype.toString.call(t)){for(n=0;n<2;n+=1){for(r in e)if(e.hasOwnProperty(r)){if(!t.hasOwnProperty(r))return!1;if(!this.isEqual(e[r],t[r]))return!1}i=e,e=t,t=i}return!0}}return!1},calculateRelativeXY:function(e){if(h.isUndefOrNull(e)||h.isUndefOrNull(e.x)||h.isUndefOrNull(e.y)||h.isUndefOrNull(e.width)||h.isUndefOrNull(e.height))return"0.5,0.5";var t=Math.abs(e.x/e.width).toFixed(4),n=Math.abs(e.y/e.height).toFixed(4);return(t=t>1||t<0?.5:t)+","+(n=n>1||n<0?.5:n)},createObject:(e=null,t=null,"function"==typeof Object.create?e=Object.create:(t=function(){},e=function(e){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object prototype need to be an object!");return t.prototype=e,new t}),e),access:function(e,t){var n,r,i,o=t||window;if("string"==typeof e&&"object"==typeof o){for(r=0,i=(n=e.split(".")).length;r<i;r+=1)if(0!==r||"window"!==n[r]){if(!Object.prototype.hasOwnProperty.call(o,n[r]))return;if(o=o[n[r]],r<i-1&&!(o instanceof Object))return}return o}},isNumeric:function(e){var t=!1;return h.isUndefOrNull(e)||!/\S/.test(e)?t:t=!isNaN(2*e)},isUpperCase:function(e){return e===e.toUpperCase()&&e!==e.toLowerCase()},isLowerCase:function(e){return e===e.toLowerCase()&&e!==e.toUpperCase()},extractResponseHeaders:function(e){var t,n,r={},i=null;for(t=0,n=(e=e&&e.length?e.split("\n"):[]).length;t<n;t+=1)2===(i=e[t].split(": ")).length&&(r[i[0]]=i[1]);return r},getTargetState:function(e){var t=this.getTagName(e),n={a:["innerText","href"],input:{range:["maxValue:max","value"],checkbox:["value","checked"],radio:["value","checked"],image:["src"]},select:["value"],button:["value","innerText"],textarea:["value"]}[t]||null,r=null,i=null,o=null,a="";if(null!==n)for(a in"[object Object]"===Object.prototype.toString.call(n)&&(n=n[e.type]||["value"]),i={},n)n.hasOwnProperty(a)&&(-1!==n[a].indexOf(":")?i[(o=n[a].split(":"))[0]]=e[o[1]]:"innerText"===n[a]?i[n[a]]=this.trim(e.innerText||e.textContent):i[n[a]]=e[n[a]]);return"select"===t&&e.options&&!isNaN(e.selectedIndex)&&((i=i||{}).index=e.selectedIndex,i.index>=0&&i.index<e.options.length&&(r=e.options[e.selectedIndex],i.value=r.getAttribute("value")||r.getAttribute("label")||r.text||r.innerText,i.text=r.text||r.innerText)),i&&e.disabled&&(i.disabled=!0),i},getDocument:function(e){var t=e;return e&&9!==e.nodeType&&(t=e.getRootNode?e.getRootNode():e.ownerDocument||e.document),t},getWindow:function(e){try{if(e.self!==e){var t=h.getDocument(e);return h.isUndefOrNull(t.defaultView)?t.parentWindow:t.defaultView}}catch(t){e=null}return e},getOriginAndPath:function(e){var t,n,r,i,o,a,s={},l=[],u={};(e=e||window.location).origin?s.origin=e.origin:s.origin=(e.protocol||"")+"//"+(e.host||""),s.path=(e.pathname||"").split(";",1)[0],(s.origin.indexOf("file://")>-1||h.isiOS&&window.Ionic)&&null!==(t=s.path.match(/(.*)(\/.*app.*)/))&&(s.path=t[2],s.origin="file://"),n=e.search||"";try{new URLSearchParams(n).forEach((function(e,t){u[t]=e}))}catch(e){for(n.length>1&&"?"===n.charAt(0)&&(l=decodeURIComponent(n).substring(1).split("&")),o=0;o<l.length;o+=1)(a=l[o].indexOf("="))>-1&&(r=l[o].substring(0,a),i=l[o].substring(a+1),u[r]=i)}return s.queryParams=u,s},getIFrameWindow:function(e){var t=null;if(!e)return t;try{t=e.contentWindow||(e.contentDocument?e.contentDocument.parentWindow:null)}catch(e){}return t},getTagName:function(e){var t="";return h.isUndefOrNull(e)?t:t=e===document||9===e.nodeType?"document":e===window||e===window.window?"window":"string"==typeof e?e.toLowerCase():(e.tagName||e.nodeName||"").toLowerCase()},getTlType:function(e){var t,n,r="";return h.isUndefOrNull(e)||!e.type?r:(n=(t=e.type.toLowerCase())+":",e.subType&&(n+=e.subType.toLowerCase()),r=f[n]||t)},isIFrameDescendant:function(e){var t=h.getWindow(e);return!!t&&t!=TLT._getLocalTop()},getOrientationMode:function(e){var t="INVALID";if("number"!=typeof e)return t;switch(e){case 0:case 180:case 360:t="PORTRAIT";break;case 90:case-90:case 270:t="LANDSCAPE";break;default:t="UNKNOWN"}return t},getOrientationAngle:function(){if("number"==typeof window.orientation)return window.orientation;var e=(screen.orientation||{}).angle;if("number"!=typeof e)switch(screen.mozOrientation||screen.msOrientation){case"landscape-primary":case"landscape-secondary":e=90;break;default:e=0}return e},clog:function(e){if("object"==typeof e.console&&"function"==typeof e.console.log&&"function"==typeof e.console.log.apply){var t=e.console;return function(){t.log.apply(t,arguments)}}return function(){}}(window),trim:function(e){return e&&e.toString?e.trim?e.trim():e.toString().replace(/^\s+|\s+$/g,""):e},ltrim:function(e){return e&&e.toString?e.trimStart?e.trimStart():e.toString().replace(/^\s+/,""):e},rtrim:function(e){return e&&e.toString?e.trimEnd?e.trimEnd():e.toString().replace(/\s+$/,""):e},setCookie:function(e,t,n,r,i,o,a){var s,l,u,c,d,f,h,p="";if("None"===a?o=!0:"Lax"!==a&&(a="Strict"),h=";SameSite="+a,f=o?";Secure":"",e)for(e=encodeURIComponent(e),t=encodeURIComponent(t),u=(i||location.hostname).split("."),d=";Path="+(r||"/"),"number"==typeof n&&(this.isIE?((c=new Date).setTime(c.getTime()+1e3*n),p=";Expires="+c.toUTCString()):p=";Max-Age="+n),s=1===(l=u.length)?1:2;s<=l&&(document.cookie=e+"="+t+";Domain="+u.slice(-s).join(".")+d+p+f+h,this.getCookieValue(e)!==t);s+=1)1===l&&(document.cookie=e+"="+t+d+p+f+h)},getCookieValue:function(e,t){var n,r,i,o,a=null;try{if(t=t||document.cookie,!e||!e.toString)return null;o=(e+="=").length,i=t.split(";");const l=150;var s=i.length;for(s>l&&(s=l),n=0;n<s;n+=1)if(r=i[n],0===(r=h.ltrim(r)).indexOf(e)){a=r.substring(o,r.length);break}}catch(e){a=null}return a},getQueryStringValue:function(e,t,n){var r,i,o,a,s=null;try{if(o=(n=n||window.location.search).length,!e||!e.toString||!o)return null;n=(t=t||"&")+n.substring(1),e=t+e+"=",-1!==(r=n.indexOf(e))&&(a=r+e.length,-1===(i=n.indexOf(t,a))&&(i=o),s=decodeURIComponent(n.substring(a,i)))}catch(e){}return s},addEventListener:window.addEventListener?function(e,t,n){e.addEventListener(t,n,!1)}:function(e,t,n){e.attachEvent("on"+t,n)},matchTarget:function(e,t){var n,r,i,o,a,s,l,u,c=-1,d=document;if(!e||!t)return c;for(this.browserService&&this.browserBaseService||(this.browserService=TLT.getService("browser"),this.browserBaseService=TLT.getService("browserBase")),-2===t.idType&&(i=this.browserBaseService.getNodeFromID(t.id,t.idType),d=this.getDocument(i)),n=0,l=e.length;n<l&&-1===c;n+=1)if("string"==typeof(u=e[n])){for(r=0,a=(o=this.browserService.queryAll(u,d))?o.length:0;r<a;r+=1)if(o[r]&&(s=this.browserBaseService.ElementData.prototype.examineID(o[r])).idType===t.idType&&s.id===t.id){c=n;break}}else if(u&&u.id&&u.idType&&t.idType&&t.idType.toString()===u.idType.toString())switch(typeof u.id){case"string":u.id===t.id&&(c=n);break;case"object":u.cRegex||(u.cRegex=new RegExp(u.id.regex,u.id.flags)),u.cRegex.lastIndex=0,u.cRegex.test(t.id)&&(c=n)}return c},WeakMap:function(){function e(e,t){var n,r;for(n=0,r=(e=e||[]).length;n<r;n+=1)if(e[n][0]===t)return n;return-1}return function(){var t=[];this.set=function(n,r){var i=e(t,n);t[i>-1?i:t.length]=[n,r]},this.get=function(n){var r=t[e(t,n)];return r?r[1]:void 0},this.clear=function(){t=[]},this.has=function(n){return e(t,n)>=0},this.remove=function(n){var r=e(t,n);r>=0&&t.splice(r,1)},this.delete=this.remove}}()};"undefined"!=typeof TLT&&TLT||(window.TLT={}),TLT.utils=h}(),function(){"use strict";TLT.EventTarget=function(){this._handlers={}},TLT.EventTarget.prototype={constructor:TLT.EventTarget,publish:function(e,t){var n=0,r=0,i=this._handlers[e],o={type:e,data:t};if(void 0!==i)for(r=i.length;n<r;n+=1)i[n](o)},subscribe:function(e,t){if(this._handlers.hasOwnProperty(e)||(this._handlers[e]=[]),"function"!=typeof t)throw new Error("Event handler for '"+e+"' isn't a function.");this._handlers[e].push(t)},unsubscribe:function(e,t){var n=0,r=0,i=this._handlers[e];if(i)for(r=i.length;n<r;n+=1)if(i[n]===t)return void i.splice(n,1)}}}(),TLT.ModuleContext=function(){"use strict";var e=["broadcast","getConfig:getModuleConfig","listen","post","getXPathFromNode","performDOMCapture","performFormCompletion","isInitialized","getStartTime","normalizeUrl","getCurrentOffset","getTabId","setSessionCookieInfo"];return function(t,n){var r,i,o={},a=null,s=null,l=null;for(r=0,i=e.length;r<i;r+=1)(a=e[r].split(":")).length>1?(l=a[0],s=a[1]):(l=a[0],s=a[0]),o[l]=function(e){return function(){var r=n.utils.convertToArray(arguments);if(r.unshift(t),!n.hasOwnProperty(e))throw new Error("Attempting to access method '"+e+"' on TLT, but it doesn't exist. There's a misconfigured passthru method.");return n[e].apply(n,r)}}(s);return o.utils=n.utils,o}}(),TLT.addService("config",(function(e){"use strict";function t(t,n){e.utils.extend(!0,t,n),r.publish("configupdated",r.getConfig())}var n={core:{},modules:{},services:{}},r=e.utils.extend(!1,e.utils.createObject(new TLT.EventTarget),{getConfig:function(){return n},getDefaultConfig:function(){var e,t={core:{buildNote:"Acoustic Tealeaf UIC "+window.TLT.getLibraryVersion(),blockedElements:[],ieExcludedLinks:['a[href*="javascript:void"]',"input[onclick*='javascript:']"],blockedUserAgents:[{regex:"(Google|Bing|Face|DuckDuck|Yandex|Exa)bot|spider|archiver",flags:"i"},"PhantomJS"],inactivityTimeout:174e4,modules:{replay:{events:[{name:"change",attachToShadows:!0,recurseFrames:!0},{name:"click",recurseFrames:!0},{name:"dblclick",recurseFrames:!0},{name:"contextmenu",recurseFrames:!0},{name:"pointerdown",recurseFrames:!0},{name:"pointerup",recurseFrames:!0},{name:"hashchange",target:window},{name:"focus",recurseFrames:!0},{name:"blur",recurseFrames:!0},{name:"load",target:window},{name:"unload",target:window},{name:"resize",target:window},{name:"scroll",target:window},{name:"mousemove",recurseFrames:!0},{name:"orientationchange",target:window},{name:"touchend"},{name:"touchstart"},{name:"error",target:window},{name:"visibilitychange"}]},flushQueue:{events:[]},overstat:{enabled:!0,events:[{name:"click",recurseFrames:!0},{name:"mousemove",recurseFrames:!0},{name:"mouseout",recurseFrames:!0},{name:"submit",recurseFrames:!0}]},performance:{enabled:!0,events:[{name:"load",target:window},{name:"unload",target:window}]},ajaxListener:{enabled:!0,events:[{name:"load",target:window},{name:"unload",target:window}]},gestures:{enabled:!0,events:[{name:"tap",target:window},{name:"hold",target:window},{name:"drag",target:window},{name:"release",target:window},{name:"pinch",target:window}]},dataLayer:{enabled:!1,events:[{name:"load",target:window},{name:"unload",target:window}]},TLCookie:{enabled:!0}},screenviewAutoDetect:!0,framesBlacklist:[]},services:{queue:{asyncReqOnUnload:!0,useBeacon:!0,useFetch:!0,xhrEnabled:!0,queues:[{qid:"DEFAULT",endpoint:"",maxEvents:30,timerInterval:6e4,maxSize:3e5,checkEndpoint:!0,endpointCheckTimeout:4e3,encoder:"gzip"}]},message:{privacy:[{targets:["input[type=password]"],maskType:2},{targets:["input[id*=phone]","input[name*=phone]"],maskType:4,maskFunction:function(e){return e.slice(0,-3).replace(/[0-9]/g,"X")+e.slice(-3)}},{exclude:!0,targets:["input[type=hidden]","input[type=radio]","input[type=checkbox]","input[type=submit]","input[type=button]","input[type=search]"],maskType:4,maskFunction:function(e){return e.replace(/[a-z]/gi,"X").replace(/[0-9]/g,"9")}}],privacyPatterns:[{pattern:{regex:"\\d{3}-\\d{2}-\\d{4}",flags:"g"},replacement:"XXX-XX-XXXX"},{pattern:{regex:"<div[^<]*tlPrivate[^<]*>(.+?)</div>",flags:"g"},replacement:function(e,t){if(t.length>0)return e.replace(t,"xxxxxx")}},{pattern:{regex:"<span[^<]*tlPrivate[^<]*>(.+?)</span>",flags:"g"},replacement:function(e,t){if(t.length>0)return e.replace(t,"xxxxxx")}},{pattern:{regex:"<p[^<]*tlPrivate[^<]*>(.+?)</p>",flags:"g"},replacement:function(e,t){if(t.length>0)return e.replace(t,"xxxxxx")}}]},encoder:{gzip:{encode:"window.pako.gzip",defaultEncoding:"gzip"}},domCapture:{diffEnabled:!0,options:{maxLength:1e7,captureShadowDOM:!0,captureDynamicStyles:!0,captureFrames:!0}},browser:{normalizeTargetToParentLink:!0}},modules:{overstat:{hoverThreshold:3e3},performance:{calculateRenderTime:!0,renderTimeThreshold:6e5,performanceAlert:{enabled:!0,threshold:3e3,maxAlerts:100,blacklist:[]}},replay:{domCapture:{enabled:!0,screenviewBlacklist:[],triggers:[{event:"change"},{event:"click"},{event:"dblclick"},{event:"contextmenu"},{event:"visibilitychange"},{event:"load",fullDOMCapture:!0,delay:300}]},mousemove:{enabled:!0,sampleRate:200,ignoreRadius:3}},ajaxListener:{urlBlocklist:[{regex:"brilliantcollector\\.com"}],filters:[{log:{requestHeaders:!0,requestData:!1,responseHeaders:!0,responseData:!1}}]},dataLayer:{dataObject:"window.dataLayer"},TLCookie:{appCookieWhitelist:[{regex:".*"}],tlAppKey:""}}};return window.TLT.utils.isIE&&(9===document.documentMode&&(t.modules.replay.domCapture.enabled=!1,t.modules.ajaxListener.enabled=!1),10===document.documentMode&&(t.services.domCapture.diffEnabled=!1,t.modules.replay.domCapture.triggers=[{event:"click",targets:["a","a *","button","button *"]},{event:"change"},{event:"load",delay:300}])),(window.TLT.utils.isiOS||window.TLT.utils.isAndroid)&&(t.services.queue.queues[0].maxEvents=10,t.services.queue.queues[0].maxSize=1e4,t.services.queue.queues[0].timerInterval=1e4,t.services.queue.queues[0].endpointCheckTimeout=1e4,window.TLT.utils.isiOS&&((e=window.navigator.userAgent.match(/OS (\d+)_/))&&e[1]<13&&(t.services.queue.useBeacon=!1),t.core.modules.flushQueue&&t.core.modules.flushQueue.events?t.core.modules.flushQueue.events.push({name:"visibilitychange"}):console.log("Tealeaf Error: include the flushQueue module!"))),t},updateConfig:function(e){t(n,e)},getCoreConfig:function(){return n.core},updateCoreConfig:function(e){t(n.core,e)},getServiceConfig:function(e){return n.services[e]||{}},updateServiceConfig:function(e,r){void 0===n.services[e]&&(n.services[e]={}),t(n.services[e],r)},getModuleConfig:function(e){return n.modules[e]||{}},updateModuleConfig:function(e,r){void 0===n.modules[e]&&(n.modules[e]={}),t(n.modules[e],r)},destroy:function(){n={core:{},modules:{},services:{}}}});return r})),TLT.addService("queue",(function(e){"use strict";var t=e.utils,n=null,r={},i=6e5,o=e.getService("ajax"),a=e.getService("browser"),s=e.getService("encoder"),l=e.getService("serializer"),u=e.getService("config"),c=e.getService("message"),d=null,f={},h=!0,p=!0,g={5:{limit:300,count:0},6:{limit:400,count:0}},m=[],v=!0,y=!1,w=!0,b=!0,T=function(){var n={};function r(e){return void 0!==n[e]}function i(e){return r(e)?n[e]:null}function o(e){var t=i(e);null!==t&&(t.data=[])}return{exists:r,add:function(e,t){return r(e)||(n[e]={lastOffset:0,data:[],queueId:e,url:t.url,eventThreshold:t.eventThreshold,sizeThreshold:t.sizeThreshold||0,timerInterval:t.timerInterval,size:-1,serializer:t.serializer,encoder:t.encoder,crossDomainEnabled:!!t.crossDomainEnabled,crossDomainIFrame:t.crossDomainIFrame}),n[e]},remove:function(e){r(e)&&delete n[e]},reset:function(){n={}},get:i,clear:o,flush:function(e){var t=null;return r(e)&&(t=i(e).data,o(e)),t},push:function(n,o){var a=null,s=null,u=window.tlBridge,c=window.iOSJSONShuttle;try{s=l.serialize(o)}catch(e){o={error:s="Serialization failed: "+(e.name?e.name+" - ":"")+e.message}}if(void 0!==u&&"function"==typeof u.addMessage)t.clog("Added to Android bridge: ",o),u.addMessage(s);else if(void 0!==c&&"function"==typeof c)t.clog("Added to iOS bridge: ",o),c(s);else if(r(n))return a=i(n),"undefined"!=typeof console&&console.log("Added to queueId: ",n," data: ",o),a.data.push(o),a.data=e.redirectQueue(a.data),a.sizeThreshold&&(s=l.serialize(a.data),a.size=s.length),a.data.length;return 0}}}();function S(e){w&&(b=!0),e&&e.id&&t.extend(!0,m[e.id-1],{rspEnd:c.getCurrentOffset(),success:e.success,statusCode:e.statusCode,statusText:e.statusText}),t.clog("XHR Result: ",e)}function _(e,t,n,r){var i=T.get(e),o={name:t,value:n};"string"==typeof t&&"string"==typeof n&&(i.headers||(i.headers={once:[],always:[]}),(r?i.headers.always:i.headers.once).push(o))}function x(e,t){var n,r,i=T.get(e).headers,o=null;function a(e,t){var n,r,i=null;for(n=0,r=e.length;n<r;n+=1)t[(i=e[n]).name]=i.value}if(t=t||{},i)for(n=0,r=(o=[i.always,i.once]).length;n<r;n+=1)a(o[n],t);return t}function E(e){var t,n=null;if(!T.exists(e))throw new Error("Queue: "+e+" does not exist!");(n=(t=T.get(e))?t.headers:null)&&(n.once=[])}function C(){var t,n,r=0,i=e.provideRequestHeaders();if(i&&i.length)for(r=0,t=i.length;r<t;r+=1)_("DEFAULT",(n=i[r]).name,n.value,n.recurring);return r}function k(e){var t,n,r=[],i="";if(!e||!e.length)return i;for(t=0,n=e.length;t<n;t+=1)r[e[t].type]=!0;for(t=0,n=r.length;t<n;t+=1)r[t]&&(i&&(i+=","),i+=t);return i}function O(r,a){var u,d,f,h,p,g,y=T.get(r),w=y.url?T.flush(r):null,_=w?w.length:0,O={"Content-Type":"application/json","X-PageId":e.getPageId(),"X-Tealeaf":"device (UIC) Lib/6.4.20","X-TealeafType":"GUI","X-TeaLeaf-Page-Url":(g=t.getOriginAndPath(window.location),e.normalizeUrl("",g.path)),"X-Tealeaf-SyncXHR":(!!a).toString()},L=c.getCurrentOffset(),I=y.serializer||"json",M=y.encoder,D=n.tltWorker,P="unloading"===e.getState(),A=t.getOriginAndPath().origin,R=e.isCrossOrigin(y.url,A),z=null;if(_&&y)if(h=L-w[_-1].offset,i&&h>i+6e4)t.clog("UIC self-terminated due to inactivity(1).");else{if(b=!1,y.lastOffset=w[_-1].offset,O["X-Tealeaf-MessageTypes"]=k(w),u=(w=c.wrapMessages(w)).serialNumber,m[u-1]={serialNumber:u,reqStart:L},v&&(w.log={requests:m}),n.endpointCheckFailed&&(w.log.endpointCheckFailed=!0),C(),x(r,O),!D||a||P)if(I&&(w=l.serialize(w,I)),M&&(f=s.encode(w,M))&&(f.data&&!f.error&&(f.data instanceof window.ArrayBuffer?f.data.byteLength<w.length?(w=f.data,O["Content-Encoding"]=f.encoding):f.error=M+" encoder did not reduce payload ("+f.data.byteLength+") compared to original data ("+w.length+")":f.error="Encoder did not apply "+M+" encoding."),f.error&&e.logExceptionEvent("EncoderError: "+f.error,"UIC",-1)),y.crossDomainEnabled){if(!(z=t.getIFrameWindow(y.crossDomainIFrame)))return void t.clog("Cannot access xdomain frame window.");if(d={request:{id:u,url:y.url,async:!a,headers:O,data:w}},"function"==typeof window.postMessage)z.postMessage(d,y.crossDomainIFrame.src);else try{z.sendMessage(d)}catch(e){return void t.clog("Cannot access sendMessage API on xdomain frame window.")}b=!0}else o.sendRequest({id:u,oncomplete:S,url:y.url,async:!a,isUnloading:P,isCrossOrigin:R,headers:O,data:w});else D.onmessage=function(e){t.clog("Message received from worker thread",e),S(e.data)},p={id:u,url:y.url,headers:O,data:w,isUnloading:P,isCrossOrigin:R},D.postMessage(p),t.clog("Message sent to TLT worker from main thread",p);E(r)}}function L(e){var t,r=n.queues;for(t=0;t<r.length;t+=1)O(r[t].qid,e);return!0}function I(r,o){var a,s,l,u=c.createMessage(o),d=T.get(r);if((a=d.data.length)&&(l=u.offset-d.data[a-1].offset,i&&l>i))return t.clog("UIC self-terminated due to inactivity(2)."),e.setAutoFlush(!1),void e.destroy(!1,"inactivity(2)");a=T.push(r,u),s=d.size,w&&!b||(a>=d.eventThreshold||s>=d.sizeThreshold)&&h&&"unloading"!==e.getState()&&("click"!==e.getCurrentWebEvent().type||n.ddfoc?O(r):p&&(p=!1,window.setTimeout((function(){T.exists(r)&&(O(r),p=!0)}),500)))}function M(e){var n,r=!1;return!e||!e.type||((n=g[e.type])&&(n.count+=1,n.count>n.limit&&(r=!0,n.count===n.limit+1&&I("DEFAULT",{type:16,dataLimit:{messageType:e.type,maxCount:n.limit}}),t.clog("WARNING: Message limit ("+n.limit+") reached for message type ["+e.type+"]"))),r)}function D(e,t){f[e]=window.setTimeout((function n(){h&&(!w||w&&b)&&O(e),f[e]=window.setTimeout(n,t)}),t)}function P(e){var t=!1;return e&&f[e]&&(window.clearTimeout(f[e]),delete f[e],t=!0),t}function A(e){}function R(){h&&L(!n.asyncReqOnUnload),u.unsubscribe("configupdated",A),function(){var e=0;for(e in f)f.hasOwnProperty(e)&&P(e);f={}}(),T.reset(),n=null,d=null,y=!1}return{addHeaderToQueue:_,copyHeaders:x,clearHeaders:E,getExternalRequestHeaders:C,getQueueManager:function(){return T},getAutoFlushing:function(){return h},getMessageTypes:k,isMsgLimitReached:M,init:function(){var o;y?t.clog("Attempt to initialize service which has been already initialized(queueService)"):(o=u.getServiceConfig("queue")||{},n=o,r=e.getCoreConfig(),i=t.getValue(r,"inactivityTimeout",6e5),w=t.getValue(n,"serializePost",!0),t.forEach(n.queues,(function(t,n){var r=null;"DEFAULT"===t.qid&&(d=t),t.crossDomainEnabled&&((r=a.query(t.crossDomainFrameSelector))||e.fail("Cross domain iframe not found")),T.add(t.qid,{url:t.endpoint,eventThreshold:t.maxEvents,sizeThreshold:t.maxSize||0,serializer:t.serializer,encoder:t.encoder,timerInterval:t.timerInterval||0,crossDomainEnabled:t.crossDomainEnabled||!1,crossDomainIFrame:r}),void 0!==t.timerInterval&&t.timerInterval>0&&D(t.qid,t.timerInterval)})),u.subscribe("configupdated",A),y=!0)},destroy:function(){R()},_getQueue:function(e){return T.get(e).data},setAutoFlush:function(e){h=!0===e},flush:function(e){if(e=e||d.qid,!T.exists(e))throw new Error("Queue: "+e+" does not exist!");O(e)},flushAll:function(e){return L(!!e)},post:function(r,i,o){e.isInitialized()?(o=o||function(e){var t,r,i,o,a=null,s=n.queues;for(t=0,i=s.length;t<i;t+=1)if((a=s[t])&&a.modules)for(r=0,o=a.modules.length;r<o;r+=1)if(a.modules[r]===e)return a.qid;return d.qid}(r),T.exists(o)?M(i)||I(o,i):t.clog("Queue: "+o+" does not exist!")):t.clog("Attempt to post by '"+r+"' when UIC is not initialized!")},resetFlushTimer:function(e){var n,r;(e=e||d.qid,T.exists(e))?(n=e)&&P(n)&&(r=T.get(n)).timerInterval&&D(n,r.timerInterval):t.clog("Attempt to reset timer of a queue ["+e+"] that does not exist!")},setXHRLog:function(){v=!v,t.clog("XHR logging "+(v?"enabled":"disabled"))}}})),TLT.addService("browserBase",(function(e){"use strict";var t,n,r,i,o,a,s,l,u,c=e.utils,d={optgroup:!0,option:!0,nobr:!0},f={},h=null,p=!1,g=5,m=60;function v(){n=e.getService("config"),h=e.getService("serializer"),r=n?n.getServiceConfig("browser"):{},i=r.blacklist||[],o=r.customid||[],a=c.getValue(r,"normalizeTargetToParentLink",!0),s=c.getValue(r,"logAttributes",[])}function y(e){var t,n,r,i,o,a={};if(!e||!e.hasAttribute)return a;for(t=0,n=s.length,o=0;t<n&&o<g;t+=1)r=s[t],e.hasAttribute(r)&&(i=e.getAttribute(r)||"",a[r]=i.slice(0,m),o+=1);return a}function w(e,t){var n,r,o;if(!e)return null;if(!(o=void 0!==t?t:e.id)||"string"!=typeof o)return null;for(n=0,r=i.length;n<r;n+=1)if("string"==typeof i[n]){if(o===i[n])return null}else if("object"==typeof i[n]&&(i[n].cRegex||(i[n].cRegex=new RegExp(i[n].regex,i[n].flags)),i[n].cRegex.lastIndex=0,i[n].cRegex.test(o)))return null;return o}function b(e,t){var n,r={type:null,subType:null};if(!e)return r;switch(n=e.type){case"focusin":n="focus";break;case"focusout":n="blur"}return r.type=n,r}function T(e){var t={type:null,subType:null};return e?(t.type=c.getTagName(e),t.subType=e.type||null,t):t}function S(e){var t="null";return e&&e.length?t=h.serialize(e,"json"):t}function _(e,t,n,r){var i;return i=l(e,!!t,!!r),n?i:S(i)}function x(e){var t,n={left:-1,top:-1};return t=(e=e||document).documentElement||e.body.parentNode||e.body,n.left=Math.round("number"==typeof window.pageXOffset?window.pageXOffset:t.scrollLeft),n.top=Math.round("number"==typeof window.pageYOffset?window.pageYOffset:t.scrollTop),n}function E(e){return e&&void 0!==e.originalEvent&&void 0!==e.isDefaultPrevented&&!e.isSimulated}function C(e){return e?(e.type&&0===e.type.indexOf("touch")&&(E(e)&&(e=e.originalEvent),"touchstart"===e.type?e=e.touches[e.touches.length-1]:"touchend"===e.type&&(e=e.changedTouches[0])),e):null}function k(e){var t,n,r=e||window.event,i=document.documentElement,o=document.body,a=!1,s=null;if(E(r)&&(r=r.originalEvent),void 0!==e&&void 0!==r.target||(r.target=r.srcElement||window.window,r.timeStamp=Number(new Date),null!==r.pageX&&void 0!==r.pageX||(r.pageX=r.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),r.pageY=r.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),r.preventDefault=function(){this.returnValue=!1},r.stopPropagation=function(){this.cancelBubble=!0}),"click"===r.type){for(t=r.composedPath?r.composedPath():[],n=0;n<t.length;n+=1)if("button"===c.getTagName(t[n])){a=!0,s=t[n];break}if(a)return{originalEvent:r,target:s,srcElement:s,type:r.type,pageX:r.pageX,pageY:r.pageY}}return r}function O(e){var t,n,r,i=null;if(!e||!e.type)return null;if(0===e.type.indexOf("touch"))i=C(e).target;else if("function"==typeof e.composedPath)if((r=e.composedPath())&&r.length){if(i=r[0],a)for(t=0,n=r.length;t<n;t+=1)if("a"===c.getTagName(r[t])){i=r[t];break}}else i=e.target||window.window;else i=e.srcElement?e.srcElement:e.target;for(;i&&d[c.getTagName(i)]&&i.parentElement;)i=i.parentElement;return 9===i.nodeType&&i.documentElement&&(i=i.documentElement),i}function L(e){var t=0,n=0,r=document.documentElement,i=document.body;return(e=C(e))&&(e.pageX||e.pageY?(t=e.pageX,n=e.pageY):(e.clientX||e.clientY)&&(t=e.clientX+(r?r.scrollLeft:i?i.scrollLeft:0)-(r?r.clientLeft:i?i.clientLeft:0),n=e.clientY+(r?r.scrollTop:i?i.scrollTop:0)-(r?r.clientTop:i?i.clientTop:0))),{x:t,y:n}}function I(e,t){this.x=Math.round(e||0),this.y=Math.round(t||0)}function M(e,t){this.width=Math.round(e||0),this.height=Math.round(t||0)}function D(e,t){var n,r,i,o;t=O(e),n=this.examineID(t),i=T(t),o=this.examinePosition(e,t),(r=t&&t.getAttribute?t.getAttribute("aria-label"):null)&&(this.accessibility={id:r}),this.attributes=y(t),t&&t.innerText&&(this.attributes.innerText=c.trim(t.innerText).slice(0,m)),this.element=t,this.id=n.id,this.idType=n.idType,this.type=i.type,this.subType=i.subType,this.state=this.examineState(t),this.position=new I(o.x,o.y),this.position.relXY=o.relXY,this.size=new M(o.width,o.height),this.xPath=n.xPath,this.name=n.name}function P(){var e,t,n,r=1;if(document.body.getBoundingClientRect){try{e=document.body.getBoundingClientRect()}catch(e){return c.clog("getBoundingClientRect failed.",e),r}t=e.right-e.left,n=document.body.offsetWidth,r=Math.round(t/n*100)/100}return r}function A(e){var t,n,r,i;if(!e||!e.getBoundingClientRect)return{x:0,y:0,width:0,height:0};try{t=e.getBoundingClientRect(),i=x(document)}catch(e){return c.clog("getBoundingClientRect failed.",e),{x:0,y:0,width:0,height:0}}return n={x:t.left+i.left,y:t.top+i.top,width:t.right-t.left,height:t.bottom-t.top},c.isIE&&(n.x-=document.documentElement.clientLeft,n.y-=document.documentElement.clientTop,1!==(r=P())&&(n.x=Math.round(n.x/r),n.y=Math.round(n.y/r),n.width=Math.round(n.width/r),n.height=Math.round(n.height/r))),n}function R(){var e=c.getOrientationAngle();return c.isLandscapeZeroDegrees&&(180===Math.abs(e)||0===Math.abs(e)?e=90:90!==Math.abs(e)&&270!==Math.abs(e)||(e=0)),e}function z(t){var n,r,i,o,a;if(t)return t;for(a in t={},o=(e.getCoreConfig()||{}).modules)if(o.hasOwnProperty(a)&&o[a].events)for(n=0,r=o[a].events.length;n<r;n+=1)(i=o[a].events[n]).state&&(t[i.name]=i.state);return t}function N(e){var n;return(t=z(t))[e.type]&&(n=c.getValue(e,t[e.type],null)),n}function U(e){var t,n,r;this.data=e.data||null,this.delegateTarget=e.delegateTarget||null,(e.gesture||e.originalEvent&&e.originalEvent.gesture)&&(this.gesture=e.gesture||e.originalEvent.gesture,this.gesture.idType=new D(this.gesture,this.gesture.target).idType),t=L(e=k(e)),this.custom=!1,this.nativeEvent=!0===this.custom?null:e,this.position=new I(t.x,t.y),this.target=new D(e,e.target),this.orientation=R(),(r=N(e))&&(this.target.state=r),this.timestamp=(new Date).getTime(),n=b(e,this.target),this.type=n.type,this.subType=n.subType}function V(e,t,n){var r,i,o,a=[];return this instanceof V?e&&e.nodeType?(3===e.nodeType&&(e=e.parentElement),r=(o=l(e,!1,t,n))[0],a=o.length&&(1===r.length||2===r.length&&"h"===r[1])?l(e,!0,t):c.clone(o),this.xpath=S(o),this.xpathList=o,this.fullXpath=S(a),this.fullXpathList=a,i=a[a.length-1],this.isShadowHost=!!i&&"h"===i[i.length-1],this.applyPrefix=function(e){var t,n;e instanceof V&&e.fullXpathList.length&&(n=e.fullXpathList[e.fullXpathList.length-1],t=this.fullXpathList.shift(),c.isEqual(t[0],n[0])?(this.fullXpathList=e.fullXpathList.concat(this.fullXpathList),this.fullXpath=S(this.fullXpathList),1!==(t=this.xpathList.shift()).length?(this.xpathList=e.xpathList.concat(this.xpathList),this.xpath=S(this.xpathList)):this.xpathList.unshift(t)):this.fullXpathList.unshift(t))},this.compare=function(e){return e instanceof V?this.fullXpathList.length-e.fullXpathList.length:0},this.isSame=function(e){var t=!1;return e instanceof V?(0===this.compare(e)&&(t=this.fullXpath===e.fullXpath),t):t},void(this.containedIn=function(e,t){var n,r,i,o;if(!(e instanceof V))return!1;if(e.fullXpathList.length>this.fullXpathList.length)return!1;for(n=0,i=e.fullXpathList.length;n<i;n+=1)if(!c.isEqual(e.fullXpathList[n],this.fullXpathList[n]))return!1;if(!t)for(r=n,i=this.fullXpathList.length;r<i;r+=1)if("h"===(o=this.fullXpathList[r])[o.length-1])return!1;return!0})):(this.fullXpath="",this.xpath="",this.fullXpathList=[],void(this.xpathList=[])):null}return u={nobr:!0},l=function(t,n,r,i){var o,a,s,l,d=document.documentElement,f=null,h=null,p=null,g=[],m=!0,v=e._getLocalTop(),y="",b=!1;if(!t||!t.nodeType)return g;if(11===t.nodeType){if(!(t=t.host))return g;b=!0}for(;m;)if(m=!1,"window"!==(y=c.getTagName(t)))if(y&&!b&&u[y])t=t.parentNode,m=!0;else{for(a=w(t,i);t&&(1===t.nodeType||9===t.nodeType)&&t!==document&&(n||!a);a=w(t))if(p=t.parentNode){if(!(f=p.firstChild)){g.push(["XPath Error(1)"]),t=null;break}for(o=0;f;f=f.nextSibling)if(1===f.nodeType&&c.getTagName(f)===y){if(f===t){s=[y,o],b&&(s.push("h"),b=!1),g[g.length]=s;break}o+=1}11===p.nodeType?(t=p.host,b=!0):t=p,y=c.getTagName(t)}else{if(!(h=c.getWindow(t))||r)return s=[y,0],g[g.length]=s,g.reverse();if(h===v)return g.reverse();t=h.frameElement,y=c.getTagName(t),p=t.parentNode}a&&!n&&(s=[a],b&&(s.push("h"),b=!1),g[g.length]=s,c.isIFrameDescendant(t)?(m=!0,t=c.getWindow(t).frameElement):r||d.contains(t)||(t.getRootNode&&(l=t.getRootNode())&&(t=l.host,b=!0,m=!0),m||c.clog("Node is neither in the document nor in Shadow DOM, orphaned?",t))),i=void 0}return g.reverse()},f.xpath=function(e,t){var n,r,i,o,a,s,l,u,d=null,f=!1;if(!e)return null;if(n=h.parse(e),r=t=t||document,!n)return null;for(o=0,l=n.length;o<l&&r;o+=1){if(f=(d=n[o]).length>1&&"h"===d[d.length-1],1===d.length||2===d.length&&f)r=t.getElementById?t.getElementById(d[0]):t.querySelector?t.querySelector("#"+d[0]):null;else{for(a=0,s=-1,u=r.childNodes.length;a<u;a+=1)if(1===r.childNodes[a].nodeType&&c.getTagName(r.childNodes[a])===d[0].toLowerCase()&&(s+=1)===d[1]){r=r.childNodes[a];break}if(s!==d[1])return null}if(!r)return c.clog("Unable to locate xpath component ("+o+") "+d[0]),null;if(f&&o<l-1){if(!r.shadowRoot)return c.clog("Host ("+o+") "+d[0]+" does not have a shadow root or the shadow root is not accessible."),null;t=r=r.shadowRoot}("frame"===(i=c.getTagName(r))||"iframe"===i)&&o<l-1&&(t=r=c.getIFrameWindow(r).document)}return r!==t&&r?r:null},D.HTML_ID=-1,D.XPATH_ID=-2,D.ATTRIBUTE_ID=-3,D.prototype.examineID=function(e,t){var n,r,i={id:"",idType:0,xPath:"",name:""},a=o.length,s=document.documentElement;if(!e)return i;i.xPath=_(e,!1,!1,t),i.name=e.name;try{if(r="function"!=typeof s.contains||s.contains(e),(t||r)&&(!c.getWindow(e)||!c.isIFrameDescendant(e)))if(w(e))i.id=e.id,i.idType=D.HTML_ID;else if(o.length&&e.attributes)for(;a;)a-=1,void 0!==(n=e.attributes[o[a]])&&(i.id=o[a]+"="+(n.value||n),i.idType=D.ATTRIBUTE_ID)}catch(e){}return i.id||(i.id=i.xPath,"null"!==i.id&&(i.idType=D.XPATH_ID)),i},D.prototype.examineState=function(e){return c.getTargetState(e)},D.prototype.examinePosition=function(e,t){var n=L(e),r=A(t);return r.x=n.x||n.y?Math.round(Math.abs(n.x-r.x)):r.width/2,r.y=n.x||n.y?Math.round(Math.abs(n.y-r.y)):r.height/2,r.relXY=c.calculateRelativeXY(r),r},V.prototype={},{getAttributesToBeLogged:y,normalizeEvent:k,normalizeTarget:O,getEventDetails:C,getEventPosition:L,getEventType:b,getElementType:T,getBoundingClientRectNormalized:A,checkId:w,getZoomValue:P,getDocScrollPosition:x,initCustomEventList:z,getCustomState:N,init:function(){p?c.clog("Attempt to initialize service which has been already initialized(browserBaseService)"):(v(),n&&n.subscribe("configupdated",v),p=!0)},destroy:function(){n&&n.unsubscribe("configupdated",v),p=!1},WebEvent:U,ElementData:D,Xpath:V,processDOMEvent:function(t){e.isInitialized()?e._publishEvent(new U(t)):c.clog("processDOMEvent API invoked when UIC is not initialized!")},getNormalizedOrientation:R,getXPathFromNode:function(e,t,n,r,i){return _(t,n,r,i)},getNodeFromID:function(e,t,n){var r,i,o="-1",a="-2",s="-3",l=null;return e&&t?(r=n||window.document,(t=t.toString())===o?r.getElementById?l=r.getElementById(e):r.querySelector&&(l=r.querySelector("#"+e)):t===s?(i=e.split("="),r.querySelector&&(l=r.querySelector("["+i[0]+'="'+i[1]+'"]'))):t===a&&(l=f.xpath(e,r)),l):l},queryDom:f}})),TLT.addService("browser",(function(e){"use strict";var t,n=e.utils,r=e.getService("config"),i=e.getService("browserBase"),o=null,a=null,s=r?r.getServiceConfig("browser"):{},l=n.getValue(s,"useCapture",!0),u=n.getValue(s,"usePassive",!0),c=!1,d={NO_QUERY_SELECTOR:"NOQUERYSELECTOR"},f={list2Array:function(e){var t,n=e.length,r=[];if(void 0===e.length)return[e];for(t=0;t<n;t+=1)r[t]=e[t];return r},find:function(e,t,n){return n=n||"css",this.list2Array(this[n](e,t))},css:function(e,t){return(t=t||document).querySelectorAll(e)}},h=(t=new n.WeakMap,{add:function(r){var o,a=t.get(r)||[(o=r,function(t){e.isInitialized()||n.clog(t.type+" received but UIC is not initialized.",t);var r=new i.WebEvent(t);"resize"===t.type||"hashchange"===t.type?setTimeout((function(){o(r)}),5):o(r)}),0];return a[1]+=1,t.set(r,a),a[0]},find:function(e){var n=t.get(e);return n?n[0]:null},remove:function(e){var n=t.get(e);n&&(n[1]-=1,n[1]<=0&&t.remove(e))}});function p(e){var t={capture:l,passive:u};return n.isIE?l:n.mixin(t,e)}function g(){if(f.xpath=i.queryDom.xpath,document.querySelectorAll||e.fail("querySelectorAll does not exist!",d.NO_QUERY_SELECTOR),"function"==typeof document.addEventListener)o=function(e,t,n,r){r=p(r),e.addEventListener(t,n,r)},a=function(e,t,n,r){r=p(r),e.removeEventListener(t,n,r)};else{if(void 0===document.attachEvent)throw new Error("Unsupported browser");o=function(e,t,n){e.attachEvent("on"+t,n)},a=function(e,t,n){e.detachEvent("on"+t,n)}}c=!0}return{queryDom:f,init:function(){c?n.clog("Attempt to initialize service (browserService.w3c) which has been already initialized."):g()},destroy:function(){c=!1},getServiceName:function(){return"W3C"},query:function(e,t,n){try{return f.find(e,t,n)[0]||null}catch(e){return console.log(e.message),[]}},queryAll:function(e,t,n){try{return f.find(e,t,n)}catch(e){return console.log(e.message),[]}},matches:function(e,t){var n=!1;try{t&&e&&(t.matches?n=t.matches(e):t.msMatchesSelector&&(n=t.msMatchesSelector(e)))}catch(e){console.log(e.message)}return n},subscribe:function(e,t,n,r){var i=h.add(n);o(t,e,i,r)},unsubscribe:function(e,t,r,i){var o=h.find(r);if(o){try{a(t,e,o,i)}catch(t){n.clog("Unsubscribe failed for event: "+e+"\n"+t.message)}h.remove(r)}}}})),TLT.addService("ajax",(function(e){"use strict";var t,n=e.utils,r=!1,i=!1,o=!1;function a(e){var t="",n=[];for(t in e)e.hasOwnProperty(t)&&n.push([t,e[t]]);return n}function s(e){var t="",n="?";for(t in e)e.hasOwnProperty(t)&&(n+=encodeURIComponent(t)+"="+encodeURIComponent(e[t])+"&");return n.slice(0,-1)}function l(e){var r,i,o=t(),s=[["X-Requested-With","XMLHttpRequest"]],l=0,u="boolean"!=typeof e.async||e.async,c="",d=null;for(e.headers&&(s=s.concat(a(e.headers))),e.contentType&&s.push(["Content-Type",e.contentType]),o.open(e.type.toUpperCase(),e.url,u),r=0,i=s.length;r<i;r+=1)(c=s[r])[0]&&c[1]&&o.setRequestHeader(c[0],c[1]);e.error&&(e.error=function(e){if("function"==typeof e)return function(t){var r,i,o=!1;if(t){if(!(r=t.target))return e(t);(i=r.status)>=200&&i<300&&(o=!0),e({headers:n.extractResponseHeaders(r.getAllResponseHeaders()),responseText:r.responseText,statusCode:i,statusText:r.statusText,id:r.id,success:o})}}}(e.error),o.addEventListener("error",e.error)),o.onreadystatechange=d=function(){4===o.readyState&&(o.onreadystatechange=d=function(){},e.timeout&&window.clearTimeout(l),e.oncomplete({id:e.id,headers:n.extractResponseHeaders(o.getAllResponseHeaders()),responseText:o.responseText||null,statusCode:o.status,statusText:o.statusText,success:o.status>=200&&o.status<300}),o=null)},o.send(e.data||null),d(),e.timeout&&(l=window.setTimeout((function(){o&&(o.onreadystatechange=function(){},4!==o.readyState&&(o.abort(),"function"==typeof e.error&&e.error({id:e.id,statusCode:o.status,statusText:"timeout",success:!1})),e.oncomplete({id:e.id,headers:n.extractResponseHeaders(o.getAllResponseHeaders()),responseText:o.responseText||null,statusCode:o.status,statusText:"timeout",success:!1}),o=null)}),e.timeout))}return{convertHeadersToArray:a,convertHeadersToQuery:s,init:function(){var a;o||(a=e.getServiceConfig("queue"),t=void 0!==window.XMLHttpRequest?function(){return new XMLHttpRequest}:function(){return new ActiveXObject("Microsoft.XMLHTTP")},a&&(r=n.getValue(a,"useBeacon",!0)&&"function"==typeof navigator.sendBeacon,i=n.getValue(a,"useFetch",!0)&&"function"==typeof window.fetch),o=!0)},destroy:function(){o=!1},sendRequest:function(e){var t,n=!0;e.type=e.type||"POST",!e.isUnloading&&e.async||!r||(n=!1,t=function(e){var t,n=s(e.headers);return t="string"==typeof e.data?e.data:e.data?new Uint8Array(e.data):"",navigator.sendBeacon(e.url+n,t)}(e),t||(n=!0)),n&&(e.async&&i&&!e.timeout?function(e){var t=e.headers||{},n=e.id||0,r={method:e.type,headers:t,body:e.data,mode:e.isCrossOrigin?"cors":"same-origin",credentials:e.isCrossOrigin?"omit":"same-origin",keepalive:!e.isCrossOrigin&&e.isUnloading,cache:"no-store"},i=e.oncomplete||function(){};t["X-Requested-With"]="fetch",window.fetch(e.url,r).then((function(e){var t={success:e.ok,statusCode:e.status,statusText:e.statusText,id:n};t.success?e.text().then((function(e){try{t.data=JSON.parse(e)}catch(n){t.data=e}i(t)})).catch((function(e){t.statusCode=1,t.statusText=e.message,i(t)})):i(t)})).catch((function(e){var t={success:!1,statusCode:2,statusText:e.message,id:n};i(t)}))}(e):l(e))}}})),TLT.addService("domCapture",(function(e){"use strict";var t,n,r,i,o,a,s,l=e.getService("config"),u=e.getService("browserBase"),c=e.getService("browser"),d={maxMutations:100,maxLength:1e6,captureShadowDOM:!1,captureDynamicStyles:!1,captureHREFStyles:!1,captureFrames:!1,removeScripts:!0,removeComments:!0,captureStyle:!0},f={childList:!0,attributes:!0,attributeOldValue:!0,characterData:!0,subtree:!0},h=void 0!==window.MutationObserver,p=f,g=[],m=[],v=[],y=[],w=[],b=[],T=0,S=100,_=!1,x=!1,E=!1,C=function(){},k=function(){},O=e._publishEvent,L=!1,I=e.utils,M=Object.getOwnPropertyDescriptor(Document.prototype,"styleSheets"),D=Object.getOwnPropertyDescriptor(Document.prototype,"adoptedStyleSheets"),P={},A={},R={};function z(e){var t,n;if(e)for(t=0,n=e.length;t<n;t+=1)delete e[t].oldValue;return e}function N(e,t){var n,r,i=-1;if(!e||!t)return i;for(n=0,r=e.length;n<r;n+=1)if(e[n].name===t){i=n;break}return i}function U(e,t){var n,r,i,o;for(n=0,r=e.length,o=!1;n<r;n+=1)if((i=e[n]).name===t.name){i.oldValue===t.value?e.splice(n,1):i.value=t.value,o=!0;break}return o||e.push(t),e}function V(e,t){var n,r,i,o,a,s,l,u=0;for(e.removedNodes=t.removedNodes.length,e.addedNodes=I.convertToArray(t.addedNodes),n=0,o=y.length;n<o;n+=1)if(s=y[n],e.isSame(s)){if(e.removedNodes)for(r=0;r<t.removedNodes.length;r+=1)-1!==(i=s.addedNodes.indexOf(t.removedNodes[r]))&&(s.addedNodes.splice(i,1),e.removedNodes-=1);if(s.removedNodes+=e.removedNodes,s.addedNodes.concat(e.addedNodes),!s.removedNodes&&!s.addedNodes.length){for(l=!1,r=0;r<y.length;r+=1)if(s!==y[r]&&y[r].containedIn(s)){l=!0;break}l||(y.splice(n,1),u=-1)}a=!0;break}return a||(y.push(e),u=1),u}function F(e,t){var n,r,i,o,a,s=!1;for(n=0,i=y.length;!s&&n<i;n+=1)if(a=y[n],e.containedIn(a))for(o=a.addedNodes,r=0;r<o.length;r+=1)if(o[r].contains&&o[r].contains(t)){s=!0;break}return s}function H(e,n){var r,i,o,a,s,l=null,c=0;if("checked"===(o=n.attributeName)||"selected"===o){if(l=u.ElementData.prototype.examineID(n.target),t.isPrivacyMatched(l))return c;l=null}if("value"===o&&((l=u.ElementData.prototype.examineID(n.target)).currState=I.getTargetState(n.target)||{},l.currState.value?t.applyPrivacyToTarget(l):l=null),e.attributes=[{name:o,oldValue:n.oldValue,value:l?l.currState.value:n.target.getAttribute(o)}],(a=e.attributes[0]).oldValue===a.value)return c;for(r=0,i=b.length,s=!1;r<i;r+=1)if(l=b[r],e.isSame(l)){l.attributes=U(l.attributes,a),l.attributes.length?F(e,n.target)&&(b.splice(r,1),c=-1):(b.splice(r,1),c=-1),s=!0;break}return s||F(e,n.target)||(b.push(e),c=1),c}function j(){return new window.MutationObserver((function(t){t&&(!function(e){var t,n,r,i,o;if(e&&e.length)if(_)T+=e.length;else{for(t=0,n=e.length;t<n&&T<S;t+=1)if(i=e[t],(o=new u.Xpath(i.target))&&(r=o.fullXpathList).length&&"html"===r[0][0])switch(i.type){case"characterData":case"childList":T+=V(o,i);break;case"attributes":T+=H(o,i);break;default:I.clog("Unknown mutation type: "+i.type)}T>=S&&(I.clog("Switching to full DOM capture as total mutations ("+T+") matched or exceeded configured threshold ("+S+")"),_=!0,T+=n-t)}}(t),I.clog("Processed ["+t.length+"] mutation records."),e.invokeMutationCallbacks(t))}))}function X(e){var t=i.call(this,e);return r&&t&&r.observe(t,p),t}function q(e,t){return this.updateOwner(),this.insertRuleOriginal(e,t)}function B(e){this.deleteRuleOriginal(e),this.updateOwner()}function Y(e){this.replaceSyncOriginal(e),this.updateOwner()}function W(e){this.replaceOriginal(e),this.updateOwner()}function K(){if(this.ownersReference)for(var e=Object.keys(this.ownersReference),t=0;t<e.length;t+=1){var n=e[t];P[n]||(w.push(n),P[n]=!0)}}function Q(e){this.ownersReference||(this.ownersReference={}),this.ownersReference[e]=!0,P[e]=!0}function J(e){this.ownersReference&&delete this.ownersReference[e]}function G(e){e.domId=Math.random().toString(16).slice(2),A[e.domId]=e,P[e.domId]=!0;var t=[].concat.apply([],e.adoptedStyleSheets);if(t=t.concat.apply(t,e.styleSheets))for(var n=0;n<t.length;n+=1){var r=t[n];r.ownersReference||(r.ownersReference={}),r.ownersReference[e.domId]=!0}}function Z(e){if(!e||!e.alreadyModified){e.alreadyModified=!0;var t=Object.getOwnPropertyDescriptor(e.Document.prototype,"adoptedStyleSheets"),n=Object.getOwnPropertyDescriptor(e.Document.prototype,"styleSheets");return Object.defineProperty(e.Document.prototype,"adoptedStyleSheets",{set:function(e){var n,r;if(this.domId||G(this),(r=this.adoptedStyleSheets).length>0)for(n=0;n<r.length;n+=1)r[n].removeOwnership(this.domId);for(n=0;n<e.length;n+=1)e[n].publishOwnership(this.domId);return t.set.call(this,e)}}),Object.defineProperty(e.Document.prototype,"styleSheets",{get:function(){var e,t;for(t=n.get.call(this),this.domId||G(this),e=0;e<t.length;e+=1)t[e].publishOwnership(this.domId);return t}}),e.CSSStyleSheet.prototype.insertRuleOriginal=e.CSSStyleSheet.prototype.insertRule,e.CSSStyleSheet.prototype.deleteRuleOriginal=e.CSSStyleSheet.prototype.deleteRule,e.CSSStyleSheet.prototype.insertRule=q,e.CSSStyleSheet.prototype.deleteRule=B,e.CSSStyleSheet.prototype.replaceSyncOriginal=e.CSSStyleSheet.prototype.replaceSync,e.CSSStyleSheet.prototype.replaceOriginal=e.CSSStyleSheet.prototype.replace,e.CSSStyleSheet.prototype.replaceSync=Y,e.CSSStyleSheet.prototype.replace=W,e.CSSStyleSheet.prototype.publishOwnership=Q,e.CSSStyleSheet.prototype.removeOwnership=J,void(e.CSSStyleSheet.prototype.updateOwner=K)}}function $(o){var u,c,m,y,w,b,T=l.getCoreConfig();if(l.subscribe("configupdated",k),t=e.getService("message"),(n=o).options=I.mixin({},d,n.options),h=h&&I.getValue(n,"diffEnabled",!0),S=I.getValue(n.options,"maxMutations",100),h&&(p=I.getValue(n,"diffObserverConfig",f),r=j(),g.push(window)),(b=n.options.captureShadowDOM&&Element.prototype.attachShadow)&&window.ShadyDOM&&window.ShadyDOM.inUse&&(n.options.captureShadowDOM=!1,b=!1),b)for(m in T.modules)if(T.modules.hasOwnProperty(m))for(u=0,c=(w=T.modules[m].events||[]).length;u<c;u+=1)w[u].attachToShadows&&(y=w[u].name,-1===I.indexOf(v,y)&&v.push(y));n.options.captureDynamicStyles&&document.adoptedStyleSheets&&(Z(window),b&&(a=Object.getOwnPropertyDescriptor(ShadowRoot.prototype,"adoptedStyleSheets"),s=Object.getOwnPropertyDescriptor(ShadowRoot.prototype,"styleSheets"),Object.defineProperty(ShadowRoot.prototype,"adoptedStyleSheets",{set:function(e){var t,n;if(this.domId||G(this),(n=this.adoptedStyleSheets).length>0)for(t=0;t<n.length;t+=1)n[t].removeOwnership(this.domId);for(t=0;t<e.length;t+=1)e[t].publishOwnership(this.domId);return a.set.call(this,e)}}),Object.defineProperty(ShadowRoot.prototype,"styleSheets",{get:function(){var e,t;for(t=s.get.call(this),this.domId||G(this),e=0;e<t.length;e+=1)t[e].publishOwnership(this.domId);return t}})),G(document)),r&&(r.observe(window.document,p),!i&&I.getValue(n,"options.captureShadowDOM",!1)&&(i=Element.prototype.attachShadow,Element.prototype.attachShadow=X),L=!0),E=!0}function ee(){return"tlt-"+I.getSerialNumber()}function te(e,t,n){var r,i,o,a,s,l=[];if(!e||!t)return l;if(n&&2===n.length&&(i=n[0],o=n[1]),(a=e.querySelectorAll(t))&&a.length)for(r=a.length-1;r>=0;r-=1)s=a[r],i?s[i]===o&&l.push(s):l.push(s);return l}function ne(e,t,n){var r,i,o;for(r=(o=te(e,t,n)).length-1;r>=0;r-=1)(i=o[r]).parentNode.removeChild(i);return e}function re(e,t){var n,r,i=te(e,"img"),o=new RegExp("^data:image/(.*?);base64");for(n=0;n<i.length;n++)r=i[n],o.test(r.src)&&r.src.length>t&&(r.src="",r.setAttribute("removedByUIC",!0));return e}function ie(e,t){var n,r;for(n=0;e.hasChildNodes()&&n<e.childNodes.length;n+=1)(r=e.childNodes[n]).nodeType===t?(e.removeChild(r),n-=1):r.hasChildNodes()&&ie(r,t);return e}function oe(e){var t,n,r=null;if(!e)return r;switch(e.nodeType){case 1:(t=e.ownerDocument)&&t.documentElement===e&&(n=t.doctype);break;case 9:n=e.doctype}return n&&(r="<!DOCTYPE "+n.name+(n.publicId?' PUBLIC "'+n.publicId+'"':"")+(!n.publicId&&n.systemId?" SYSTEM":"")+(n.systemId?' "'+n.systemId+'"':"")+">"),r}function ae(e,t){var n,r,i,o,a,s;if(t&&(o=e.querySelectorAll("input"),a=t.querySelectorAll("input")))for(n=0,s=a.length;n<s;n+=1)switch(r=o[n],(i=a[n]).type){case"checkbox":case"radio":r.checked?i.setAttribute("checked","checked"):i.removeAttribute("checked");break;default:i.setAttribute("value",r.value),i.getAttribute("type")||i.setAttribute("type","text")}}function se(e,t){var n,r,i,o,a,s,l;if(e&&t&&(r=e.querySelectorAll("select"),o=t.querySelectorAll("select"),r))for(a=0,l=r.length;a<l;a+=1)for(n=r[a],i=o[a],s=0;s<n.options.length;s+=1)s===n.selectedIndex||n.options[s].selected?i.options[s].setAttribute("selected","selected"):i.options[s].removeAttribute("selected")}function le(e,t){var n=null;if(e)switch(e.nodeType||-1){case 11:n=e.innerHTML;break;case 9:n=e.documentElement?e.documentElement.outerHTML:"";break;case 1:n=t?e.innerHTML:e.outerHTML;break;default:n=null}return n}function ue(e){var t=!1;if(e&&"object"==typeof e)switch(e.nodeType||-1){case 9:case 1:t=!0;break;default:t=!1}return t}function ce(e){var t,n,r;for(e.TLTListeners=e.TLTListeners||{},t=0,n=v.length;t<n;t+=1)r=v[t],e.TLTListeners[r]||(c.subscribe(r,e,O),e.TLTListeners[r]=!0)}function de(e,t,n,i){var o,a,s,l,c,d,f={shadows:[]};if(!e||!i&&!e.children)return f;for(o=0,a=(c=i?[e]:e.children).length;o<a;o+=1){if((l=c[o]).shadowRoot&&(d=new u.Xpath(l),s=C(l.ownerDocument,l.shadowRoot,"",n),f.shadows.push({root:s.root,originalSize:s.originalSize,xpath:d.xpath}),f.shadows=f.shadows.concat(s.shadows),ce(l.shadowRoot),h))try{r.observe(l.shadowRoot,p),l.shadowRoot.TLTListeners.mutation=!0,-1===I.indexOf(m,l)&&m.push(l)}catch(e){I.clog("Failed to observe shadow root.",e,l)}s=de(l,null,n),f.shadows=f.shadows.concat(s.shadows)}return f}function fe(e){var t,n,r,i,o,a,s,l,u=0;if(!e)return u;if(e.root){if(u+=e.root.length,e.frames)for(t=0,r=(s=e.frames).length;t<r;t+=1)s[t].root&&(u+=s[t].root.length)}else if(e.diffs)for(t=0,r=e.diffs.length;t<r;t+=1)if(u+=(a=e.diffs[t]).xpath.length,a.root)u+=a.root.length;else if(a.attributes)for(n=0,i=a.attributes.length;n<i;n+=1)u+=(o=a.attributes[n]).name.length,o.value&&(u+=o.value.length);if(e.shadows)for(t=0,r=(l=e.shadows).length;t<r;t+=1)l[t].root&&(u+=l[t].root.length);return u}function he(e){var t,n,r,i,o=[];if(!e||!e.children)return o;for(t=0,n=(i=e.children).length;t<n;t+=1)(r=i[t]).shadowRoot&&(r.shadowRoot.TLTListeners||o.push([r,r.shadowRoot]),o=o.concat(he(r.shadowRoot))),o=o.concat(he(r));return o}function pe(e,t){var n,r,i,o,a;if(e&&t&&t.captureShadowDOM){for(n=0,r=(a=he(e)).length,i=[];n<r;n+=1)o=de(a[n][0],0,t,!0),i=i.concat(o.shadows);return i}}function ge(e,t){var n,r,i,o,a=[];if(!e||!e.children)return a;for(t=t||1,n=0,r=(o=e.children).length;n<r;n+=1)(i=o[n]).shadowRoot&&(a.push([i,i.shadowRoot,t]),a=a.concat(ge(i.shadowRoot,t+1))),a=a.concat(ge(i,t));return a}function me(t,n){var r,i,o,a,s;return a=performance.now(),o=ge(t.documentElement),s=performance.now(),I.clog("Finding Shadow DOM roots took: "+(s-a).toFixed(2)+" milliseconds."),I.clog("Found ["+o.length+"] Shadow DOM roots: ",o),(r=C(t,t,null,n))||(r={}),r.shadows&&r.shadows.sort((function(e,t){var n,r,i=0;return n=e.xpath,r=t.xpath,0===(i=n.length===r.length?n===r?0:n<r?-1:1:n.length<r.length?-1:1)&&console.error("Duplicate xpath: "+n),i})),r.charset=t.characterSet||t.charset,i=I.getOriginAndPath(t.location),r.host=i.origin,r.url=e.normalizeUrl("",i.path,12),r}function ve(e){var t,n,r,i,o,a,s,l,c,d,f,h,p={fullDOM:!1,diffs:[],attributeDiffs:{}},g=new RegExp("^data:image/(.*?);base64");for(function(e){var t,n,r;if(e&&e.length)for(e=e.sort((function(e,t){return e.compare(t)})),t=0;t<e.length;t+=1)for(r=e[t],n=t+1;n<e.length;n+=0)e[n].containedIn(r)?e.splice(n,1):n+=1}(y),function(){var e,t,n,r;for(e=0,n=y.length;e<n&&b.length;e+=1)for(r=y[e],t=0;t<b.length;t+=1)b[t].containedIn(r)&&(b.splice(t,1),t-=1)}(),l=e.captureShadowDOM,e.captureShadowDOM=!1,t=0,n=y.length;t<n;t+=1)if(f=y[t],d=u.getNodeFromID(f.xpath,-2)){if(!f.isShadowHost||(d=d.shadowRoot).TLTListeners){if(d===window.document.body||d===window.document.documentElement)return e.captureShadowDOM=l,me(window.document,e);delete(r=C(window.document,d,f,e)).originalSize,r.shadows&&0===r.shadows.length&&delete r.shadows,r.frames&&0===r.frames.length&&delete r.frames,r.xpath=f.xpath,p.diffs.push(r)}}else I.clog("Target is in the mutated target list but not in the DOM",f);for(t=0;t<w.length;t+=1)i=w[t],s=ye(o=A[i]),(a=new u.Xpath(o))&&"null"!==a.xpath?(a=a.xpath.slice(0,-1),a+=',["'+i+'"]]'):a='[["'+i+'"]]',r={root:s,xpath:a},P[i]=!1,p.diffs.push(r);function m(e,t){e&&e.name&&(p.attributeDiffs[r.xpath][e.name]={value:e.value})}function v(t){var n,r,i;for(n=0,i=t.length;n<i;n+=1)if("src"===(r=t[n]).name&&g.test(r.value)&&r.value.length>e.discardBase64){r.value="",t.push({name:"removedByUIC",value:!0});break}return t}for(t=0,n=b.length;t<n;t+=1)N((f=b[t]).attributes,"id")>-1&&(d=u.getNodeFromID(f.fullXpath,-2))&&(f.xpath=f.fullXpath),h=z(f.attributes),e.hasOwnProperty("discardBase64")&&((d=u.getNodeFromID(f.xpath,-2))||(d=u.getNodeFromID(f.fullXpath,-2)),d&&"img"===d.tagName.toLowerCase()&&h&&(h=v(h))),r={xpath:f.xpath,attributes:h},p.diffs.push(r),p.attributeDiffs[r.xpath]={},I.forEach(r.attributes,m);return e.captureShadowDOM=l,(c=pe(window.document,e))&&c.length&&(p.shadows=c),p}function ye(e){var t,r,i,o,a,s,l,u=n.options.captureHREFStyles;if(!P[e.domId])return R[e.domId];if((o=(o=[].concat.apply([],e.adoptedStyleSheets)).concat.apply(o,e.styleSheets))&&o.length>0){for(t=[],s=0;s<o.length;s+=1)if(a=o[s],!(!u&&!e.isDocumentFromIframe&&a.href||a.ownerNode&&a.ownerNode.textContent)){try{i=a.cssRules}catch(e){continue}for(l=0;l<i.length;l+=1)t.push(i[l].cssText)}t.length>0&&(r='<style id="'+e.domId+'">'+t.join(" ")+"</style>",R[e.domId]=r)}return P[e.domId]=!1,r}return o=function(e){var t=null;return ue(e)&&!(t=e.cloneNode(!0))&&e.documentElement&&(t=e.documentElement.cloneNode(!0)),t},C=function(r,i,a,s){var l,u,c,d,f,h,p,g=!0,m={},v=n.options.captureDynamicStyles;if(!r||!i)return m;if((u=le(i))&&(m.originalSize=u.length),!(l=o(i))&&i.host)g=!1,(h=document.createElement("div")).id="srph-"+Date.now(),h.innerHTML=le(i),l=h;else if(!l)return m;return l&&(s.removeScripts&&(ne(l,"script"),ne(l,"noscript")),s.keepImports||ne(l,"link",["rel","import"]),s.removeComments&&ie(l,8),s.captureStyle?s.useACS&&function(e,t){var n,r,i,o,a,s,l,u,c;if(e&&t&&t.querySelectorAll)for(l=e.querySelectorAll("style"),u=t.querySelectorAll("style"),n=0,c=l.length;n<c;n+=1)if((s=l[n]).sheet){for(r=0,o=(i=s.sheet.cssRules).length,a=[];r<o;r+=1)a.push(i[r].cssText);a.length&&(u[n].innerHTML=a.join("\n"))}}(i,l):ne(l,"style"),s.hasOwnProperty("discardBase64")&&re(l,s.discardBase64),se(i,l),ae(i,l),function(e,t){var n,r,i,o,a,s;if(e&&t&&(o=e.querySelectorAll("textarea"),s=t.querySelectorAll("textarea"),o&&s))for(n=0,r=o.length;n<r;n+=1)i=o[n],(a=s[n]).setAttribute("value",i.value),a.value=a.textContent=i.value}(i,l),l=t.applyPrivacyToNode(l,a,r),s.captureFrames&&(c=function(t,n,r){var i,o,a,s,l,u,c,d,f,h,p,g,m,v=["iframe","frame"],y={frames:[]};for(o=0;o<v.length;o+=1)if(s=v[o],p=t.querySelectorAll(s),g=n.querySelectorAll(s),p)for(i=0,a=p.length;i<a;i+=1)try{l=p[i],(u=I.getIFrameWindow(l))&&u.document&&(r.captureAboutBlankFrames||"about:blank"!==u.location.href)&&((c=u.document).isDocumentFromIframe||(Z(u),c.isDocumentFromIframe=!0),d=C(c,c,"",r),f=ee(),g[i].setAttribute("tltid",f),d.tltid=f,g[i].removeAttribute("srcdoc"),m=I.getOriginAndPath(c.location),d.host=m.origin,d.url=e.normalizeUrl("",m.path,12),d.charset=c.characterSet||c.charset,(h=g[i].getAttribute("src"))||(h=u.location.href,g[i].setAttribute("src",h)),d.root||(d.root="<html></html>"),y.frames=y.frames.concat(d.frames),delete d.frames,y.frames.push(d))}catch(e){}return y}(i,l,s))),s.captureShadowDOM&&(d=de(i,0,s)),c&&(m=I.mixin(m,c)),d&&(m=I.mixin(m,d)),f=(oe(i)||"")+le(l||i,!g),m.root=t.applyPrivacyPatterns(f),v&&document.adoptedStyleSheets&&(i instanceof Document||i instanceof ShadowRoot||i.isDocumentFromIframe||"BODY"===i.nodeName&&i.ownerDocument.isDocumentFromIframe)&&("BODY"===i.nodeName&&(i=i.ownerDocument),i.domId||G(i),(p=ye(i))&&(i instanceof ShadowRoot?m.root+=p:m.root=m.root.replace("</body>",p+"</body>"))),m},{updateConfig:k=function(){$((l=e.getService("config")).getServiceConfig("domCapture")||{})},getUniqueID:ee,removeTags:ne,removeBase64Src:re,getTagList:te,getDoctypeAsString:oe,fixInputs:ae,fixSelectLists:se,getHTMLText:le,isNodeValidForCapture:ue,getCapturedLength:fe,dupNode:o,init:function(){l=e.getService("config"),E?I.clog("Attempt to initialize service which has been already initialized(domCaptureService)"):$(l.getServiceConfig("domCapture")||{})},destroy:function(){l.unsubscribe("configupdated",k),r&&(r.disconnect(),r=null),i&&Element.prototype.attachShadow===X&&(Element.prototype.attachShadow=i,i=null),E=!1,D&&Object.defineProperty(Document.prototype,"adoptedStyleSheets",D),M&&Object.defineProperty(Document.prototype,"styleSheets",M),a&&Object.defineProperty(ShadowRoot.prototype,"adoptedStyleSheets",a),s&&Object.defineProperty(ShadowRoot.prototype,"styleSheets",s),CSSStyleSheet.prototype.insertRuleOriginal&&(CSSStyleSheet.prototype.insertRule=CSSStyleSheet.prototype.insertRuleOriginal),CSSStyleSheet.prototype.deleteRuleOriginal&&(CSSStyleSheet.prototype.deleteRule=CSSStyleSheet.prototype.deleteRuleOriginal),CSSStyleSheet.prototype.replaceSyncOriginal&&(CSSStyleSheet.prototype.replaceSync=CSSStyleSheet.prototype.replaceSyncOriginal),CSSStyleSheet.prototype.replaceOriginal&&(CSSStyleSheet.prototype.replace=CSSStyleSheet.prototype.replaceOriginal),CSSStyleSheet.prototype.publishOwnership&&delete CSSStyleSheet.prototype.publishOwnership,CSSStyleSheet.prototype.removeOwnership&&delete CSSStyleSheet.prototype.removeOwnership,CSSStyleSheet.prototype.updateOwner&&delete CSSStyleSheet.prototype.updateOwner},observeWindow:function(e){e&&(I.getValue(n,"options.captureFrames",!1)||e===window)&&-1===I.indexOf(g,e)&&(g.push(e),r&&L&&r.observe(e.document,p))},captureDOM:function(e,t){var i,o,a,s=null,l=0;if(!E||I.isIE&&document.documentMode<10)return s;if(t=I.mixin({},n.options,t),e=e||window.document,!x||!h||_||t.forceFullDOM){if(r&&r.disconnect(),(s=me(e,t)).fullDOM=!0,s.forced=!(!_&&!t.forceFullDOM),x=!0,r)for(i=0,o=g.length;i<o;i+=1){a=g[i];try{r.observe(a.document,p)}catch(e){g.splice(i,1),o=g.length,i-=1}}}else(s=ve(t)).fullDOM=!s.diffs;return h&&(s.mutationCount=T),y=[],b=[],w=[],T=0,_=!1,t.maxLength&&(l=fe(s))>t.maxLength&&(s={errorCode:101,error:"Captured length ("+l+") exceeded limit ("+t.maxLength+")."}),s}}})),TLT.addService("encoder",(function(e){"use strict";var t={},n=null,r=null,i=!1;function o(n){var r=null;return n?((r=t[n])&&"string"==typeof r.encode&&(r.encode=e.utils.access(r.encode)),r):r}function a(e){t=e,n.subscribe("configupdated",r),i=!0}return{handleConfigUpdated:r=function(){a((n=e.getService("config")).getServiceConfig("encoder")||{})},getEncoder:o,init:function(){n=e.getService("config"),i?e.utils.clog("Attempt to initialize service (encoder) which has been already initialized."):a(n.getServiceConfig("encoder")||{})},destroy:function(){n.unsubscribe("configupdated",r),i=!1},encode:function(t,n){var r,i,a={data:null,encoding:null,error:null};if("string"!=typeof t&&!t||!n)return a.error="Invalid "+(t?"type":"data")+" parameter.",a;if(!(r=o(n)))return a.error="Specified encoder ("+n+") not found.",a;if("function"!=typeof r.encode)return a.error="Configured encoder ("+n+") 'encode' method is not a function.",a;try{i=r.encode(t)}catch(e){return a.error="Exception "+(e.name?e.name+" - ":"")+(e.message||e),a}return i&&null!==e.utils.getValue(i,"buffer",null)?(a.data=i.buffer,a.encoding=r.defaultEncoding,a):(a.error="Encoder ("+n+") returned an invalid result.",a)}}})),TLT.addService("message",(function(e){"use strict";var t,n,r,i=e.utils,o=e.getTabId(),a=[],s=0,l=0,u=e.getStartTime(),c=window.performance&&performance.timeOrigin&&performance.timeOrigin<u?Math.round(performance.timeOrigin):u,d=Date.now()-c+10,f=(new Date).getTimezoneOffset(),h=e.getService("browserBase"),p=e.getService("browser"),g=e.getService("config"),m=g.getCoreConfig(),v=g.getServiceConfig("message")||{},y=e.normalizeUrl("",window.location.href),w=window.location.hostname,b=v.hasOwnProperty("privacy")?v.privacy:[],T={},S="x",_="X",x="9",E="@",C=parseFloat((window.devicePixelRatio||1).toFixed(2)),k=window.screen||{},O=k.width||0,L=k.height||0,I=h.getNormalizedOrientation(),M=i.isiOS&&90===Math.abs(I)?L:O,D=i.isiOS&&90===Math.abs(I)?O:L,P=window.screen?window.screen.height-window.screen.availHeight:0,A=window.innerWidth||document.documentElement.clientWidth,R=window.innerHeight||document.documentElement.clientHeight,z=!1,N={},U=!1;function V(){var e=Date.now()-c,t=window.performance&&performance.now?Math.round(performance.now()):e;return e-t>d&&(t=e),t}function F(e){var t="";if(delete e.timestamp,this.type=e.type,this.offset=V(),2===e.type&&"LOAD"===e.screenview.type?(a.push(V()),this.screenviewOffset=0):a.length?(this.screenviewOffset=V()-a[a.length-1],2===e.type&&"UNLOAD"===e.screenview.type&&a.pop()):this.screenviewOffset=0,this.type)for(t in this.count=l+=1,this.fromWeb=!0,e)e.hasOwnProperty(t)&&(this[t]=e[t])}function H(e,t,n){var r=T.PVC_MASK_BASIC;return"string"!=typeof t?t:(e?e.maskType===T.PVC_MASK_EMPTY.maskType?r=T.PVC_MASK_EMPTY:e.maskType===T.PVC_MASK_BASIC.maskType?r=T.PVC_MASK_BASIC:e.maskType===T.PVC_MASK_TYPE.maskType?r=T.PVC_MASK_TYPE:e.maskType===T.PVC_MASK_CUSTOM.maskType&&"function"!=typeof(r="string"==typeof e.maskFunction?i.access(e.maskFunction):e.maskFunction)&&(r=T.PVC_MASK_BASIC):r=T.PVC_MASK_BASIC,r(t,n))}function j(e,t){var n;if(e&&t)for(n in t)t.hasOwnProperty(n)&&("value"===n?t[n]=H(e,t[n]):delete t[n])}function X(e,t){return-1!==i.matchTarget(e,t)}function q(e){var t,n,o,a,s;if(!e)return"";for(o=Date.now(),t=0,n=r.length;t<n;t+=1)(s=r[t]).cRegex.lastIndex=0,e=e.replace(s.cRegex,s.replacement);return(a=Date.now()-o)>50&&i.clog("WARNING: Applying privacy patterns on text length "+e.length+" took "+a+"ms."),e}function B(e,t){var n,r=null;if(!(e&&e.maskAttributes&&t&&t.attributes))return r;if("function"==typeof e.maskAttributes)try{r=e.maskAttributes(t.id,t.attributes)}catch(e){}else for(n in r=t.attributes,t.attributes)t.attributes.hasOwnProperty(n)&&(r[n]=H(e,t.attributes[n]));return r}function Y(e){var t,n,r,o,a,s,l=!1;if(!e||!e.currState&&!e.prevState&&!e.attributes||!e.id)return e;for(a=e.prevState,s=e.currState,t=0,n=b.length;t<n;t+=1)if(o=b[t],r=i.getValue(o,"exclude",!1),X(o.targets,e)!==r){a&&a.hasOwnProperty("value")&&j(o,a),s&&s.hasOwnProperty("value")&&j(o,s),o.maskAttributes&&e.attributes&&(e.attributes=B(o,e)),l=!0;break}return l||(a&&a.value&&(a.value=q(a.value)),s&&s.value&&(s.value=q(s.value))),e}function W(e){return e&&e.target?(Y(e.target),e):e}function K(e,t){var n,r,o,a;if(t&&e)if(e.value?(o=H(t,e.value,e),e.setAttribute("value",o),e.value=o):t.maskType===T.PVC_MASK_CUSTOM.maskType&&H(t,"",e),e.checked&&e.removeAttribute("checked"),"select"===i.getTagName(e))for(e.selectedIndex=-1,n=0,r=e.options.length;n<r;n+=1)(a=e.options[n]).removeAttribute("selected"),a.selected=!1;else"textarea"===i.getTagName(e)&&(e.textContent=e.value)}function Q(){var t,n,o,a,s,l,u;for(g=e.getService("config"),v=g.getServiceConfig("message")||{},m=g.getCoreConfig(),b=v.privacy||[],r=v.privacyPatterns||[],U=i.getValue(v,"shadowDOMCacheEnabled",!0),t=0,a=b.length;t<a;t+=1)for(n=0,u=(l=(o=b[t]).targets).length;n<u;n+=1)"object"==typeof(s=l[n])&&("string"==typeof s.idType&&(s.idType=+s.idType),"object"==typeof s.id&&(s.cRegex=new RegExp(s.id.regex,s.id.flags)));for(t=r.length-1;t>=0;t-=1)"object"==typeof(o=r[t]).pattern?o.cRegex=new RegExp(o.pattern.regex,o.pattern.flags):(r.splice(t,1),i.clog("WARNING: Ignoring invalid entry ["+t+"] in the privacyPatterns list."))}function J(e){var t,n,r,i,o,a=e.dcid,s=e.shadows||[],l=e.fullDOM;if(0!==s.length&&l){for(r in N)N.hasOwnProperty(r)&&(N[r].age+=1);for(t=0,n=s.length;t<n;t+=1)i=s[t],(o=N[i.xpath])&&o.root===i.root?(o.hitCount+=1,o.age-=1,i.cacheDCID=o.dcid,delete i.root):N[i.xpath]={root:i.root,dcid:a,hitCount:0,age:0};for(r in N)N.hasOwnProperty(r)&&(o=N[r]).age>o.hitCount+1&&delete N[r]}}return T.PVC_MASK_EMPTY=function(e){return""},T.PVC_MASK_BASIC=function(e){return"string"!=typeof e?"":e.length?"XXXXX":""},T.PVC_MASK_TYPE=function(e){var t,n,r,o="";if("string"!=typeof e)return o;for(n=0,r=(t=e.split("")).length;n<r;n+=1)i.isNumeric(t[n])?o+=x:i.isUpperCase(t[n])?o+=_:i.isLowerCase(t[n])?o+=S:o+=E;return o},T.PVC_MASK_EMPTY.maskType=1,T.PVC_MASK_BASIC.maskType=2,T.PVC_MASK_TYPE.maskType=3,T.PVC_MASK_CUSTOM={maskType:4},{privacyMasks:T,maskStr:H,applyMask:j,applyAttributeMask:B,privacyFilter:Y,maskElement:K,updateConfig:Q,optimizeDOMCaptureMessage:J,init:function(){if(z)i.clog("Attempt to initialize service which has been already initialized(messageService)");else{g.subscribe&&g.subscribe("configupdated",Q),Q(),z=!0;try{t=sessionStorage.getItem("tl.TR"),n=sessionStorage.getItem("tl.PU"),sessionStorage.removeItem("tl.TR"),sessionStorage.removeItem("tl.PU")}catch(e){t=null}}},destroy:function(){g.unsubscribe("configupdated",Q),z=!1},applyPrivacyToNode:function(e,t,n){var r,o,a,s,l,u,c,d,f,g,m,v,y,w=[],T=[];if(!e||!n)return null;for(r=0,c=b.length;r<c;r+=1)for(d=b[r],(l=i.getValue(d,"exclude",!1))&&(u=d),o=0,y=(v=d.targets).length;o<y;o+=1)if("string"==typeof(m=v[o]))if(e.id&&/srph-\d{13}/.test(e.id)||!p.matches(m,e)||(l?w.push(e):K(e,d)),f=p.queryAll(m,e),l)w=w.concat(f);else for(a=0,g=f.length;a<g;a+=1)K(s=f[a],d);else if("string"==typeof m.id)switch(m.idType){case-1:case-3:s=h.getNodeFromID(m.id,m.idType,e),l?w.push(s):K(s,d);break;case-2:T.push({ruleIndex:r,targetIndex:o,exclude:l})}else T.push({ruleIndex:r,targetIndex:o,exclude:l});return function(e,t,n,r,o,a){var s,l,u,c,d,f,g,m,v,y,w,T=[];if(!e.length&&!o.length&&!a)return[];if(!(w=p.queryAll("input, select, textarea",t))||!w.length)return[];for(s=0,c=o.length;s<c;s+=1)-1!==(l=w.indexOf(o[s]))&&w.splice(l,1);if(e.length)for(s=0,c=w.length,T=[];s<c;s+=1)w[s].value&&(-2===(f=h.ElementData.prototype.examineID(w[s],!0)).idType&&((g=new h.Xpath(w[s],!0)).applyPrefix(n),f.id=g.xpath),T.push({id:f.id,idType:f.idType,element:w[s]}));for(s=0,c=e.length;s<c;s+=1)if(v=b[e[s].ruleIndex],m=i.getValue(v,"exclude",!1),"string"==typeof(y=v.targets[e[s].targetIndex]).id&&-2===y.idType)for(l=0;l<T.length;l+=1)T[l].idType===y.idType&&T[l].id===y.id&&(m?(u=w.indexOf(d),w.splice(u,1)):K(d=T[l].element,v));else for(l=0;l<T.length;l+=1)y.cRegex.lastIndex=0,T[l].idType===y.idType&&y.cRegex.test(T[l].id)&&(d=T[l].element,m?(u=w.indexOf(d),w.splice(u,1)):K(d,v));if(a)for(s=0,c=w.length;s<c;s+=1)K(w[s],a)}(T,e,t,0,w,u),e},applyPrivacyToMessage:W,applyPrivacyToTarget:Y,applyPrivacyPatterns:q,isPrivacyMatched:function(e){var t,n,r=!1;if(!e)return r;for(t=0,n=b.length;t<n;t+=1)if(X(b[t].targets,e)){r=!0;break}return r},createMessage:function(e){if(void 0===e.type)throw new TypeError("Invalid queueEvent given!");return 12===e.type&&U&&J(e.domCapture),W(new F(e))},wrapMessages:function(r){var a={messageVersion:"13.0.0.0",serialNumber:s+=1,sessions:[{id:e.getPageId(),tabId:o,startTime:c,timezoneOffset:f,messages:r,clientEnvironment:{webEnvironment:{libVersion:"6.4.20",buildNote:m.buildNote||"",domain:w,page:y,referrer:document.referrer,mouseMovement:e.isMousemovementDetected(),screen:{devicePixelRatio:C,deviceWidth:M,deviceHeight:D,deviceToolbarHeight:P,width:A,height:R,orientation:I}}}}]},l=a.sessions[0].clientEnvironment.webEnvironment;return l.screen.orientationMode=i.getOrientationMode(l.screen.orientation),t&&(l.priorPage={page:n,terminationReason:t}),a},getCurrentOffset:V}})),TLT.addService("serializer",(function(e){"use strict";var t=e.getService("config"),n={},r={},i={json:void 0!==window.JSON?{serialize:window.JSON.stringify,parse:window.JSON.parse}:{}},o=null,a=!1;function s(t,n,r){var i,o,a;for(i=0,o=(t=t||[]).length;i<o;i+=1)if("string"==typeof(a=t[i])&&(a=e.utils.access(a)),"function"==typeof a){n[r]=a;break}}function l(l){var u,c;for(u in l)l.hasOwnProperty(u)&&(s(l[u].stringifiers,n,u),s(l[u].parsers,r,u));n.json=n.json||i.json.serialize,r.json=r.json||i.json.parse,"function"==typeof n.json&&"function"==typeof r.json||e.fail("JSON parser and/or serializer not provided in the UIC config. Can't continue."),"function"!=typeof n.json||"function"!=typeof r.json?c=!0:(c=void 0===r.json('{"foo": "bar"}')||"bar"!==r.json('{"foo": "bar"}').foo,c=(c=(c=void 0===r.json("[1, 2]")||(c=c||1!==r.json("[1, 2]")[0])||2!==r.json("[1,2]")[1])||'{"foo":"bar"}'!==n.json({foo:"bar"}))||"[1,2]"!==n.json([1,2])),c&&("function"!=typeof n.json&&"function"!=typeof r.json?console.log("parse.json() and serialize.json() are not a functions."):"function"!=typeof n.json?console.log("serialize.json() is not a function."):"function"!=typeof r.json?console.log("parse.json() is not a function."):(void 0===r.json('{"foo": "bar"}')?console.log("parse.json('{'foo': 'bar'}') is undefined"):"bar"!==r.json('{"foo":"bar"}').foo&&console.log("Parsing of JSON object is failing."),void 0===r.json("[1, 2]")?console.log("parse.json('[1, 2]') is undefined"):1===r.json("[1,2]")[0]&&2===r.json("[1,2]")[1]||console.log("Parsing of JSON array is failing."),'{"foo":"bar"}'!==n.json({foo:"bar"})&&console.log("Stringification of JSON object is failing."),"[1,2]"!==n.json([1,2])&&console.log("Stringification of JSON array is failing.")),e.fail("JSON stringification and parsing are not working as expected")),t&&t.subscribe("configupdated",o),a=!0}return{updateConfig:o=function(){l((t=e.getService("config")).getServiceConfig("serializer"))},init:function(){a?e.utils.clog("Attempt to initialize service which has been already initialized(serializerService)"):l(t?t.getServiceConfig("serializer"):{})},destroy:function(){n={},r={},t&&t.unsubscribe("configupdated",o),a=!1},parse:function(t,n){return"function"!=typeof r[n=n||"json"]&&e.utils.clog("Unsupported type of data in parse method of serializer service: "+n),r[n](t)},serialize:function(t,r){return"function"!=typeof n[r=r||"json"]&&e.utils.clog("Unsupported type of data in serializer method of serializer service: "+r),n[r](t)}}})),TLT.addModule("TLCookie",(function(e){"use strict";var t,n,r,i={},o=[],a=0,s=!0,l=!1,u="WCXSID",c="TLTSID",d="CoreID6",f=null,h=e.utils;function p(){var e="123456789";return h.getRandomString(1,e)+h.getRandomString(31,e+"0")}function g(){var e=p(),t=!!i.secureTLTSID,n=i.samesite;return h.setCookie(c,e,void 0,void 0,void 0,t,n),h.getCookieValue(c)}function m(){if(!f&&window.cmRetrieveUserID)try{window.cmRetrieveUserID((function(e){f=e}))}catch(e){h.clog("Error when invoking cmRetrieveUserID: ",e),f=null}}function v(e){var t,n,r,i;if(localStorage&&e)return(r=localStorage.getItem(e))&&(n=r.split("|"),t=parseInt(n[0],10),Date.now()>t?localStorage.removeItem(e):i=n[1]),i}function y(e,t){var n;if(localStorage&&e)return t=t||p(),n=Date.now()+a,localStorage.setItem(e,n+"|"+t),v(e)}function w(){return o}function b(i){if(o=[],s=h.getValue(i,"sessionIDUsesCookie",!0),l=h.getValue(i,"sessionIDUsesStorage",!1),i.tlAppKey&&(r=i.tlAppKey,o.push({name:"X-Tealeaf-SaaS-AppKey",value:r})),i.visitorCookieName&&(d=i.visitorCookieName),i.wcxCookieName&&(u=i.wcxCookieName),(t=h.getCookieValue(u))&&o.push({name:"X-WCXSID",value:t}),i.sessionizationCookieName&&(c=i.sessionizationCookieName),l){a=h.getValue(i,"sessionIDStorageTTL",6e5);try{n=v(c)}catch(e){h.clog("TLCookie: Local Storage read access exception.",e),l=!1}}if(!n&&s&&(n=h.getCookieValue(c)),!n)if(t)c=u,n=t;else{if(l)try{n=y(c)}catch(e){h.clog("TLCookie: Local Storage write access exception.",e),l=!1}!n&&s&&(n=g())}e.setSessionCookieInfo(c,n),n||(n="Check7UIC7Cookie7Configuration77"),o.push({name:"X-Tealeaf-SaaS-TLTSID",value:n}),o.length&&TLT.registerBridgeCallbacks([{enabled:!0,cbType:"addRequestHeaders",cbFunction:w}])}function T(e){var t,n,r,o=!1,a=i.appCookieWhitelist;if(!a||!a.length)return o;for(t=0,n=a.length;t<n&&!o;t+=1)(r=a[t]).regex?(r.cRegex||(r.cRegex=new RegExp(r.regex,r.flags)),r.cRegex.lastIndex=0,o=r.cRegex.test(e)):o=r===e;return o}function S(){var t,n,r,i,o={},a=document.cookie,s="",l="";if(!a)return;var u=(i=a.split("; ")).length;for(u>150&&(u=150),t=0;t<u;t+=1){if((n=(r=i[t]).indexOf("="))>=0)try{s=decodeURIComponent(r.substr(0,n))}catch(e){s=r.substr(0,n)}if(l=r.substr(n+1),T(s))try{o[s]=decodeURIComponent(l)}catch(e){o[s]=l}}f&&!o[d]&&(o[d]=f),e.post({type:14,cookies:o})}return{processConfig:b,createTLTSIDCookie:g,isCookieWhitelisted:T,postAppCookies:S,init:function(){b(i=e.getConfig()||{}),m()},destroy:function(){l&&y(c,n),window.setTimeout((function(){TLT.registerBridgeCallbacks([{enabled:!1,cbType:"addRequestHeaders",cbFunction:w}])}))},onevent:function(e){if("screenview_load"===e.type)h.getValue(i,"appCookieWhitelist.length",0)&&(m(),S())}}})),TLT.addModule("dataLayer",(function(e){"use strict";var t,n,r,i=!1,o=e.utils,a=10,s=!0;function l(e,t){var n,r,i,o=-1;if(!e||!t)return o;for(n=0,r=t.length;n<r&&-1===o;n+=1)switch(typeof(i=t[n])){case"string":e===i&&(o=n);break;case"object":i.cRegex||(i.cRegex=new RegExp(i.regex,i.flags)),i.cRegex.lastIndex=0,i.cRegex.test(e)&&(o=n)}return o}function u(e,t){return l(e,t)>=0}function c(e,t){return l(e,t)>=0}function d(e,t,n,r){var i,l,c={},f=n&&n.propertyBlocklist?n.propertyBlocklist:[],h=n&&n.rootProperties?n.rootProperties:{};if(!e)return null;if(t){if((t+=1)>5&&!r||t>a)return"Serialization error: Exceeds nesting limit (5) or (10) for a permitted property."}else t=1;for(i in e)if(Object.prototype.hasOwnProperty.call(e,i))if(u(i,f))o.clog("dataLayer: Not recording blocked property '"+i+"'");else{if(1===t&&(r="",i in h&&(r=i)),!s&&!r||t>5&&r&&i!==h[r][t-1]&&n.rootProperties[r][t-1])continue;switch(typeof(l=e[i])){case"object":if(l instanceof Node)l.nodeName?(c[i]=l.nodeName.toLowerCase(),l.id&&(c[i]+="#"+l.id)):c[i]="DOMNode: unknown";else if(l instanceof Window)c[i]="DOMWindow: "+l.location.href;else try{JSON.stringify(l),c[i]=d(l,t,n,r)}catch(e){c[i]="Serialization error: "+e.message}break;case"function":o.clog("dataLayer: Not recording function value '"+i+"'");break;case"undefined":o.clog("dataLayer: Not recording undefined value '"+i+"'");break;default:c[i]=l}}return c}function f(e){var t=null;if(!e)return t;switch(typeof e){case"string":t=o.access(e);break;case"object":t=e;break;case"function":try{t=e()}catch(e){o.clog("dataLayer: Error executing configured dataObject function.",e)}}return t}function h(n){var o,a;if(i){for(o=t.dataObjects,a=0;a<o.length;a+=1)if(!c(n,o[a].rules?o[a].rules.screenviewBlocklist:[])){var l={type:19,dataLayer:{}},u=f(o[a].dataObject);if(!u)return;o[a].rules&&(s=void 0===o[a].rules.includeEverything||o[a].rules.includeEverything),l.dataLayer=d(u,0,o[a].rules),s=!0,e.post(l)}r&&(clearTimeout(r),r=null)}}return{getDataLayerObject:f,getMatchIndex:l,isPropertyBlocked:u,isScreenviewBlocked:c,processDataLayerObject:d,logDataLayers:h,init:function(){t=e.getConfig(),n=o.getValue(t,"logDelay",500),r=null,i=!0;for(var a=t.dataObjects,s=0;s<a.length;s+=1)if(a[s].rules&&a[s].rules.permittedProperties){var l=a[s].rules.permittedProperties;a[s].rules.rootProperties={};for(var u=0;u<l.length;u+=1)"string"==typeof l[u]&&(l[u]=l[u].split("."),a[s].rules.rootProperties[l[u][0]]=l[u])}},destroy:function(){t=null,r&&(clearTimeout(r),r=null),i=!1},onevent:function(e){if("object"==typeof e&&e.type)switch(e.type){case"load":r=null;break;case"screenview_load":r||(r=setTimeout((function(){h(e.name)}),n));break;case"click":case"pointerdown":h(e.name);break;case"logDataLayers":e.data&&"object"!=typeof e.data||h(e.name);break;case"unload":r&&h(e.name)}else o.clog("dataLayer: Invalid event object passed to onevent",e)},onmessage:function(e){}}})),!TLT||"function"!=typeof TLT.addModule)throw"Overstat module included but TLT is not defined!!!";if(TLT.addModule("overstat",(function(e){"use strict";var t=e.utils,n={},r={updateInterval:250,hoverThreshold:1e3,hoverThresholdMax:12e4,gridCellMaxX:10,gridCellMaxY:10,gridCellMinWidth:20,gridCellMinHeight:20},i=50;function o(t){var n=(e.getConfig()||{})[t];return"number"==typeof n?n:r[t]}function a(n,r){var i=t.getValue(n,"webEvent.target",{}),o=t.getValue(i,"element.tagName")||"",a="input"===o.toLowerCase()?t.getValue(i,"element.type"):"",s=t.getTlType(i),l={type:9,event:{hoverDuration:n.hoverDuration,hoverToClick:t.getValue(r,"hoverToClick")},target:{id:i.id||"",idType:i.idType||"",name:i.name||"",tlType:s,type:o,subType:a,position:{width:t.getValue(i,"element.offsetWidth",0),height:t.getValue(i,"element.offsetHeight",0),relXY:n.relXY}}};l.target.id&&(i.accessibility&&(l.target.accessibility=i.accessibility),i.attributes&&(l.target.attributes=i.attributes),t.clog("Overstat - posted hover event"),t.clog(l),e.post(l))}function s(e){return e&&!e.nodeType&&e.element&&(e=e.element),e}function l(e){return!(e=s(e))||e===document.body||e===document.html||e===document}function u(e){return(e=s(e))?e.parentNode:null}function c(e){return(e=s(e))?e.offsetParent||e.parentElement||u(e):null}function d(e){var t=function(e){return(e=s(e))&&e.tagName?e.tagName.toUpperCase():""}(e);return 1!==function(e){return(e=s(e))&&e.nodeType||-1}(e)||"TR"===t||"TBODY"===t||"THEAD"===t}function f(r,l,u,c){var d;this.xPath=null!==r?(d=r)?d.xPath?d.xPath:(d=s(d),e.getXPathFromNode(d)):"":"",this.domNode=r,this.hoverDuration=0,this.hoverUpdateTime=0,this.gridX=Math.max(l,0),this.gridY=Math.max(u,0),this.parentKey="",this.updateTimer=-1,this.disposed=!1,this.childKeys={},this.webEvent=c,this.getKey=function(){return this.xPath+":"+this.gridX+","+this.gridY},this.update=function(){var e=(new Date).getTime(),t=this.getKey();0!==this.hoverUpdateTime&&(this.hoverDuration+=e-this.hoverUpdateTime),this.hoverUpdateTime=e,clearTimeout(this.updateTimer),this.updateTimer=setTimeout((function(){!function(e,t){var r=n[e];if(r&&r[t])r[t]()}(t,"update")}),o("updateInterval"))},this.dispose=function(e){if(clearTimeout(this.updateTimer),delete n[this.getKey()],this.disposed=!0,e){var t=this.clone();n[t.getKey()]=t,t.update()}},this.process=function(e){if(clearTimeout(this.updateTimer),this.disposed)return!1;var r=!1,s=this,l=0;if(this.hoverDuration>=o("hoverThreshold")){for(this.hoverDuration=Math.min(this.hoverDuration,o("hoverThresholdMax")),r=!0,a(this,{hoverToClick:!!e});void 0!==s&&l++<i;)s.dispose(e),s=n[s.parentKey];l>=i&&t.clog("Overstat process() hit iterations limit")}else this.dispose(e);return r},this.clone=function(){var e=new f(this.domNode,this.gridX,this.gridY);return e.parentKey=this.parentKey,e}}function h(e,n,r){var o=function(e){if(e&&e.position)return{x:e.position.x,y:e.position.y};for(var n=(e=s(e))&&e.getBoundingClientRect?e.getBoundingClientRect():null,r=n?n.left:e?e.offsetLeft:0,o=n?n.top:e?e.offsetHeight:0,a=r,u=o,d=0,f=0,h=c(e),p=0;h&&p++<i&&!l(h);)d=h.offsetLeft-(h.scrollLeft||0),f=h.offsetTop-(h.scrollTop||0),d===a&&f===u||(r+=d,o+=f,a=d,u=f),h=c(h);return p>=i&&t.clog("Overstat calculateNodeOffset() hit iterations limit"),isNaN(r)&&(r=0),isNaN(o)&&(o=0),{x:r,y:o}}(e=s(e)),a=n-o.x,u=r-o.y;return isFinite(a)||(a=0),isFinite(u)||(u=0),{x:a,y:u}}function p(e,t){return(e=Math.floor(1e4*Math.min(Math.max(e,0),1))/1e4)+","+(t=Math.floor(1e4*Math.min(Math.max(t,0),1))/1e4)}function g(e){var r=e,o={},a=null,s=!1,l=0;for(o[e.getKey()]=!0;void 0!==r&&l++<i&&(o[r.parentKey]=!0,""!==r.parentKey&&r.parentKey!==r.getKey());)l>=i&&t.clog("Overstat cleanupHoverEvents() hit iterations limit"),r=n[r.parentKey];for(a in n)n.hasOwnProperty(a)&&!o[a]&&(r=n[a])&&(s?r.dispose():s=r.process())}function m(e,r,i){return r||(r=e.target),l(r)||t.isiOS||t.isAndroid?null:(d(r)?v=m(e,c(r),i):(u=function(e,t,n){var r=(e=s(e)).getBoundingClientRect?e.getBoundingClientRect():null,i=r?r.width:e.offsetWidth,a=r?r.height:e.offsetHeight,l=i&&i>0?Math.max(i/o("gridCellMaxX"),o("gridCellMinWidth")):o("gridCellMinWidth"),u=a&&a>0?Math.max(a/o("gridCellMaxY"),o("gridCellMinHeight")):o("gridCellMinHeight"),c=Math.min(Math.floor(t/l),o("gridCellMaxX")),d=Math.min(Math.floor(n/u),o("gridCellMaxY")),f=i>0?t/i:0,h=a>0?n/a:0;return isFinite(c)||(c=0),isFinite(d)||(d=0),{x:c,y:d,relXY:p(f,h)}}(r,(a=h(r,e.position.x,e.position.y)).x,a.y),(v=new f(r,u.x,u.y,e)).relXY=u.relXY,y=v.getKey(),n[y]?v=n[y]:n[y]=v,v.update(),i||((T=c(r))&&null!==(b=m(e,T,!0))&&(w=b.getKey(),(y=v.getKey())!==w&&(v.parentKey=w)),g(v))),v);var a,u,v,y,w,b,T}function v(e){(function(e,n){var r=0;if(!n||n===e)return!1;for(n=u(n);!l(n)&&r++<i;){if(n===e)return!0;n=u(n)}return r>=i&&t.clog("Overstat isChildOf() hit iterations limit"),!1})((e=function(e){return e.nativeEvent&&(e=e.nativeEvent),e}(e)).target,e.relatedTarget)||function(e,t){var r=null,i=null,o=!1;for(i in n)n.hasOwnProperty(i)&&(r=n[i])&&r.domNode===e&&r.getKey()!==t&&(o?r.dispose():o=r.process())}(e.target)}function y(r){if(t.getValue(r,"target.id"))switch(r.type){case"mousemove":m(r);break;case"mouseout":v(r);break;case"click":!function(e){var t=null,r=null,i=!1;for(r in n)n.hasOwnProperty(r)&&(t=n[r])&&(i?t.dispose():i=t.process(!0))}();break;case"submit":e.performFormCompletion(!0)}}return{DEBUG:1,formatRelXY:p,postUIEvent:a,init:function(){},destroy:function(){var e;for(e in n)n.hasOwnProperty(e)&&(n[e].dispose(),delete n[e])},onevent:function(e){"object"==typeof e&&e.type&&y(e)},onmessage:function(e){},createHoverEvent:function(e,t,n,r){return new f(e,t,n,r)},cleanupHoverEvents:g,eventMap:n}})),!TLT||"function"!=typeof TLT.addModule)throw"Performance module included but TLT is not defined!!!";TLT.addModule("performance",(function(e){"use strict";var t,n,r,i={loadReceived:!1,unloadReceived:!1,perfEventSent:!1},o=null,a=null,s={},l=0,u=e.utils,c="https:"===window.location.protocol,d=[],f=0,h={enabled:!1,resourceTypes:[],blacklist:[]};function p(e){var t,n={},r="",i=0;if(!e||"object"!=typeof e||!e.navigationStart)return{};for(r in t=e.navigationStart,e)(Object.prototype.hasOwnProperty.call(e,r)||"number"==typeof e[r])&&(i=e[r],n[r]="number"==typeof i&&i&&"navigationStart"!==r?i-t:i);return n}function g(e){var t,n,r=0;return e&&(t=e.responseEnd>0&&e.responseEnd<e.domLoading?e.responseEnd:e.domLoading,n=e.loadEventStart,u.isNumeric(t)&&u.isNumeric(n)&&n>t&&(r=n-t)),r}function m(n,r){var a,s,u,c,d,f,h,m,v,y={type:7,performance:{}};if(n&&!i.perfEventSent){if(v=(f=n.performance||{}).timing,d=f.navigation,v){if(!v.loadEventStart&&!r)return;y.performance.timing=p(v),y.performance.timing.renderTime=g(v)}else{if(!t.calculateRenderTime)return;y.performance.timing={renderTime:l,calculated:!0}}if(c=y.performance.timing,t.renderTimeThreshold&&c.renderTime>t.renderTimeThreshold&&(c.invalidRenderTime=c.renderTime,delete c.renderTime),f.getEntriesByType)for(a=0,s=(h=f.getEntriesByType("paint")).length;a<s;a+=1)(m=h[a]).startTime>0&&(c[m.name]=Math.round(m.startTime));if(!c["first-paint"]&&c.msFirstPaint&&(c["first-paint"]=c.msFirstPaint,delete c.msFirstPaint),d){switch(d.type){case 0:u="NAVIGATE";break;case 1:u="RELOAD";break;case 2:u="BACKFORWARD";break;default:u="UNKNOWN"}y.performance.navigation={type:u,redirectCount:d.redirectCount}}e.post(y),i.perfEventSent=!0,o&&(clearInterval(o),o=null)}}function v(t){var n={type:20,violations:{}},r=n.violations;t&&t.length&&(r.total=t.length,t.splice(10),r.urls=t,e.post(n))}function y(t){var n,i,o,a,s,l,u=r.blacklist;if(t&&t.name&&(i=t.name,o=t.initiatorType,c&&0===i.indexOf("http:")&&d.push(i),!(r.hasOwnProperty("maxAlerts")&&f>=r.maxAlerts||r.hasOwnProperty("threshold")&&t.duration<r.threshold||t.transferSize&&t.transferSize<t.encodedBodySize||t.responseStart===t.responseEnd||r.resourceTypes.length>0&&-1===r.resourceTypes.indexOf(o)))){for(s=!1,n=0;n<u.length;n+=1)switch(typeof(a=u[n])){case"object":a.cRegex||(a.cRegex=new RegExp(a.regex,a.flags)),a.cRegex.lastIndex=0,a.cRegex.test(i)&&(s=!0);break;case"string":-1!==i.indexOf(a)&&(s=!0)}s||(f+=1,l={urlNormalized:e.normalizeUrl(i,17),url:i,initiator:o,duration:Math.round(t.duration),responseEnd:Math.round(t.responseEnd)},void 0!==t.transferSize&&(l.transferSize=t.transferSize,t.duration&&(l.bps=Math.round(t.transferSize/t.duration*1e3))),e.post({type:17,resourceData:l}))}}function w(){s={},a&&(clearTimeout(a),a=null)}function b(){var t={type:20,pageExperience:u.clone(s)};(s.fid||s.lcp||s.cls)&&(t.pageExperience.https="https:"===window.location.protocol,e.post(t),w())}function T(e){if(e&&e.name){switch(e.name){case"FID":s.fid=Math.round(e.value);break;case"LCP":s.lcp=Math.round(e.value);break;case"CLS":s.cls=Number(e.value.toFixed(2))}void 0!==s.fid&&void 0!==s.lcp&&void 0!==s.cls&&b()}}function S(){var e;t&&t.pageExperience&&t.pageExperience.enabled&&(w(),(e=t.pageExperience.api).getCLS(T),e.getLCP(T),e.getFID(T),a=setTimeout(b,3e5))}function _(){var e;t&&u.getValue(t,"pageExperience.enabled",!0)&&(t.pageExperience=t.pageExperience||{},!(e=t.pageExperience).api&&window.webVitals&&(e.api={getCLS:webVitals.getCLS,getLCP:webVitals.getLCP,getFID:webVitals.getFID}),e.api?e.enabled=!0:(e.enabled=!1,u.clog("Performance Module: Web Vitals JS not found. Page Experience Signals will not be logged.")))}return{parseTiming:p,getRenderTime:g,postPerformanceEvent:m,postMixedModeViolations:v,processPerformanceEntry:y,initPageExperience:_,logPageExperience:S,collectVitals:T,postPageExperienceMsg:b,init:function(){t=e.getConfig(),r=u.mixin({},h,t.performanceAlert),_()},destroy:function(){b(),o&&(clearInterval(o),o=null,m(window,!0)),n&&n.disconnect(),c&&(v(d),d=[]),t=null},onevent:function(a){var s;if("object"==typeof a&&a.type)switch(a.type){case"load":i.loadReceived=!0,function(t){var n=e.getStartTime();t.timestamp>n&&!l&&(l=t.timestamp-n)}(a),i.perfEventSent||o||(o=setInterval((function(){e.isInitialized()&&m(window)}),u.getValue(t,"delay",2e3))),r.enabled&&"function"==typeof window.PerformanceObserver&&(n=new window.PerformanceObserver((function(e,t){u.forEach(e.getEntries(),y)})),s=window.performance.getEntriesByType("resource"),setTimeout((function(){u.forEach(s,y)})),n.observe({entryTypes:["resource"]}));break;case"screenview_load":S(),i.perfEventSent||m(window);break;case"screenview_unload":default:break;case"unload":i.unloadReceived=!0,b(),i.perfEventSent||m(window)}else u.clog("Invalid event object passed to onevent: ",a)},onmessage:function(e){}}})),TLT.addModule("replay",(function(e){"use strict";var t,n=e.utils,r=0,i={scale:0,timestamp:0},o={},a=null,s=[],l=!0,u=null,c=null,d=null,f=(new Date).getTime(),h=null,p="root",g=null,m=null,v=null,y=null,w=null,b={inFocus:!1},T=null,S=e.getConfig()||{},_=n.getValue(S,"viewPortWidthHeightLimit",1e4),x=1,E=1,C={},k=n.getValue(S,"mousemove")||{},O=k.sampleRate,L=k.ignoreRadius,I=null,M=[],D=[],P={},A=0,R=1e3,z=0,N=[],U=[],V="visible"===document.visibilityState;function F(e){var t=!1,n=null;if("object"!=typeof e||!e.type)return t;switch(e.type.toLowerCase()){case"input":n="|"+(e.subType||"")+"|",t=-1!=="|button|image|submit|reset|".indexOf(n.toLowerCase());break;case"select":case"textarea":t=!1;break;default:t=!0}return t}function H(e){var t=[];for(e=e.parentNode;e;)t.push(e),e=e.parentNode;return t}function j(e){return n.some(e,(function(e){var t=n.getTagName(e);return"a"===t||"button"===t?e:null}))}function X(e){var t=e.type,n=e.target;if("blur"===(t="string"==typeof t?t.toLowerCase():"unknown")&&(t="focusout"),"change"===t)if("INPUT"===n.type)switch(n.subType){case"text":case"date":case"time":t=n.subType+"Change";break;default:t="valueChange"}else t="TEXTAREA"===n.type?"textChange":"valueChange";return t}function q(e,t,n){var r;if(document.querySelector(e))return!0;for(r=0;r<t.length;r++)if(t[r].querySelector(e))return!0;for(r=0;r<n.length;r++)if(n[r].querySelector(e))return!0;return!1}function B(t,r,i){var o,a,s,l,u,c,d,f,h;for(o=0;o<U.length;o++)a=(d=U[o]).delayUntil.selector,s=n.getValue(d.delayUntil,"exists",!0),l=d.delayUntil.dualSnapshot||!1,u=q(a,r,i),c=d.lastStatus||!1,f=d.config||{},h=d.timerId,(!0===s&&!0===u&&!1===c||!1===s&&!1===u&&!0===c||!0===l&&!0===u&&!1===c||!0===l&&!1===u&&!0===c)&&(e.performDOMCapture(document,f),l&&!1!==u||(U.splice(o--,1),0===U.length&&TLT.registerMutationCallback(B,!1),h&&clearTimeout(h))),d.lastStatus=u}function Y(t,r,i){var o,a=null;return t?((r=r||{}).eventOn=l,l=!1,i?(a="dcid-"+n.getSerialNumber()+"."+(new Date).getTime()+"s","object"==typeof i?(r.dcid=a,o={config:r,delayUntil:i,lastStatus:!1},U.push(o),TLT.registerMutationCallback(B,!0),void 0!==i.timeout&&i.timeout>=0&&(o.timerId=window.setTimeout((function(){!function(t){var n,r;for(n=0;n<U.length;n+=1)(r=U[n].config||{}).dcid===t&&(r.timeoutExpired=!0,e.performDOMCapture(document,r),U.splice(n--,1),0===U.length&&TLT.registerMutationCallback(B,!1))}(a)}),i.timeout))):window.setTimeout((function(){r.dcid=a,e.performDOMCapture(t,r)}),i)):(delete r.dcid,a=e.performDOMCapture(t,r)),a):a}function W(t,n){var r,i,o,a;for(r=0,i=t.length;r<i;r+=1)switch(o=t[r],a=n&&0===n.indexOf("#")?location.pathname+n:void 0===n||n===p?location.pathname+location.hash:n,a=e.normalizeUrl(a,2),typeof o){case"object":if(o.cRegex||(o.cRegex=new RegExp(o.regex,o.flags)),o.cRegex.lastIndex=0,o.cRegex.test(a))return!0;break;case"string":if(o===a)return!0}return!1}function K(){var t,n=!1;if(k.enabled&&!window.hasOwnProperty("ontouchstart")&&0!==M.length)return A>=R&&(n=!0),t={type:18,mousemove:{elements:D.slice(0),data:M.slice(0),config:{ignoreRadius:k.ignoreRadius,sampleRate:k.sampleRate},limitReached:n,maxInactivity:z}},e.post(t),D.length=0,M.length=0,P={},z=0,t}function Q(t,r,i){var o,a,s,l,u,c,d,f,h=!1,p={},g=null,m=0;if(!t||!r&&!i)return g;if(!r&&"load"!==t&&"unload"!==t)return g;if(S=e.getConfig()||{},!n.getValue(S,"domCapture.enabled",!1)||n.isLegacyIE)return g;if(W(n.getValue(S,"domCapture.screenviewBlacklist",[]),i))return g;for(o=0,u=(l=n.getValue(S,"domCapture.triggers")||[]).length;!h&&o<u;o+=1){if((s=l[o]).event===t)if("load"===t||"unload"===t)if(s.screenviews)for(a=0,f=(d=s.screenviews).length;!h&&a<f;a+=1)switch(typeof(c=d[a])){case"object":c.cRegex||(c.cRegex=new RegExp(c.regex,c.flags)),c.cRegex.lastIndex=0,h=c.cRegex.test(i);break;case"string":h=c===i}else h=!0;else h=!s.targets||-1!==n.matchTarget(s.targets,r);"change"===s.event&&s.delayUntil&&(N=N.concat(s.targets))}return h&&(m=s.delay||s.delayUntil||("load"===s.event?7:0),p.forceFullDOM=!!s.fullDOMCapture,(g=Y(window.document,p,m))&&K()),g}function J(e){var t,r,i=n.getValue(e,"webEvent.target",{}),o=i.type,a=i.subType||"",s=n.getTlType(i),l=H(n.getValue(i,"element")),u=n.getValue(e,"webEvent.subType",null);return t={timestamp:n.getValue(e,"webEvent.timestamp",0),type:4,target:{id:i.id||"",idType:i.idType,name:i.name,tlType:s,type:o,position:{width:n.getValue(i,"size.width"),height:n.getValue(i,"size.height")},currState:e.currState||null},event:{tlEvent:X(n.getValue(e,"webEvent")),type:n.getValue(e,"webEvent.type","UNKNOWN")}},i.accessibility&&(t.target.accessibility=i.accessibility),i.attributes&&(t.target.attributes=i.attributes),a&&(t.target.subType=a),"number"==typeof e.dwell&&e.dwell>0&&(t.target.dwell=e.dwell),"number"==typeof e.visitedCount&&(t.target.visitedCount=e.visitedCount),void 0!==e.prevState&&(t.prevState=e.prevState),u&&(t.event.subType=u),r=j(l),t.target.isParentLink=!!r,r&&(r.href&&(t.target.currState=t.target.currState||{},t.target.currState.href=t.target.currState.href||r.href),r.value&&(t.target.currState=t.target.currState||{},t.target.currState.value=t.target.currState.value||r.value),(r.innerText||r.textContent)&&(t.target.currState=t.target.currState||{},t.target.currState.innerText=n.trim(t.target.currState.innerText||r.innerText||r.textContent))),n.isUndefOrNull(t.target.currState)&&delete t.target.currState,n.isUndefOrNull(t.target.name)&&delete t.target.name,t}function G(t){e.post(t)}function Z(t){var n,r,i,o,a,s=t.length,l={mouseout:!0,mouseover:!0},u=[];for(n=0;n<s;n+=1)if(i=t[n])if(l[i.event.type])u.push(i);else{for(r=n+1;r<s&&t[r]&&l[t[r].event.type];r+=1);r<s&&(o=t[r])&&i.target.id===o.target.id&&i.event.type!==o.event.type&&("click"===i.event.type&&(a=i,i=o,o=a),"click"===o.event.type?(i.target.position=o.target.position,n+=1):"blur"===o.event.type&&(i.target.dwell=o.target.dwell,i.target.visitedCount=o.target.visitedCount,i.focusInOffset=o.focusInOffset,i.target.position=o.target.position,n+=1),t[r]=null,t[n]=i),u.push(t[n])}for(i=u.shift();i;i=u.shift())e.post(i);t.splice(0,t.length)}function $(e,t){s.push(J({webEvent:e,id:t,currState:n.getValue(e,"target.state")}))}function ee(e,t,r){var i,a,l,u=!1;e&&0!==s.length&&(t=t||(o[e]?o[e].webEvent:{}))&&((l="blur"===t.type||"change"===t.type?n.getValue(t,"target.state",{}):t.target&&n.getTargetState(t.target.element)||{})&&l.disabled&&(r=!0),a=s[s.length-1],o[e]?(a.focusInOffset=o[e].focusInOffset,a.target.visitedCount=o[e].visitedCount,o[e].focus&&(o[e].dwell=Number(new Date)-o[e].focus,a.target.dwell=o[e].dwell),o[e].processedChange||!o[e].prevState||r||n.isEqual(o[e].prevState,l)||(t.type="change",a.event.type=t.type,a.event.tlEvent=X(t),a.target.prevState=o[e].prevState,a.target.currState=l)):o[e]={},"click"===a.event.type?F(a.target)||(a.target.currState=l,u=!0):"focus"===a.event.type&&(u=!0),u&&!r&&(a.event.type="blur",a.event.tlEvent="focusout"),a.dcid||(i=Q(a.event.type,t.target))&&(a.dcid=i),r||(b.inFocus=!1),o[e].prevState=l?n.mixin({},l):l,Z(s))}function te(e,t){var r=s.length,i=r?s[r-1]:null;b.inFocus&&b.target.id===e?i&&i.target.id===e||($(t,e),o[e].processedChange=!1,o[e].processedClick=!1):(b.inFocus&&ee(b.target.id,b),(b=t).inFocus=!0,o[e]||(o[e]={}),o[e].focus=b.dwellStart=Number(new Date),o[e].focusInOffset=m?b.dwellStart-Number(m):-1,"focus"===t.type?o[e].prevState=n.getValue(t,"target.state"):"click"!==t.type||o[e].prevState||(o[e].prevState=n.getValue(t,"target.state"),!o[e].prevState||"checkbox"!==t.target.subType&&"radio"!==t.target.subType||(o[e].prevState.checked=!o[e].prevState.checked)),o[e].visitedCount=o[e].visitedCount+1||1,o[e].webEvent=t,o[e].processedChange=!1,o[e].processedClick=!1,s.length&&console.warn("Focus on ["+e+"] but tmpQueue is not empty!",s),$(t,e))}function ne(e,t){var r;te(e,t),(r=s[s.length-1]).event.type="change",r.event.tlEvent=X(t),r.target.currState=t.target.state,o[e].prevState&&(r.target.prevState=o[e].prevState,"boolean"==typeof r.target.currState.checked&&(r.target.prevState.checked=!r.target.currState.checked)),o[e].webEvent=t,o[e].processedChange=!0,-1!==n.matchTarget(N,t.target)&&ee(e,t)}function re(e,t){var r,i;"select"===t.target.type&&T&&T.target.id===e?T=null:(te(e,t),"focus"===(r=s[s.length-1]).event.type&&(r.event.type="click",r.event.tlEvent=X(t)),(i=t.nativeEvent)&&(!window.MouseEvent||!(i instanceof MouseEvent&&0===i.detail)||window.PointerEvent&&i instanceof PointerEvent&&""!==i.pointerType)&&(r.target.position.relXY=n.getValue(t,"target.position.relXY")),o[e].processedChange||(o[e].webEvent=t),o[e].processedClick=!0,F(t.target)&&ee(e,t,!0),T=t)}function ie(e,t){var r=e;if(n.getValue(t,"target.element.disabled",!1))switch(t.type){case"pointerdown":d=r;break;case"pointerup":r===d&&(t.type="click",re(e,t)),d=null}}function oe(t){var r,i,o,a,s,l,u=0;if(k.enabled&&!window.hasOwnProperty("ontouchstart")&&!(A>=R)){if(r={element:{id:t.target.id,idType:t.target.idType},x:t.position.x,y:t.position.y,offset:e.getCurrentOffset()},null!==I){if(u=r.offset-I.offset,O&&u<O)return;if(s=Math.abs(r.x-I.x),l=Math.abs(r.y-I.y),L&&(s>l?s:l)<L)return;u>z&&(z=u)}i=JSON.stringify(r.element),void 0===(o=P[i])&&(D.push(r.element),o=D.length-1,P[i]=o),a=n.getValue(t,"target.position.relXY").split(","),M.push([o,a[0],a[1],r.offset]),A+=1,I=r}}function ae(e){var t=e.orientation;G({type:4,event:{type:"orientationchange"},target:{prevState:{orientation:r,orientationMode:n.getOrientationMode(r)},currState:{orientation:t,orientationMode:n.getOrientationMode(t)}}}),r=t}function se(){var e;return e=x-E,isNaN(e)?"INVALID":e<0?"CLOSE":e>0?"OPEN":"NONE"}function le(){var e;u&&((e=u.clientState).viewPortHeight>0&&e.viewPortHeight<_&&e.viewPortWidth>0&&e.viewPortWidth<_&&G(u),c=u,u=null,v=w||v,y=null),le.timeoutId=0}function ue(e){var t=null;if(!n.isOperaMini)return u=function(e){var t,r=document.documentElement||{},i=document.body||{},o=window.screen,a=o.width,s=o.height,l=n.getValue(e,"orientation",0),u=n.isiOS&&90===Math.abs(l)?s:a,d={type:1,clientState:{pageWidth:Math.max(i.clientWidth||0,r.offsetWidth||0,r.scrollWidth||0),pageHeight:Math.max(i.clientHeight||0,r.offsetHeight||0,r.scrollHeight||0),viewPortWidth:window.innerWidth||r.clientWidth,viewPortHeight:window.innerHeight||r.clientHeight,viewPortX:Math.round(window.pageXOffset||(r||i).scrollLeft||0),viewPortY:Math.round(window.pageYOffset||(r||i).scrollTop||0),deviceOrientation:l,event:n.getValue(e,"type")}},f=d.clientState;return c=c||d,"unload"===f.event&&f.viewPortHeight===f.pageHeight&&f.viewPortWidth===f.pageWidth&&c.clientState.viewPortHeight<f.viewPortHeight&&(f.viewPortHeight=c.clientState.viewPortHeight,f.viewPortWidth=c.clientState.viewPortWidth),f.viewPortY+f.viewPortHeight>f.pageHeight&&(f.viewPortY=f.pageHeight-f.viewPortHeight),f.viewPortY<0&&(f.viewPortY=0),t=f.viewPortWidth?u/f.viewPortWidth:1,f.deviceScale=t.toFixed(3),f.viewTime=0,v&&y&&(f.viewTime=y.getTime()-v.getTime()),"scroll"===e.type&&(f.viewPortXStart=c.clientState.viewPortX,f.viewPortYStart=c.clientState.viewPortY),d}(e),"scroll"===e.type||"resize"===e.type?(le.timeoutId&&window.clearTimeout(le.timeoutId),le.timeoutId=window.setTimeout(le,n.getValue(S,"scrollTimeout",2e3))):"touchstart"===e.type||"load"===e.type?u&&(E=parseFloat(u.clientState.deviceScale)):"touchend"===e.type&&u&&(x=parseFloat(u.clientState.deviceScale),le()),"load"!==e.type&&"unload"!==e.type||("unload"===e.type&&f&&((t=n.clone(u)).clientState.event="attention",t.clientState.viewTime=(new Date).getTime()-f),le(),t&&(u=t,le())),u}function ce(e,t){var r,i,o=["type","name","target.id"],a=null,s=!0,l=0,u=0,c=0;if(!e||!t||"object"!=typeof e||"object"!=typeof t)return!1;for(r=0,i=o.length;s&&r<i;r+=1)if(a=o[r],n.getValue(e,a)!==n.getValue(t,a)){s=!1;break}return s&&(u=n.getValue(e,"timestamp"),c=n.getValue(t,"timestamp"),isNaN(u)&&isNaN(c)||(l=Math.abs(n.getValue(e,"timestamp")-n.getValue(t,"timestamp")),(isNaN(l)||l>10)&&(s=!1))),s}function de(e){var t,r={type:4,event:{tlEvent:X(e),type:e.type},target:{id:n.getValue(e,"target.id"),idType:n.getValue(e,"target.idType"),currState:n.getValue(e,"target.state")}};(t=Q(e.type,e.target))&&(r.dcid=t),G(r)}return{currOrientation:r,pastEvents:o,lastEventId:a,getTmpQueue:function(){return s},getPendingQueue:function(){return U},postEventQueue:Z,eventCounter:0,curClientState:u,getViewEventStart:function(){return g},setViewEventStart:function(e){g=e},viewTimeStart:m,parentElements:H,getParentLink:j,createQueueEvent:J,postUIEvent:G,handleFocus:te,handleBlur:ee,handleChange:ne,handleClick:re,handleOrientationChange:ae,handleClientState:ue,getPinchType:se,saveTouchState:function(e){i.scale=e.scale,i.rotation=e.rotation,i.timestamp=(new Date).getTime()},isDuplicateTouch:function(e){var t=!1;return e?t=i.scale===e.scale&&Math.abs((new Date).getTime()-i.timestamp)<500:t},getTlEvent:X,isDuplicateEvent:ce,scheduleDOMCapture:Y,addDOMCapture:Q,mutationDomCapture:B,isTargetClickable:F,defaultEventHandler:de,isScreenviewBlacklisted:W,handleMousemove:oe,logMousemove:K,init:function(){s=[]},destroy:function(){ee(a),s=[],le.timeoutId&&(window.clearTimeout(le.timeoutId),le.timeoutId=0)},onevent:function(i){var l,u,c,d,f,g=null,b=null;if("object"==typeof i&&i.type){if(!ce(i,h)){switch(h=i,"undefined"!=typeof console&&console.log("Replay event["+i.type+"]: ",i),l=n.getValue(i,"target.id"),o[l]||(o[l]={}),function(e,t){var r,i=!1,a=s.length,l=a?s[a-1]:null;l&&((r=l.target.id)!==e&&"selectList"!==l.target.tltype&&("focus"!==t.type&&"click"!==t.type&&"change"!==t.type&&"blur"!==t.type&&"unload"!==t.type||(ee(r),i=!0)),r===e&&("click"===t.type&&o[e].processedClick||"change"===t.type&&o[e].processedChange||"pointerup"===t.type&&o[e].processedClick&&n.getValue(t.target,"state.disabled",!1))&&(ee(r,null,!0),i=!0))}(l,i),i.type){case"hashchange":break;case"focus":te(l,i);break;case"blur":ee(l,i);break;case"pointerdown":case"pointerup":ie(l,i);break;case"click":re(l,i);break;case"change":ne(l,i);break;case"orientationchange":ae(i);break;case"touchstart":!function(e){2===n.getValue(e,"nativeEvent.touches.length",0)&&ue(e)}(i);break;case"touchend":!function(e){var t={},r=n.getValue(e,"nativeEvent.rotation",0)||n.getValue(e,"nativeEvent.touches[0].webkitRotationAngle",0),i=null,o={type:4,event:{type:"touchend"},target:{id:n.getValue(e,"target.id"),idType:n.getValue(e,"target.idType")}};2===n.getValue(e,"nativeEvent.changedTouches.length",0)+n.getValue(e,"nativeEvent.touches.length",0)&&(ue(e),(i={rotation:r?r.toFixed(2):0,scale:x?x.toFixed(2):1}).pinch=se(),t.scale=E?E.toFixed(2):1,o.target.prevState=t,o.target.currState=i,G(o))}(i);break;case"loadWithFrames":TLT.logScreenviewLoad("rootWithFrames");break;case"load":r=i.orientation,v=new Date,("number"!=typeof n.getOrientationAngle()||n.isAndroid)&&(c=window.screen.width>window.screen.height?90:0,u=n.getOrientationAngle(),Math.abs(u)===c||180===u&&0===c||270===u&&90===c||(n.isLandscapeZeroDegrees=!0,180===Math.abs(u)||0===Math.abs(u)?r=90:90!==Math.abs(u)&&270!==Math.abs(u)||(r=0))),setTimeout((function(){e.isInitialized()&&ue(i)}),100),t=n.getValue(S,"forceRootScreenview",!1)?p:e.normalizeUrl(location.hash,2)||p,TLT.logScreenviewLoad(t);break;case"screenview_load":m=new Date,function(){var e;for(e in o)o.hasOwnProperty(e)&&(o[e].visitedCount=0)}(),g=Q("load",null,i.name);break;case"screenview_unload":g=Q("unload",null,i.name);break;case"resize":case"scroll":y||(y=new Date),w=new Date,ue(i);break;case"unload":for(d in C)C.hasOwnProperty(d)&&(f=C[d].exception).repeats>1&&(b={type:6,exception:f},e.post(b));s&&Z(s),y=new Date,ue(i),t!==p&&e.normalizeUrl(location.hash,2)!==t||TLT.logScreenviewUnload(t);break;case"mousemove":oe(i);break;case"error":!function(t){var r,i=null,o=n.getValue(t,"nativeEvent.message"),a=n.getValue(t,"nativeEvent.filename",""),s=n.getValue(t,"nativeEvent.lineno",-1),l=n.getValue(t,"nativeEvent.error");"string"==typeof o&&(a&&(a=e.normalizeUrl(a,6)),r=l&&l.stack?l.stack.toString():(o+" "+a+" "+s).toString(),C[r]?C[r].exception.repeats=C[r].exception.repeats+1:(i={type:6,exception:{description:o,url:a,line:s}},e.post(i),C[r]={exception:{description:o,url:a,line:s,repeats:1}}),1)}(i);break;case"visibilitychange":!function(e){var t,n="visible"===document.visibilityState,r={type:4,event:{type:"visibilitychange"},target:{prevState:{visible:V},currState:{visible:n}}};(t=Q(e.type,e.target))&&(r.dcid=t),G(r),V=n}(i);break;default:de(i)}return a=l,g}h=i}},onmessage:function(){}}}));

// 不抓 currState.innerText
if(window.TLT)throw"Attempting to recreate TLT. Library may be included more than once on the page.";if(window.TLT=function(){"use strict";var e,t,n,r,i,o,a,s,l,u,c,d,f,h=!1;function p(e){window.TLT&&e.persisted&&(TLT.terminationReason="",TLT.init())}function g(e,t,n,r){var i=null,a=null,l=TLT.getModule("replay"),u=TLT.getModule("TLCookie"),c=TLT.getModule("performance"),f=null,h=d.getOriginAndPath();t&&"string"==typeof t&&(n&&"string"==typeof n||(n=""),a={type:2,screenview:{type:e,name:t,originalUrl:h.path,url:TLT.normalizeUrl("",h.path,2),host:h.origin,referrer:n,title:document.title,queryParams:h.queryParams}},"LOAD"===e?f={type:"screenview_load",name:t}:"UNLOAD"===e&&(f={type:"screenview_unload",name:t}),f&&l&&(i=l.onevent(f)),i&&(a.dcid=i),"LOAD"!==e&&"UNLOAD"!==e||o.post("",a),f&&u&&u.onevent(f),f&&c&&c.onevent(f),f&&s&&s.onevent(f))}var m,v,y,w=(new Date).getTime(),b={},T={},S={},_=!1,x=null,E=function(){var e,t=[];function r(r){return d.indexOf(t,r)<0&&function(r){var i,o,a=l.framesBlacklist;if(e=e||[],r=r||null,void 0!==a&&a.length>0){for(o=0;o<a.length;o+=1)(i=n.queryAll(a[o],r))&&i.length>0&&(e=e.concat(i));t=t.concat(n.queryAll("iframe",r))}}(r.ownerDocument),d.indexOf(e,r)>-1}return r.clearCache=function(){e=null},r}(),C=null,k={config:["getConfig","getDefaultConfig","updateConfig","getCoreConfig","updateCoreConfig","getModuleConfig","updateModuleConfig","getServiceConfig","updateServiceConfig"],queue:["post","setAutoFlush","flushAll","setXHRLog"],browserBase:["getXPathFromNode","processDOMEvent"]},O=(y={},{normalizeModuleEvents:function(e,t,n,r){var i=y[e],o=!1,a=!1;n=n||X._getLocalTop(),i||(y[e]={loadFired:!1,pageHideFired:!1},d.forEach(t,(function(e){switch(e.name){case"load":o=!0,t.push(d.mixin(d.mixin({},e),{name:"pageshow"}));break;case"unload":a=!0,t.push(d.mixin(d.mixin({},e),{name:"pagehide"})),t.push(d.mixin(d.mixin({},e),{name:"beforeunload"}));break;case"change":d.isLegacyIE&&"w3c"===X.getFlavor()&&t.push(d.mixin(d.mixin({},e),{name:"propertychange"}))}})),o||a?(y[e].silentLoad=!o,y[e].silentUnload=!a,o||t.push({name:"load",target:n}),a||t.push({name:"unload",target:n})):delete y[e])},canPublish:function(e,t){var n;if(!1===y.hasOwnProperty(e))return!0;switch(n=y[e],t.type){case"load":return n.pageHideFired=!1,n.loadFired=!0,!n.silentLoad;case"pageshow":return n.pageHideFired=!1,t.type="load",!n.loadFired&&!n.silentLoad;case"pagehide":return t.type="unload",n.loadFired=!1,n.pageHideFired=!0,!n.silentUnload;case"unload":case"beforeunload":return t.type="unload",n.loadFired=!1,!n.pageHideFired&&!n.silentUnload}return!0},isUnload:function(e){return"object"==typeof e&&("unload"===e.type||"beforeunload"===e.type||"pagehide"===e.type)}}),L={},I={},M={},D=[],P=function(){},A=null,R=!0,z=function(){},N=!1,U=function(){var e=window.location,t=e.pathname,n=e.hash,r="";return function(){var i=e.pathname,o=e.hash,a=r;i!==t?a=TLT.normalizeUrl("",i+o,2):o!==n&&(a=TLT.normalizeUrl("",o,2)),a!==r&&(r&&g("UNLOAD",r),g("LOAD",a),r=a,t=i,n=o)}}(),V=function(e,t){var n,r,i,o,a=null;if(!e||!t)return a;for(n=0,r=e.length;n<r;n+=1)switch(typeof(i=e[n])){case"object":(o=new RegExp(i.regex,i.flags).exec(t))&&(a=o[0]);break;case"string":-1!==t.indexOf(i)&&(a=i)}return a},F=function(e,t){var r,i,o,a,s,u,c=!1,f=l.blockedElements;if(!f||!f.length)return F=function(){return!1},c;if(!e||!e.nodeType)return c;for(t=t||d.getDocument(e),r=0,o=f.length;r<o&&!c;r+=1)for(i=0,u=(s=n.queryAll(f[r],t)).length;i<u&&!c;i+=1)c=(a=s[i]).contains?a.contains(e):a===e;return c},H=function(e){var t=!1;return e&&"a"===d.getTagName(e)&&-1!==["intent:","mailto:","sms:","tel:"].indexOf(e.protocol)&&(t=!0),t},j=function(){var e=null,t="tltTabId";try{(e=sessionStorage.getItem(t))||(e=d.getRandomString(4),sessionStorage.setItem(t,e))}catch(e){d.clog("Tab Id: Session Storage access exception.",e)}return e},X={debugMode:!0,getBlockedUA:V,hasExcludedProtocol:H,getTabIndex:j,getTLTSessionCookieInfo:function(){return b},_loadGlobalsForUnitTesting:function(u){d=u.utils,e=u.getService("ajax"),t=u.getService("browserBase"),n=u.getService("browser"),r=u.getService("config"),i=u.getService("domCapture"),o=u.getService("queue"),a=u.getService("serializer"),s=u.getModule("dataLayer"),l=r?r.getCoreConfig():null},getStartTime:function(){return w},getPageId:function(){return m||"#"},getTabId:function(){return v},isMousemovementDetected:function(){return h},setSessionCookieInfo:function(e,t,n){b.tltCookieName=t,b.tltCookieValue=n},getLibraryVersion:function(){return"6.4.20"},getCurrentWebEvent:function(){return L},normalizeUrl:function(e,t,n){var r,i;if((r=this.getCoreConfig()).normalization&&r.normalization.urlFunction){"string"==typeof(i=r.normalization.urlFunction)&&(i=d.access(i));try{t=i(t,n)}catch(e){d.clog("URL Normalization error",t,e)}}return t},getCurrentOffset:function(){return this.getService("message").getCurrentOffset()},initLib:function(e,t){return this.initLibAdv(e,t,{},!0,!0,!0,!0,!0)},initLibAdv:function(e,t,n,r,i,o,a,s){return"object"==typeof pako&&void 0!==pako&&void 0!==pako.deflate&&void 0!==pako.Deflate?console&&console.info("Pako is already loaded."):!0===r&&(window.pako=function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){return i(t[a][1][e]||e)}),c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t,n,r=Array.prototype.slice.call(arguments,1);r.length;){var i=r.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var o in i)t=i,n=o,Object.prototype.hasOwnProperty.call(t,n)&&(e[o]=i[o])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,a;for(t=r=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),t=i=0,n=e.length;t<n;t++)o=e[t],a.set(o,i),i+=o.length;return a}},o={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(r)},{}],2:[function(e,t,n){var r=e("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function l(e,t){if(t<65534&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,n.string2buf=function(e){var t,n,i,o,a,s=e.length,l=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),o=a=0;a<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[a++]=n:(n<2048?t[a++]=192|n>>>6:(n<65536?t[a++]=224|n>>>12:(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63),t[a++]=128|n>>>6&63),t[a++]=128|63&n);return t},n.buf2binstring=function(e){return l(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,i,o,s=t||e.length,u=new Array(2*s);for(n=r=0;n<s;)if((i=e[n++])<128)u[r++]=i;else if(4<(o=a[i]))u[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;1<o&&n<s;)i=i<<6|63&e[n++],o--;1<o?u[r++]=65533:i<65536?u[r++]=i:(i-=65536,u[r++]=55296|i>>10&1023,u[r++]=56320|1023&i)}return l(u,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}},{"./common":1}],3:[function(e,t,n){t.exports=function(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){for(n-=a=2e3<n?2e3:n;o=o+(i=i+t[r++]|0)|0,--a;);i%=65521,o%=65521}return i|o<<16|0}},{}],4:[function(e,t,n){var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,i){var o=r,a=i+n;e^=-1;for(var s=i;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},{}],5:[function(e,t,n){var r,i=e("../utils/common"),o=e("./trees"),a=e("./adler32"),s=e("./crc32"),l=e("./messages"),u=0,c=4,d=0,f=-2,h=-1,p=4,g=2,m=8,v=9,y=286,w=30,b=19,T=2*y+1,S=15,_=3,x=258,E=x+_+1,C=42,k=113,O=1,L=2,I=3,M=4;function D(e,t){return e.msg=l[t],t}function P(e){return(e<<1)-(4<e?9:0)}function A(e){for(var t=e.length;0<=--t;)e[t]=0}function R(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function z(e,t){o._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,R(e.strm)}function N(e,t){e.pending_buf[e.pending++]=t}function U(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function V(e,t){var n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-E?e.strstart-(e.w_size-E):0,u=e.window,c=e.w_mask,d=e.prev,f=e.strstart+x,h=u[o+a-1],p=u[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(n=t)+a]===p&&u[n+a-1]===h&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<f);if(r=x-(f-o),o=f-x,a<r){if(e.match_start=t,s<=(a=r))break;h=u[o+a-1],p=u[o+a]}}}while((t=d[t&c])>l&&0!=--i);return a<=e.lookahead?a:e.lookahead}function F(e){var t,n,r,o,l,u,c,d,f,h,p=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-E)){for(i.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=n=e.hash_size;r=e.head[--t],e.head[t]=p<=r?r-p:0,--n;);for(t=n=p;r=e.prev[--t],e.prev[t]=p<=r?r-p:0,--n;);o+=p}if(0===e.strm.avail_in)break;if(u=e.strm,c=e.window,d=e.strstart+e.lookahead,h=void 0,(f=o)<(h=u.avail_in)&&(h=f),n=0===h?0:(u.avail_in-=h,i.arraySet(c,u.input,u.next_in,h,d),1===u.state.wrap?u.adler=a(u.adler,c,h,d):2===u.state.wrap&&(u.adler=s(u.adler,c,h,d)),u.next_in+=h,u.total_in+=h,h),e.lookahead+=n,e.lookahead+e.insert>=_)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+_-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<_)););}while(e.lookahead<E&&0!==e.strm.avail_in)}function H(e,t){for(var n,r;;){if(e.lookahead<E){if(F(e),e.lookahead<E&&t===u)return O;if(0===e.lookahead)break}if(n=0,e.lookahead>=_&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+_-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-E&&(e.match_length=V(e,n)),e.match_length>=_)if(r=o._tr_tally(e,e.strstart-e.match_start,e.match_length-_),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=_){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+_-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(z(e,!1),0===e.strm.avail_out))return O}return e.insert=e.strstart<_-1?e.strstart:_-1,t===c?(z(e,!0),0===e.strm.avail_out?I:M):e.last_lit&&(z(e,!1),0===e.strm.avail_out)?O:L}function j(e,t){for(var n,r,i;;){if(e.lookahead<E){if(F(e),e.lookahead<E&&t===u)return O;if(0===e.lookahead)break}if(n=0,e.lookahead>=_&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+_-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=_-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-E&&(e.match_length=V(e,n),e.match_length<=5&&(1===e.strategy||e.match_length===_&&4096<e.strstart-e.match_start)&&(e.match_length=_-1)),e.prev_length>=_&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-_,r=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-_),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+_-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=_-1,e.strstart++,r&&(z(e,!1),0===e.strm.avail_out))return O}else if(e.match_available){if((r=o._tr_tally(e,0,e.window[e.strstart-1]))&&z(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return O}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<_-1?e.strstart:_-1,t===c?(z(e,!0),0===e.strm.avail_out?I:M):e.last_lit&&(z(e,!1),0===e.strm.avail_out)?O:L}function X(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function q(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=m,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*T),this.dyn_dtree=new i.Buf16(2*(2*w+1)),this.bl_tree=new i.Buf16(2*(2*b+1)),A(this.dyn_ltree),A(this.dyn_dtree),A(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(S+1),this.heap=new i.Buf16(2*y+1),A(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*y+1),A(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function B(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=g,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?C:k,e.adler=2===t.wrap?0:1,t.last_flush=u,o._tr_init(t),d):D(e,f)}function Y(e){var t,n=B(e);return n===d&&((t=e.state).window_size=2*t.w_size,A(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=_-1,t.match_available=0,t.ins_h=0),n}function W(e,t,n,r,o,a){if(!e)return f;var s=1;if(t===h&&(t=6),r<0?(s=0,r=-r):15<r&&(s=2,r-=16),o<1||v<o||n!==m||r<8||15<r||t<0||9<t||a<0||p<a)return D(e,f);8===r&&(r=9);var l=new q;return(e.state=l).strm=e,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+_-1)/_),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=n,Y(e)}r=[new X(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(F(e),0===e.lookahead&&t===u)return O;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,z(e,!1),0===e.strm.avail_out))return O;if(e.strstart-e.block_start>=e.w_size-E&&(z(e,!1),0===e.strm.avail_out))return O}return e.insert=0,t===c?(z(e,!0),0===e.strm.avail_out?I:M):(e.strstart>e.block_start&&(z(e,!1),e.strm.avail_out),O)})),new X(4,4,8,4,H),new X(4,5,16,8,H),new X(4,6,32,32,H),new X(4,4,16,16,j),new X(8,16,32,32,j),new X(8,16,128,128,j),new X(8,32,128,256,j),new X(32,128,258,1024,j),new X(32,258,258,4096,j)],n.deflateInit=function(e,t){return W(e,t,m,15,8,0)},n.deflateInit2=W,n.deflateReset=Y,n.deflateResetKeep=B,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?f:(e.state.gzhead=t,d):f},n.deflate=function(e,t){var n,i,a,l;if(!e||!e.state||5<t||t<0)return e?D(e,f):f;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&t!==c)return D(e,0===e.avail_out?-5:f);if(i.strm=e,n=i.last_flush,i.last_flush=t,i.status===C)if(2===i.wrap)e.adler=0,N(i,31),N(i,139),N(i,8),i.gzhead?(N(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),N(i,255&i.gzhead.time),N(i,i.gzhead.time>>8&255),N(i,i.gzhead.time>>16&255),N(i,i.gzhead.time>>24&255),N(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),N(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(N(i,255&i.gzhead.extra.length),N(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(N(i,0),N(i,0),N(i,0),N(i,0),N(i,0),N(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),N(i,3),i.status=k);else{var h=m+(i.w_bits-8<<4)<<8;h|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(h|=32),h+=31-h%31,i.status=k,U(i,h),0!==i.strstart&&(U(i,e.adler>>>16),U(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),R(e),a=i.pending,i.pending!==i.pending_buf_size));)N(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),R(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}N(i,l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),R(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}N(i,l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&R(e),i.pending+2<=i.pending_buf_size&&(N(i,255&e.adler),N(i,e.adler>>8&255),e.adler=0,i.status=k)):i.status=k),0!==i.pending){if(R(e),0===e.avail_out)return i.last_flush=-1,d}else if(0===e.avail_in&&P(t)<=P(n)&&t!==c)return D(e,-5);if(666===i.status&&0!==e.avail_in)return D(e,-5);if(0!==e.avail_in||0!==i.lookahead||t!==u&&666!==i.status){var p=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(F(e),0===e.lookahead)){if(t===u)return O;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(z(e,!1),0===e.strm.avail_out))return O}return e.insert=0,t===c?(z(e,!0),0===e.strm.avail_out?I:M):e.last_lit&&(z(e,!1),0===e.strm.avail_out)?O:L}(i,t):3===i.strategy?function(e,t){for(var n,r,i,a,s=e.window;;){if(e.lookahead<=x){if(F(e),e.lookahead<=x&&t===u)return O;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=_&&0<e.strstart&&(r=s[i=e.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){a=e.strstart+x;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);e.match_length=x-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=_?(n=o._tr_tally(e,1,e.match_length-_),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(z(e,!1),0===e.strm.avail_out))return O}return e.insert=0,t===c?(z(e,!0),0===e.strm.avail_out?I:M):e.last_lit&&(z(e,!1),0===e.strm.avail_out)?O:L}(i,t):r[i.level].func(i,t);if(p!==I&&p!==M||(i.status=666),p===O||p===I)return 0===e.avail_out&&(i.last_flush=-1),d;if(p===L&&(1===t?o._tr_align(i):5!==t&&(o._tr_stored_block(i,0,0,!1),3===t&&(A(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),R(e),0===e.avail_out))return i.last_flush=-1,d}return t!==c?d:i.wrap<=0?1:(2===i.wrap?(N(i,255&e.adler),N(i,e.adler>>8&255),N(i,e.adler>>16&255),N(i,e.adler>>24&255),N(i,255&e.total_in),N(i,e.total_in>>8&255),N(i,e.total_in>>16&255),N(i,e.total_in>>24&255)):(U(i,e.adler>>>16),U(i,65535&e.adler)),R(e),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?d:1)},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==C&&69!==t&&73!==t&&91!==t&&103!==t&&t!==k&&666!==t?D(e,f):(e.state=null,t===k?D(e,-3):d):f},n.deflateSetDictionary=function(e,t){var n,r,o,s,l,u,c,h,p=t.length;if(!e||!e.state)return f;if(2===(s=(n=e.state).wrap)||1===s&&n.status!==C||n.lookahead)return f;for(1===s&&(e.adler=a(e.adler,t,p,0)),n.wrap=0,p>=n.w_size&&(0===s&&(A(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new i.Buf8(n.w_size),i.arraySet(h,t,p-n.w_size,n.w_size,0),t=h,p=n.w_size),l=e.avail_in,u=e.next_in,c=e.input,e.avail_in=p,e.next_in=0,e.input=t,F(n);n.lookahead>=_;){for(r=n.strstart,o=n.lookahead-(_-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+_-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--o;);n.strstart=r,n.lookahead=_-1,F(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=_-1,n.match_available=0,e.next_in=u,e.input=c,e.avail_in=l,n.wrap=s,d},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":4,"./messages":6,"./trees":7}],6:[function(e,t,n){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],7:[function(e,t,n){var r=e("../utils/common"),i=0,o=1;function a(e){for(var t=e.length;0<=--t;)e[t]=0}var s=0,l=29,u=256,c=u+1+l,d=30,f=19,h=2*c+1,p=15,g=16,m=7,v=256,y=16,w=17,b=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],S=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],_=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],x=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],E=new Array(2*(c+2));a(E);var C=new Array(2*d);a(C);var k=new Array(512);a(k);var O=new Array(256);a(O);var L=new Array(l);a(L);var I,M,D,P=new Array(d);function A(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function R(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function z(e){return e<256?k[e]:k[256+(e>>>7)]}function N(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function U(e,t,n){e.bi_valid>g-n?(e.bi_buf|=t<<e.bi_valid&65535,N(e,e.bi_buf),e.bi_buf=t>>g-e.bi_valid,e.bi_valid+=n-g):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function V(e,t,n){U(e,n[2*t],n[2*t+1])}function F(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function H(e,t,n){var r,i,o=new Array(p+1),a=0;for(r=1;r<=p;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=F(o[s]++,s))}}function j(e){var t;for(t=0;t<c;t++)e.dyn_ltree[2*t]=0;for(t=0;t<d;t++)e.dyn_dtree[2*t]=0;for(t=0;t<f;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*v]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function X(e){8<e.bi_valid?N(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function q(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function B(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&q(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!q(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function Y(e,t,n){var r,i,o,a,s=0;if(0!==e.last_lit)for(;r=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],i=e.pending_buf[e.l_buf+s],s++,0===r?V(e,i,t):(V(e,(o=O[i])+u+1,t),0!==(a=T[o])&&U(e,i-=L[o],a),V(e,o=z(--r),n),0!==(a=S[o])&&U(e,r-=P[o],a)),s<e.last_lit;);V(e,v,t)}function W(e,t){var n,r,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=h,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=u,n=e.heap_len>>1;1<=n;n--)B(e,o,n);for(i=l;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],B(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,B(e,o,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,o,a,s,l=t.dyn_tree,u=t.max_code,c=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,g=t.stat_desc.extra_base,m=t.stat_desc.max_length,v=0;for(o=0;o<=p;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<h;n++)m<(o=l[2*l[2*(r=e.heap[n])+1]+1]+1)&&(o=m,v++),l[2*r+1]=o,u<r||(e.bl_count[o]++,a=0,g<=r&&(a=f[r-g]),s=l[2*r],e.opt_len+=s*(o+a),d&&(e.static_len+=s*(c[2*r+1]+a)));if(0!==v){do{for(o=m-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[m]--,v-=2}while(0<v);for(o=m;0!==o;o--)for(r=e.bl_count[o];0!==r;)u<(i=e.heap[--n])||(l[2*i+1]!==o&&(e.opt_len+=(o-l[2*i+1])*l[2*i],l[2*i+1]=o),r--)}}(e,t),H(o,u,e.bl_count)}function K(e,t,n){var r,i,o=-1,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<l&&i===a||(s<u?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[2*y]++):s<=10?e.bl_tree[2*w]++:e.bl_tree[2*b]++,o=i,(s=0)===a?(l=138,u=3):i===a?(l=6,u=3):(l=7,u=4))}function Q(e,t,n){var r,i,o=-1,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<l&&i===a)){if(s<u)for(;V(e,i,e.bl_tree),0!=--s;);else 0!==i?(i!==o&&(V(e,i,e.bl_tree),s--),V(e,y,e.bl_tree),U(e,s-3,2)):s<=10?(V(e,w,e.bl_tree),U(e,s-3,3)):(V(e,b,e.bl_tree),U(e,s-11,7));o=i,(s=0)===a?(l=138,u=3):i===a?(l=6,u=3):(l=7,u=4)}}a(P);var J=!1;function G(e,t,n,i){var o,a,l,u;U(e,(s<<1)+(i?1:0),3),a=t,l=n,u=!0,X(o=e),u&&(N(o,l),N(o,~l)),r.arraySet(o.pending_buf,o.window,a,l,o.pending),o.pending+=l}n._tr_init=function(e){J||(function(){var e,t,n,r,i,o=new Array(p+1);for(r=n=0;r<l-1;r++)for(L[r]=n,e=0;e<1<<T[r];e++)O[n++]=r;for(O[n-1]=r,r=i=0;r<16;r++)for(P[r]=i,e=0;e<1<<S[r];e++)k[i++]=r;for(i>>=7;r<d;r++)for(P[r]=i<<7,e=0;e<1<<S[r]-7;e++)k[256+i++]=r;for(t=0;t<=p;t++)o[t]=0;for(e=0;e<=143;)E[2*e+1]=8,e++,o[8]++;for(;e<=255;)E[2*e+1]=9,e++,o[9]++;for(;e<=279;)E[2*e+1]=7,e++,o[7]++;for(;e<=287;)E[2*e+1]=8,e++,o[8]++;for(H(E,c+1,o),e=0;e<d;e++)C[2*e+1]=5,C[2*e]=F(e,5);I=new A(E,T,u+1,c,p),M=new A(C,S,0,d,p),D=new A(new Array(0),_,0,f,m)}(),J=!0),e.l_desc=new R(e.dyn_ltree,I),e.d_desc=new R(e.dyn_dtree,M),e.bl_desc=new R(e.bl_tree,D),e.bi_buf=0,e.bi_valid=0,j(e)},n._tr_stored_block=G,n._tr_flush_block=function(e,t,n,r){var a,s,l=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return i;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return o;for(t=32;t<u;t++)if(0!==e.dyn_ltree[2*t])return o;return i}(e)),W(e,e.l_desc),W(e,e.d_desc),l=function(e){var t;for(K(e,e.dyn_ltree,e.l_desc.max_code),K(e,e.dyn_dtree,e.d_desc.max_code),W(e,e.bl_desc),t=f-1;3<=t&&0===e.bl_tree[2*x[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),a=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=a&&(a=s)):a=s=n+5,n+4<=a&&-1!==t?G(e,t,n,r):4===e.strategy||s===a?(U(e,2+(r?1:0),3),Y(e,E,C)):(U(e,4+(r?1:0),3),function(e,t,n,r){var i;for(U(e,t-257,5),U(e,n-1,5),U(e,r-4,4),i=0;i<r;i++)U(e,e.bl_tree[2*x[i]+1],3);Q(e,e.dyn_ltree,t-1),Q(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),Y(e,e.dyn_ltree,e.dyn_dtree)),j(e),r&&X(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(O[n]+u+1)]++,e.dyn_dtree[2*z(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){var t;U(e,2,3),V(e,v,E),16===(t=e).bi_valid?(N(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}},{"../utils/common":1}],8:[function(e,t,n){t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/lib/deflate.js":[function(e,t,n){var r=e("./zlib/deflate"),i=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/messages"),s=e("./zlib/zstream"),l=Object.prototype.toString,u=0,c=-1,d=0,f=8;function h(e){if(!(this instanceof h))return new h(e);this.options=i.assign({level:c,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==u)throw new Error(a[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var p;if(p="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=r.deflateSetDictionary(this.strm,p))!==u)throw new Error(a[n]);this._dict_set=!0}}function p(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}h.prototype.push=function(e,t){var n,a,s=this.strm,c=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(c),s.next_out=0,s.avail_out=c),1!==(n=r.deflate(s,a))&&n!==u)return this.onEnd(n),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===u):2!==a||(this.onEnd(u),!(s.avail_out=0))},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===u&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=h,n.deflate=p,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,p(e,t)}},{"./utils/common":1,"./utils/strings":2,"./zlib/deflate":5,"./zlib/messages":6,"./zlib/zstream":8}]},{},[])("/lib/deflate.js")),"function"==typeof Hammer&&void 0!==Hammer?console&&console.info("Hammer:"+Hammer.VERSION+" is already loaded. But you need 1.1.3."):!0===i&&function(e,t){var n=function e(t,n){return new e.Instance(t,n||{})};n.VERSION="1.1.3",n.defaults={behavior:{userSelect:"none",touchAction:"pan-y",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},n.DOCUMENT=document,n.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,n.HAS_TOUCHEVENTS="ontouchstart"in e,n.IS_MOBILE=/mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent),n.NO_MOUSEEVENTS=n.HAS_TOUCHEVENTS&&n.IS_MOBILE||n.HAS_POINTEREVENTS,n.CALCULATE_INTERVAL=25;var r={},i=n.DIRECTION_DOWN="down",o=n.DIRECTION_LEFT="left",a=n.DIRECTION_UP="up",s=n.DIRECTION_RIGHT="right",l=n.POINTER_MOUSE="mouse",u=n.POINTER_TOUCH="touch",c=n.POINTER_PEN="pen",d=n.EVENT_START="start",f=n.EVENT_MOVE="move",h=n.EVENT_END="end",p=n.EVENT_RELEASE="release",g=n.EVENT_TOUCH="touch";n.READY=!1,n.plugins=n.plugins||{},n.gestures=n.gestures||{};var m=n.utils={extend:function(e,n,r){for(var i in n)!n.hasOwnProperty(i)||e[i]!==t&&r||(e[i]=n[i]);return e},on:function(e,t,n){e.addEventListener(t,n,!1)},off:function(e,t,n){e.removeEventListener(t,n,!1)},each:function(e,n,r){var i,o;if("forEach"in e)e.forEach(n,r);else if(e.length!==t){for(i=0,o=e.length;o>i;i++)if(!1===n.call(r,e[i],i,e))return}else for(i in e)if(e.hasOwnProperty(i)&&!1===n.call(r,e[i],i,e))return},inStr:function(e,t){return e.indexOf(t)>-1},inArray:function(e,t){if(e.indexOf){var n=e.indexOf(t);return-1!==n&&n}for(var r=0,i=e.length;i>r;r++)if(e[r]===t)return r;return!1},toArray:function(e){return Array.prototype.slice.call(e,0)},hasParent:function(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1},getCenter:function(e){var t=[],n=[],r=[],i=[],o=Math.min,a=Math.max;return 1===e.length?{pageX:e[0].pageX,pageY:e[0].pageY,clientX:e[0].clientX,clientY:e[0].clientY}:(m.each(e,(function(e){t.push(e.pageX),n.push(e.pageY),r.push(e.clientX),i.push(e.clientY)})),{pageX:(o.apply(Math,t)+a.apply(Math,t))/2,pageY:(o.apply(Math,n)+a.apply(Math,n))/2,clientX:(o.apply(Math,r)+a.apply(Math,r))/2,clientY:(o.apply(Math,i)+a.apply(Math,i))/2})},getVelocity:function(e,t,n){return{x:Math.abs(t/e)||0,y:Math.abs(n/e)||0}},getAngle:function(e,t){var n=t.clientX-e.clientX,r=t.clientY-e.clientY;return 180*Math.atan2(r,n)/Math.PI},getDirection:function(e,t){return Math.abs(e.clientX-t.clientX)>=Math.abs(e.clientY-t.clientY)?e.clientX-t.clientX>0?o:s:e.clientY-t.clientY>0?a:i},getDistance:function(e,t){var n=t.clientX-e.clientX,r=t.clientY-e.clientY;return Math.sqrt(n*n+r*r)},getScale:function(e,t){return e.length>=2&&t.length>=2?this.getDistance(t[0],t[1])/this.getDistance(e[0],e[1]):1},getRotation:function(e,t){return e.length>=2&&t.length>=2?this.getAngle(t[1],t[0])-this.getAngle(e[1],e[0]):0},isVertical:function(e){return e==a||e==i},setPrefixedCss:function(e,t,n,r){var i=["","Webkit","Moz","O","ms"];t=m.toCamelCase(t);for(var o=0;o<i.length;o++){var a=t;if(i[o]&&(a=i[o]+a.slice(0,1).toUpperCase()+a.slice(1)),a in e.style){e.style[a]=(null==r||r)&&n||"";break}}},toggleBehavior:function(e,t,n){if(t&&e&&e.style){m.each(t,(function(t,r){m.setPrefixedCss(e,r,t,n)}));var r=n&&function(){return!1};"none"==t.userSelect&&(e.onselectstart=r),"none"==t.userDrag&&(e.ondragstart=r)}},toCamelCase:function(e){return e.replace(/[_-]([a-z])/g,(function(e){return e[1].toUpperCase()}))}},v=n.event={preventMouseEvents:!1,started:!1,shouldDetect:!1,on:function(e,t,n,r){var i=t.split(" ");m.each(i,(function(t){m.on(e,t,n),r&&r(t)}))},off:function(e,t,n,r){var i=t.split(" ");m.each(i,(function(t){m.off(e,t,n),r&&r(t)}))},onTouch:function(e,t,i){var o=this,a=function(r){var a,s=r.type.toLowerCase(),l=n.HAS_POINTEREVENTS,c=m.inStr(s,"mouse");c&&o.preventMouseEvents||(c&&t==d&&0===r.button?(o.preventMouseEvents=!1,o.shouldDetect=!0):l&&t==d?o.shouldDetect=1===r.buttons||y.matchType(u,r):c||t!=d||(o.preventMouseEvents=!0,o.shouldDetect=!0),l&&t!=h&&y.updatePointer(t,r),o.shouldDetect&&(a=o.doDetect.call(o,r,t,e,i)),a==h&&(o.preventMouseEvents=!1,o.shouldDetect=!1,y.reset()),l&&t==h&&y.updatePointer(t,r))};return this.on(e,r[t],a),a},doDetect:function(e,t,n,r){var i=this.getTouchList(e,t),o=i.length,a=t,s=i.trigger,l=o;t==d?s=g:t==h&&(s=p,l=i.length-(e.changedTouches?e.changedTouches.length:1)),l>0&&this.started&&(a=f),this.started=!0;var u=this.collectEventData(n,a,i,e);return t!=h&&r.call(w,u),s&&(u.changedLength=l,u.eventType=s,r.call(w,u),u.eventType=a,delete u.changedLength),a==h&&(r.call(w,u),this.started=!1),a},determineEventTypes:function(){var t;return t=n.HAS_POINTEREVENTS?e.PointerEvent?["pointerdown","pointermove","pointerup pointercancel lostpointercapture"]:["MSPointerDown","MSPointerMove","MSPointerUp MSPointerCancel MSLostPointerCapture"]:n.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],r[d]=t[0],r[f]=t[1],r[h]=t[2],r},getTouchList:function(e,t){if(n.HAS_POINTEREVENTS)return y.getTouchList();if(e.touches){if(t==f)return e.touches;var r=[],i=[].concat(m.toArray(e.touches),m.toArray(e.changedTouches)),o=[];return m.each(i,(function(e){!1===m.inArray(r,e.identifier)&&o.push(e),r.push(e.identifier)})),o}return e.identifier=1,[e]},collectEventData:function(e,t,n,r){var i=u;return m.inStr(r.type,"mouse")||y.matchType(l,r)?i=l:y.matchType(c,r)&&(i=c),{center:m.getCenter(n),timeStamp:Date.now(),target:r.target,touches:n,eventType:t,pointerType:i,srcEvent:r,preventDefault:function(){var e=this.srcEvent;e.preventManipulation&&e.preventManipulation(),e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return w.stopDetect()}}}},y=n.PointerEvent={pointers:{},getTouchList:function(){var e=[];return m.each(this.pointers,(function(t){e.push(t)})),e},updatePointer:function(e,t){e==h?delete this.pointers[t.pointerId]:(t.identifier=t.pointerId,this.pointers[t.pointerId]=t)},matchType:function(e,t){if(!t.pointerType)return!1;var n=t.pointerType,r={};return r[l]=n===(t.MSPOINTER_TYPE_MOUSE||l),r[u]=n===(t.MSPOINTER_TYPE_TOUCH||u),r[c]=n===(t.MSPOINTER_TYPE_PEN||c),r[e]},reset:function(){this.pointers={}}},w=n.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(e,t){this.current||(this.stopped=!1,this.current={inst:e,startEvent:m.extend({},t),lastEvent:!1,lastCalcEvent:!1,futureCalcEvent:!1,lastCalcData:{},name:""},this.detect(t))},detect:function(e){if(this.current&&!this.stopped){e=this.extendEventData(e);var t=this.current.inst,n=t.options;return m.each(this.gestures,(function(r){!this.stopped&&t.enabled&&n[r.name]&&r.handler.call(r,e,t)}),this),this.current&&(this.current.lastEvent=e),e.eventType==h&&this.stopDetect(),e}},stopDetect:function(){this.previous=m.extend({},this.current),this.current=null,this.stopped=!0},getCalculatedData:function(e,t,r,i,o){var a=this.current,s=!1,l=a.lastCalcEvent,u=a.lastCalcData;l&&e.timeStamp-l.timeStamp>n.CALCULATE_INTERVAL&&(t=l.center,r=e.timeStamp-l.timeStamp,i=e.center.clientX-l.center.clientX,o=e.center.clientY-l.center.clientY,s=!0),(e.eventType==g||e.eventType==p)&&(a.futureCalcEvent=e),(!a.lastCalcEvent||s)&&(u.velocity=m.getVelocity(r,i,o),u.angle=m.getAngle(t,e.center),u.direction=m.getDirection(t,e.center),a.lastCalcEvent=a.futureCalcEvent||e,a.futureCalcEvent=e),e.velocityX=u.velocity.x,e.velocityY=u.velocity.y,e.interimAngle=u.angle,e.interimDirection=u.direction},extendEventData:function(e){var t=this.current,n=t.startEvent,r=t.lastEvent||n;(e.eventType==g||e.eventType==p)&&(n.touches=[],m.each(e.touches,(function(e){n.touches.push({clientX:e.clientX,clientY:e.clientY})})));var i=e.timeStamp-n.timeStamp,o=e.center.clientX-n.center.clientX,a=e.center.clientY-n.center.clientY;return this.getCalculatedData(e,r.center,i,o,a),m.extend(e,{startEvent:n,deltaTime:i,deltaX:o,deltaY:a,distance:m.getDistance(n.center,e.center),angle:m.getAngle(n.center,e.center),direction:m.getDirection(n.center,e.center),scale:m.getScale(n.touches,e.touches),rotation:m.getRotation(n.touches,e.touches)}),e},register:function(e){var r=e.defaults||{};return r[e.name]===t&&(r[e.name]=!0),m.extend(n.defaults,r,!0),e.index=e.index||1e3,this.gestures.push(e),this.gestures.sort((function(e,t){return e.index<t.index?-1:e.index>t.index?1:0})),this.gestures}};n.Instance=function(e,t){var r=this;n.READY||(v.determineEventTypes(),m.each(n.gestures,(function(e){w.register(e)})),v.onTouch(n.DOCUMENT,f,w.detect),v.onTouch(n.DOCUMENT,h,w.detect),n.READY=!0),this.element=e,this.enabled=!0,m.each(t,(function(e,n){delete t[n],t[m.toCamelCase(n)]=e})),this.options=m.extend(m.extend({},n.defaults),t||{}),this.options.behavior&&m.toggleBehavior(this.element,this.options.behavior,!0),this.eventStartHandler=v.onTouch(e,d,(function(e){r.enabled&&e.eventType==d?w.startDetect(r,e):e.eventType==g&&w.detect(e)})),this.eventHandlers=[]},n.Instance.prototype={on:function(e,t){var n=this;return v.on(n.element,e,t,(function(e){n.eventHandlers.push({gesture:e,handler:t})})),n},off:function(e,t){var n=this;return v.off(n.element,e,t,(function(e){var r=m.inArray({gesture:e,handler:t});!1!==r&&n.eventHandlers.splice(r,1)})),n},trigger:function(e,t){t||(t={});var r=n.DOCUMENT.createEvent("Event");r.initEvent(e,!0,!0),r.gesture=t;var i=this.element;return m.hasParent(t.target,i)&&(i=t.target),i.dispatchEvent(r),this},enable:function(e){return this.enabled=e,this},dispose:function(){var e,t;for(m.toggleBehavior(this.element,this.options.behavior,!1),e=-1;t=this.eventHandlers[++e];)m.off(this.element,t.gesture,t.handler);return this.eventHandlers=[],v.off(this.element,r[d],this.eventStartHandler),null}},function(e){var t=!1;n.gestures.Drag={name:e,index:50,handler:function(n,r){var l=w.current;if(!(r.options.dragMaxTouches>0&&n.touches.length>r.options.dragMaxTouches))switch(n.eventType){case d:t=!1;break;case f:if(n.distance<r.options.dragMinDistance&&l.name!=e)return;var u=l.startEvent.center;if(l.name!=e&&(l.name=e,r.options.dragDistanceCorrection&&n.distance>0)){var c=Math.abs(r.options.dragMinDistance/n.distance);u.pageX+=n.deltaX*c,u.pageY+=n.deltaY*c,u.clientX+=n.deltaX*c,u.clientY+=n.deltaY*c,n=w.extendEventData(n)}(l.lastEvent.dragLockToAxis||r.options.dragLockToAxis&&r.options.dragLockMinDistance<=n.distance)&&(n.dragLockToAxis=!0);var g=l.lastEvent.direction;n.dragLockToAxis&&g!==n.direction&&(n.direction=m.isVertical(g)?n.deltaY<0?a:i:n.deltaX<0?o:s),t||(r.trigger(e+"start",n),t=!0),r.trigger(e,n),r.trigger(e+n.direction,n);var v=m.isVertical(n.direction);(r.options.dragBlockVertical&&v||r.options.dragBlockHorizontal&&!v)&&n.preventDefault();break;case p:t&&n.changedLength<=r.options.dragMaxTouches&&(r.trigger(e+"end",n),t=!1);break;case h:t=!1}},defaults:{dragMinDistance:10,dragDistanceCorrection:!0,dragMaxTouches:1,dragBlockHorizontal:!1,dragBlockVertical:!1,dragLockToAxis:!1,dragLockMinDistance:25}}}("drag"),n.gestures.Gesture={name:"gesture",index:1337,handler:function(e,t){t.trigger(this.name,e)}},function(e){var t;n.gestures.Hold={name:e,index:10,defaults:{holdTimeout:500,holdThreshold:2},handler:function(n,r){var i=r.options,o=w.current;switch(n.eventType){case d:clearTimeout(t),o.name=e,t=setTimeout((function(){o&&o.name==e&&r.trigger(e,n)}),i.holdTimeout);break;case f:n.distance>i.holdThreshold&&clearTimeout(t);break;case p:clearTimeout(t)}}}}("hold"),n.gestures.Release={name:"release",index:1/0,handler:function(e,t){e.eventType==p&&t.trigger(this.name,e)}},n.gestures.Swipe={name:"swipe",index:40,defaults:{swipeMinTouches:1,swipeMaxTouches:1,swipeVelocityX:.6,swipeVelocityY:.6},handler:function(e,t){if(e.eventType==p){var n=e.touches.length,r=t.options;if(n<r.swipeMinTouches||n>r.swipeMaxTouches)return;(e.velocityX>r.swipeVelocityX||e.velocityY>r.swipeVelocityY)&&(t.trigger(this.name,e),t.trigger(this.name+e.direction,e))}}},function(e){var t=!1;n.gestures.Tap={name:e,index:100,handler:function(n,r){var i,o,a=r.options,s=w.current,l=w.previous;switch(n.eventType){case d:t=!1;break;case f:t=t||n.distance>a.tapMaxDistance;break;case h:!m.inStr(n.srcEvent.type,"cancel")&&n.deltaTime<a.tapMaxTime&&!t&&(i=l&&l.lastEvent&&n.timeStamp-l.lastEvent.timeStamp,o=!1,l&&l.name==e&&i&&i<a.doubleTapInterval&&n.distance<a.doubleTapDistance&&(r.trigger("doubletap",n),o=!0),(!o||a.tapAlways)&&(s.name=e,r.trigger(s.name,n)))}},defaults:{tapMaxTime:250,tapMaxDistance:10,tapAlways:!0,doubleTapDistance:20,doubleTapInterval:300}}}("tap"),n.gestures.Touch={name:"touch",index:-1/0,defaults:{preventDefault:!1,preventMouse:!1},handler:function(e,t){return t.options.preventMouse&&e.pointerType==l?void e.stopDetect():(t.options.preventDefault&&e.preventDefault(),void(e.eventType==g&&t.trigger("touch",e)))}},function(e){var t=!1;n.gestures.Transform={name:e,index:45,defaults:{transformMinScale:.01,transformMinRotation:1},handler:function(n,r){switch(n.eventType){case d:t=!1;break;case f:if(n.touches.length<2)return;var i=Math.abs(1-n.scale),o=Math.abs(n.rotation);if(i<r.options.transformMinScale&&o<r.options.transformMinRotation)return;w.current.name=e,t||(r.trigger(e+"start",n),t=!0),r.trigger(e,n),o>r.options.transformMinRotation&&r.trigger("rotate",n),i>r.options.transformMinScale&&(r.trigger("pinch",n),r.trigger("pinch"+(n.scale<1?"in":"out"),n));break;case p:t&&n.changedLength<2&&(r.trigger(e+"end",n),t=!1)}}}}("transform"),"function"==typeof define&&define.amd?define((function(){return n})):"undefined"!=typeof module&&module.exports?module.exports=n:e.Hammer=n}(window),"function"==typeof Hammer&&void 0!==Hammer&&Hammer&&"1.1.3"==Hammer.VERSION?TLT.addModule("gestures",(function(e){var t,n,r,i,o={"input:radio":"radioButton","input:checkbox":"checkBox","input:text":"textBox","input:password":"textBox","input:file":"fileInput","input:button":"button","input:submit":"submitButton","input:reset":"resetButton","input:image":"image","input:color":"color","input:date":"date","input:datetime":"datetime","input:datetime-local":"datetime-local","input:number":"number","input:email":"email","input:tel":"tel","input:search":"search","input:url":"url","input:time":"time","input:week":"week","input:month":"month","textarea:":"textBox","select:":"selectList","select:select-one":"selectList","button:":"button","a:":"link"},a=e.utils,s=[],l=0,u=!0,c=function(){},d={swipeAfterPinchInterval:300,doubleTapInterval:300,preventMouse:!0,dragMinDistance:10},f=[],h=[];function p(t){e.post(t)}function g(e){for(var t=e.gesture.srcEvent.target,n=0,r=0;t&&"BODY"!==t.tagName;)n+=t.offsetTop,r+=t.offsetLeft,t=t.offsetParent;return{topLeftX:r,topLeftY:n}}function m(e,t){"radioButton"===t&&delete e.control.position.relXY,null!==e.control.name&&void 0!==e.control.name&&""!==e.control.name||delete e.control.name,null!==e.control.subType&&void 0!==e.control.subType&&""!==e.control.subType||delete e.control.subType}function v(t){var i,l,u,c,d,f,h,p,v,y="string"==typeof(v="drag"===(p=a.getValue(t,"webEvent")).type?"swipe":"hold"===p.type?"tapHold":p.type)?v.toLowerCase():"unknown",w=a.getValue(t,"webEvent.gesture.srcEvent.target",document.body),b=a.getTagName(w)||"body",T=a.getValue(w,"type",""),S=o[b.toLowerCase()+":"+T.toLowerCase()]||b,_=a.getValue(t,"webEvent.target.subtype"),x=[];for("1"===r?(l=t.webEvent.gesture.touches,u="webEvent.gesture.touches.",c="swipe"===y&&!(void 0!==n&&"swipe"===n.event.tlEvent)||"pinch"===y&&!(void 0!==n&&"pinch"===n.event.tlEvent),d="swipe"===y||"pinch"===y):(l=t.webEvent.gesture.pointers,u="webEvent.gesture.pointers.",c="first"===a.getValue(t,"webEvent.gesture.firstOrLastSwipeEvent")||"first"===a.getValue(t,"webEvent.gesture.firstOrLastPinchEvent"),d="last"===a.getValue(t,"webEvent.gesture.firstOrLastSwipeEvent")||"last"===a.getValue(t,"webEvent.gesture.firstOrLastPinchEvent")),h=0;h<l.length;h+=1)f={x:a.getValue(t,u+h+".pageX")-g(t.webEvent).topLeftX,y:a.getValue(t,u+h+".pageY")-g(t.webEvent).topLeftY,width:a.getValue(t,"webEvent.gesture.srcEvent.target.offsetWidth"),height:a.getValue(t,"webEvent.gesture.srcEvent.target.offsetHeight")},x.push([{position:{y:Math.round(a.getValue(t,u+h+".pageY")),x:Math.round(a.getValue(t,u+h+".pageX"))},control:{position:{width:Math.round(a.getValue(t,u+h+".target.offsetWidth")),height:Math.round(a.getValue(t,u+h+".target.offsetHeight")),relXY:a.calculateRelativeXY(f),scrollX:Math.round(document.documentElement.scrollLeft||document.body.scrollLeft),scrollY:Math.round(document.documentElement.scrollTop||document.body.scrollTop)},id:a.getValue(t,u+h+".target.id")||e.getXPathFromNode(a.getValue(t,u+h+".target")),idType:a.getValue(t,"webEvent.gesture.idType"),name:a.getValue(t,u+h+".target.name"),tlType:S,type:b,subType:T}}]),m(x[h][0],S);if(c)for(h=0;h<l.length;h+=1)s.push(x[h][0]);if(d)for(h=0;h<l.length;h+=1)x[h].unshift(s[h]);return i={type:11,event:{tlEvent:y,type:y},touches:x},"swipe"===y&&(i.velocityX=t.webEvent.gesture.velocityX,i.velocityY=t.webEvent.gesture.velocityY),"swipe"===y&&(i.direction=t.webEvent.gesture.direction,2===i.direction&&(i.direction="left"),4===i.direction&&(i.direction="right"),8===i.direction&&(i.direction="up"),16===i.direction&&(i.direction="down")),"pinch"===y&&(t.webEvent.gesture.scale>1?i.direction="open":t.webEvent.gesture.scale<1&&(i.direction="close")),null!=_&&(i.event.subType=_),i}function y(e,t){"1"===r?"doubletap"===t.type||"hold"===t.type||"tap"===t.type?p(v({webEvent:t,id:e,currState:a.getValue(t,"target.state")})):"release"!==t.type||void 0===n||"swipe"!==n.event.tlEvent&&"pinch"!==n.event.tlEvent?"drag"!==t.type&&"pinch"!==t.type||(n=v({webEvent:t,id:e,currState:a.getValue(t,"target.state")})):(p(n),n=void 0,s=[]):"doubletap"===t.type||"tapHold"===t.type||"tap"===t.type?p(v({webEvent:t,id:e,currState:a.getValue(t,"target.state")})):"last"===t.gesture.firstOrLastSwipeEvent||"last"===t.gesture.firstOrLastPinchEvent?(p(v({webEvent:t,id:e,currState:a.getValue(t,"target.state")})),s=[]):"first"!==t.gesture.firstOrLastSwipeEvent&&"first"!==t.gesture.firstOrLastPinchEvent||v({webEvent:t,id:e,currState:a.getValue(t,"target.state")})}function w(e){var t;return document.createEvent?((t=document.createEvent("HTMLEvents")).initEvent(e.type,!0,!0),t.gesture=e):((t=document.createEventObject()).eventType=e.type,t.gesture=e),t}function b(e,t){void 0!==t&&(document.createEvent?t.dispatchEvent(e):t.fireEvent("on"+e.eventType,e))}function T(e){var t=e.type,n=e.target;"tap"===t?(b(w(e),n),i=void 0):"press"===t?(e.type="tapHold",b(w(e),n),i=void 0):"panstart"===t?(e.type="swipe",e.firstOrLastSwipeEvent="first",b(w(e),n),i=n):"panend"===t?(e.type="swipe",e.firstOrLastSwipeEvent="last",b(w(e),i),i=void 0):"pinchstart"===t?(e.type="pinch",e.firstOrLastPinchEvent="first",b(w(e),n),i=n):"pinchend"===t&&(e.type="pinch",e.firstOrLastPinchEvent="last",b(w(e),i),i=void 0)}return{init:function(){var t,n,o,s,l,u,c,p=[],g=TLT.getCoreConfig().modules.gestures.events,m="";if("function"==typeof Hammer){for("1"===(r=Hammer.VERSION.split(".")[0])&&(Hammer.defaults.behavior.userSelect="auto",Hammer.defaults.behavior.userDrag="auto",Hammer.defaults.behavior.contentZooming="auto",Hammer.defaults.behavior.touchCallout="default",Hammer.defaults.behavior.touchAction="auto"),e.getConfig()&&e.getConfig().options&&a.extend(!0,d,e.getConfig().options),t=0;t<g.length;t+=1)if("tap"===(c=g[t].name)&&(m+="tap "),"swipe"===c&&(m+="panstart panend "),"tapHold"===c&&(m+="press "),"pinch"===c&&(m+="pinchstart pinchend"),(s=g[t].target)===window||"window"===s)"1"===r&&f.push(new Hammer(window,d));else if(null!=l)for(l=s.split(", "),n=0;n<l.length;n+=1)for(p=TLT.getService("browser").queryAll(l[n],document),o=0;o<p.length;o+=1)-1===a.indexOf(h,p[o])&&h.push(p[o]);if("1"===r)for(t=0;t<h.length;t+=1)f.push(new Hammer(h[t],d));else if(0!==h.length)for(t=0;t<h.length;t+=1)(u=new Hammer.Manager(h[t])).add(new Hammer.Tap({event:"tap"})),u.add(new Hammer.Pan({direction:Hammer.DIRECTION_ALL})),u.add(new Hammer.Press),u.add(new Hammer.Pinch({enable:!0})),u.on(m,(function(e){(("panend"===e.type||"pinchend"===e.type)&&h.indexOf(i)>-1||h.indexOf(e.target)>-1)&&T(e)})),f.push(u);else void 0===window.style&&(window.style=[]),(u=new Hammer.Manager(window)).add(new Hammer.Tap({event:"tap"})),u.add(new Hammer.Pan({direction:Hammer.DIRECTION_ALL})),u.add(new Hammer.Press),u.add(new Hammer.Pinch({enable:!0})),u.on(m,(function(e){T(e)})),f.push(u)}},destroy:function(){var e;if(null!=f)for(e=0;e<f.length;e+=1)f[e].off("tap press pinchstart pinchend panstart panend"),f[e].enabled=!1;f=[],h=[]},onevent:function(e){var n;if("object"==typeof e&&e.type&&(e.gesture||"unload"===e.type)&&e.target&&("unload"===e.type||"mouse"!==e.gesture.pointerType||!d.preventMouse))switch(n=a.getValue(e,"target.id"),e.type){case"tap":!function(e,n){var r=d.doubleTapInterval;1===(l+=1)?(c=function(e,t){var n=e,r=t;return function(){y(n,r),l=0}}(e,n),t=setTimeout((function(){c(),c=function(){}}),r)):(clearTimeout(t),n.type="doubletap",y(e,n),c=function(){},l=0)}(n,e);break;case"swipe":case"pinch":case"drag":!function(e,n){var r=d.swipeAfterPinchInterval;!u||"swipe"!==n.type&&"drag"!==n.type||y(e,n),"pinch"===n.type&&(y(e,n),u=!1,t=setTimeout((function(){u=!0}),r))}(n,e);break;case"tapHold":case"hold":case"release":y(n,e);break;case"unload":clearTimeout(t),c()}}}})):console&&console.info("Could not load TL.Gestures."),window.TLT.utils.isiOS&&o&&function(){if("undefined"!=typeof document&&!("adoptedStyleSheets"in document)){var e="ShadyCSS"in window&&!ShadyCSS.nativeShadow,t=document.implementation.createHTMLDocument(""),n=new WeakMap,r="object"==typeof DOMException?Error:DOMException,i=Object.defineProperty,o=Array.prototype.forEach,a=/@import.+?;?$/gm,s=CSSStyleSheet.prototype;s.replace=function(){return Promise.reject(new r("Can't call replace on non-constructed CSSStyleSheets."))},s.replaceSync=function(){throw new r("Failed to execute 'replaceSync' on 'CSSStyleSheet': Can't call replaceSync on non-constructed CSSStyleSheets.")};var l=new WeakMap,u=new WeakMap,c=new WeakMap,d=new WeakMap,f=k.prototype;f.replace=function(e){try{return this.replaceSync(e),Promise.resolve(this)}catch(e){return Promise.reject(e)}},f.replaceSync=function(e){if(C(this),"string"==typeof e){var t=this;l.get(t).textContent=function(e){var t=e.replace(a,"");return t!==e&&console.warn("@import rules are not allowed here. See https://github.com/WICG/construct-stylesheets/issues/119#issuecomment-588352418"),t.trim()}(e),d.set(t,[]),u.get(t).forEach((function(e){e.isConnected()&&E(t,x(t,e))}))}},i(f,"cssRules",{configurable:!0,enumerable:!0,get:function(){return C(this),l.get(this).sheet.cssRules}}),i(f,"media",{configurable:!0,enumerable:!0,get:function(){return C(this),l.get(this).sheet.media}}),["addRule","deleteRule","insertRule","removeRule"].forEach((function(e){f[e]=function(){var t=this;C(t);var n=arguments;d.get(t).push({method:e,args:n}),u.get(t).forEach((function(r){if(r.isConnected()){var i=x(t,r).sheet;i[e].apply(i,n)}}));var r=l.get(t).sheet;return r[e].apply(r,n)}})),i(k,Symbol.hasInstance,{configurable:!0,value:S});var h={childList:!0,subtree:!0},p=new WeakMap,g=new WeakMap,m=new WeakMap,v=new WeakMap;if(P.prototype={isConnected:function(){var e=g.get(this);return e instanceof Document?"loading"!==e.readyState:function(e){return"isConnected"in e?e.isConnected:document.contains(e)}(e.host)},connect:function(){var e=M(this);v.get(this).observe(e,h),m.get(this).length>0&&D(this),I(e,(function(e){O(e).connect()}))},disconnect:function(){v.get(this).disconnect()},update:function(e){var t=this,n=g.get(t)===document?"Document":"ShadowRoot";if(!Array.isArray(e))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+n+": Iterator getter is not callable.");if(!e.every(S))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+n+": Failed to convert value to 'CSSStyleSheet'");if(e.some(_))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+n+": Can't adopt non-constructed stylesheets");t.sheets=e;var r,i,o=m.get(t),a=(r=e).filter((function(e,t){return r.indexOf(e)===t}));(i=a,o.filter((function(e){return-1===i.indexOf(e)}))).forEach((function(e){var n;(n=x(e,t)).parentNode.removeChild(n),function(e,t){c.get(e).delete(t),u.set(e,u.get(e).filter((function(e){return e!==t})))}(e,t)})),m.set(t,a),t.isConnected()&&a.length>0&&D(t)}},window.CSSStyleSheet=k,L(Document),"ShadowRoot"in window){L(ShadowRoot);var y=Element.prototype,w=y.attachShadow;y.attachShadow=function(e){var t=w.call(this,e);return"closed"===e.mode&&n.set(this,t),t}}var b=O(document);b.isConnected()?b.connect():document.addEventListener("DOMContentLoaded",b.connect.bind(b))}function T(e){return e.shadowRoot||n.get(e)}function S(e){return"object"==typeof e&&(f.isPrototypeOf(e)||s.isPrototypeOf(e))}function _(e){return"object"==typeof e&&s.isPrototypeOf(e)}function x(e,t){return c.get(e).get(t)}function E(e,t){requestAnimationFrame((function(){t.textContent=l.get(e).textContent,d.get(e).forEach((function(e){return t.sheet[e.method].apply(t.sheet,e.args)}))}))}function C(e){if(!l.has(e))throw new TypeError("Illegal invocation")}function k(){var e=document.createElement("style");t.body.appendChild(e),l.set(this,e),u.set(this,[]),c.set(this,new WeakMap),d.set(this,[])}function O(e){var t=p.get(e);return t||(t=new P(e),p.set(e,t)),t}function L(e){i(e.prototype,"adoptedStyleSheets",{configurable:!0,enumerable:!0,get:function(){return O(this).sheets},set:function(e){O(this).update(e)}})}function I(e,t){for(var n=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT,(function(e){return T(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}),null,!1),r=void 0;r=n.nextNode();)t(T(r))}function M(e){var t=g.get(e);return t instanceof Document?t.body:t}function D(e){var t=document.createDocumentFragment(),n=m.get(e),r=v.get(e),i=M(e);r.disconnect(),n.forEach((function(n){t.appendChild(x(n,e)||function(e,t){var n=document.createElement("style");return c.get(e).set(t,n),u.get(e).push(t),n}(n,e))})),i.insertBefore(t,null),r.observe(i,h),n.forEach((function(t){E(t,x(t,e))}))}function P(t){var n=this;n.sheets=[],g.set(n,t),m.set(n,[]),v.set(n,new MutationObserver((function(t,r){document?t.forEach((function(t){e||o.call(t.addedNodes,(function(e){e instanceof Element&&I(e,(function(e){O(e).connect()}))})),o.call(t.removedNodes,(function(t){t instanceof Element&&(function(e,t){return t instanceof HTMLStyleElement&&m.get(e).some((function(t){return x(t,e)}))}(n,t)&&D(n),e||I(t,(function(e){O(e).disconnect()})))}))})):r.disconnect()})))}}(),!0===a&&TLT.addModule("ajaxListener",(function(e){var t,n,r,i,o={},a=!1,s=e.utils;function l(e){var t,n,r=!1,i=o.urlBlocklist;if(!e||!i)return r;for(t=0,n=i.length;!r&&t<n;t+=1)r=i[t].cRegex.test(e);return r}function u(e,t,n){var r,i,a,s={},l=o.filters;if(!l||!l.length)return s;for(r=0,i=l.length,a=!1;!a&&r<i;r+=1)a=!0,(s=l[r]).url&&(a=s.url.cRegex.test(e)),a&&s.method&&(a=s.method.cRegex.test(t)),a&&s.status&&(a=s.status.cRegex.test(n));return a||(s=null),s}function c(t,n){var r,i,o={type:5,customEvent:{name:"ajaxListener",data:{interfaceType:"XHR"}}},a=o.customEvent.data;if(t){if((r=document.createElement("a")).href=t.tListener.url,a.originalURL=r.host+("/"===r.pathname[0]?"":"/")+r.pathname,a.requestURL=e.normalizeUrl?e.normalizeUrl(a.originalURL,3):a.originalURL,a.description="Full Ajax Monitor "+a.requestURL,a.method=t.tListener.method,a.status=t.status,a.statusText=t.statusText||"",a.async=t.tListener.async,a.ajaxResponseTime=t.tListener.end-t.tListener.start,a.locationHref=e.normalizeUrl(document.location.href,3),a.queryParams=h(t.tListener.url),n.requestHeaders&&(a.requestHeaders=t.tListener.reqHeaders),n.requestData&&"string"==typeof t.tListener.reqData&&!t.tListener.isSystemXHR)try{a.request=JSON.parse(t.tListener.reqData)}catch(e){a.request=t.tListener.reqData}if(n.responseHeaders&&(a.responseHeaders=function(e){var t,n,r,i,o,a={};for(t=0,n=(e=e.split(/[\r\n]+/)).length;t<n;t+=1)i=(r=e[t].split(": "))[0],o=s.rtrim(r[1]),i&&i.length&&(a[i]=o);return a}(t.getAllResponseHeaders())),n.responseData){if(void 0===t.responseType?i=t.responseText:""===t.responseType||"text"===t.responseType?i=t.response:"json"===t.responseType?a.response=t.response:a.response=typeof t.response,i)try{a.response=JSON.parse(i)}catch(e){a.response=i}t.responseType&&(a.responseType=t.responseType)}e.post(o)}}function d(e){for(var t,n={},r=e.entries(),i=r.next();!i.done;)n[(t=i.value)[0]]=t[1],i=r.next();return n}function f(e){return d(e)}function h(e){var t=e.indexOf("?");if(t<0)return{};var n=e.substring(t+1),r={},i=new URLSearchParams(n).entries();for(var o in i)r[i[o][0]]=i[o][1];return r}function p(t,n,r){var i,o,a={type:5,customEvent:{name:"ajaxListener",data:{interfaceType:"fetch"}}},s=a.customEvent.data;if((i=document.createElement("a")).href=t.url,s.originalURL=i.host+("/"===i.pathname[0]?"":"/")+i.pathname,s.requestURL=e.normalizeUrl?e.normalizeUrl(s.originalURL,3):s.originalURL,s.description="Full Ajax Monitor "+s.requestURL,s.method=t.initData.method,s.status=n.status,s.statusText=n.statusText||"",s.async=!0,s.ajaxResponseTime=t.end-t.start,s.responseType=n.type,s.locationHref=e.normalizeUrl(document.location.href,3),s.queryParams=h(t.url),r.requestHeaders&&(t.initData.headers&&-1!==t.initData.headers.toString().indexOf("Headers")?s.requestHeaders=f(t.initData.headers):s.requestHeaders=t.initData.headers||""),r.requestData&&void 0!==t.body&&!t.isSystemXHR&&(s.request=function(e){var t=e;if(!e)return t;if("object"==typeof e&&-1!==e.toString().indexOf("FormData"))t=d(e);else if("string"==typeof e)try{t=JSON.parse(e)}catch(n){t=e}return t}(t.body)),r.responseHeaders&&(s.responseHeaders=f(n.headers)),r.responseData){if((o=n.headers.get("content-type"))&&-1!==o.indexOf("application/json"))return void n.clone().json().then((function(t){s.response=t,e.post(a)}));if(o&&(-1!==o.indexOf("text")||-1!==o.indexOf("xml")))return void n.clone().text().then((function(t){s.response=t,e.post(a)}));s.response="Not logging unsupported response content: "+o}e.post(a)}function g(e){var t;e&&e.target&&4===(t=e.target).readyState&&(t.removeEventListener("readystatechange",g),t.tListener.end=Date.now(),function(e){var t,n={requestHeaders:!1,requestData:!1,responseHeaders:!1,responseData:!1};(t=u(e.tListener.url,e.tListener.method,e.status.toString()))&&(t.log&&(n=t.log),c(e,n))}(t))}function m(e){var t,n;for(n=TLT.getServiceConfig("queue").queues||[],t=0;t<n.length;t+=1)if(n[t].endpoint&&-1!==e.indexOf(n[t].endpoint))return!0;return!1}function v(e,n,r){var i=this;return a&&!l(n)&&(i.addEventListener("readystatechange",g),i.tListener={method:e,url:n,async:void 0===r||!!r,reqHeaders:{},isSystemXHR:m(n)},function(e){var t=e.setRequestHeader;e.setRequestHeader=function(e,n){var r=this.tListener;return e&&e.length&&(r.reqHeaders[e]=n),t.apply(this,arguments)}}(i),function(e){var t=e.send;e.send=function(e){var n=this.tListener;return e&&(n.reqData=e),n.start=Date.now(),t.apply(this,arguments)}}(i)),t.apply(i,arguments)}function y(){n=window.fetch,window.fetch=function(e,t){var r={};return e instanceof Request?(r.initData=e,r.url=e.url,r.initData.clone().text().then((function(e){e.length>0&&(r.body=e)}))):(r.initData=t||{},r.url=e.toString(),t&&t.body&&(r.body=t.body)),r.isSystemXHR=m(r.url),r.start=Date.now(),n.apply(this,arguments).then((function(e){return r.end=Date.now(),function(e,t){var n,r=e.url,i=e.initData.method,o=t.status.toString(),a={requestHeaders:!1,requestData:!1,responseHeaders:!1,responseData:!1};l(r)||(n=u(r,i,o))&&(n.log&&(a=n.log),p(e,t,a))}(r,e),e}))}}function w(e){e&&e.regex&&(e.cRegex=new RegExp(e.regex,e.flags))}return{init:function(){!function(e){var t,n,o,a=[],l=s.getValue(e,"skipSafetyCheck",!1);for(e&&e.filters&&(a=e.filters),t=0,n=a.length;t<n;t+=1)o=a[t],s.forEach([o.url,o.method,o.status],w);e&&e.urlBlocklist&&s.forEach(e.urlBlocklist,w),!(r=s.getValue(e,"xhrEnabled",!0)&&window.XMLHttpRequest)||l||-1!==XMLHttpRequest.toString().indexOf("[native code]")&&-1!==XMLHttpRequest.toString().indexOf("XMLHttpRequest")||(r=!1),(i=s.getValue(e,"fetchEnabled",!0)&&window.fetch)&&!l&&-1===window.fetch.toString().indexOf("[native code]")&&(i=!1)}(o=e.getConfig())},destroy:function(){a=!1},onevent:function(e){switch(e.type){case"load":r&&XMLHttpRequest&&(t=XMLHttpRequest.prototype.open,XMLHttpRequest.prototype.open=v),i&&y(),a=!0;break;case"unload":a=!1}},version:"1.3.0"}})),TLT.addModule("flushQueue",(function(){return{onevent:function(e){if(e&&"visibilitychange"===e.type)TLT.flushAll()}}})),void 0!==(f=n?n&&0===Object.keys(n).length&&Object.getPrototypeOf(n)===Object.prototype?window.TLT.getDefaultConfig():n:window.TLT.getDefaultConfig())&&void 0!==f.services&&void 0!==f.services.queue&&void 0!==f.services.queue.queues[0]?f.services.queue.queues[0].endpoint=t:console&&console.warn("Not able to update defaultConfig.services.queue.queues[0].endpoint"),void 0!==f&&void 0!==f.modules&&void 0!==f.modules.TLCookie?f.modules.TLCookie.tlAppKey=e:console&&console.warn("Not able to update defaultConfig.modules.TLCookie.tlAppKey"),window.TLT.utils.isLegacyIE?(console&&(console.warn("This version of the UIC does not support Internet Explorer 9."),console.info("Applications requiring Internet Explorer 8 (or below) support should use UIC 5.2.0")),void(window.TLT.terminationReason="Unsupported browser")):(window.TLT.init(f,(function(e){console&&(console.info("TLT.initLib has "+e+" with the following settings below:"),console.info(f))})),!0===s&&function(){var e,t=window.TLT.destroy;function n(){"visible"===document.visibilityState&&document.hasFocus()&&(e&&window.TLT&&!TLT.isInitialized()&&(console.log("Restarting TLT"),TLT.init(e),e=null),window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n))}window.TLT.destroy=function(r,i){"inactivity"===i&&(e=TLT.getConfig(),window.addEventListener("visibilitychange",n),window.addEventListener("focus",n)),t.call(window.TLT,r,i)}}(),f)},init:function(e,t){var n;if((d=this.utils).isLegacyIE)d.clog("This version of UIC does not support Internet Explorer 8 and below. For older browsers, use UIC 5.2.0 instead.");else{if(A=t,!R)throw"init must only be called once!";if(!e&&!this.config)throw"missing configuration.";e=e||this.config,this.config=e,R=!1,m="P."+d.getRandomString(28),v=j(),n=function(r){"load"!==(r=r||window.event||{}).type&&"loading"===document.readyState||(document.removeEventListener?(document.removeEventListener("DOMContentLoaded",n,!1),window.removeEventListener("load",n,!1)):(document.detachEvent("onreadystatechange",n),window.detachEvent("onload",n)),P(e,t))},"complete"===document.readyState||"interactive"===document.readyState&&!d.isIE?setTimeout(n):document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):(document.attachEvent("onreadystatechange",n),window.attachEvent("onload",n))}},isInitialized:function(){return _},getState:function(){return x},destroy:function(e,t){var r="",i="",o=null,a=null,s=null,l=!1;if(R)return!1;if(this.stopAll(),!e){for(r in I)I.hasOwnProperty(r)&&(i=r.split("|")[0],o=I[r].target,void 0!==(l=I[r].delegateTarget||void 0)&&n.unsubscribe(i,o,this._publishEvent,l));c&&(n.unsubscribe("mousemove",document,c),c=null)}for(a in S)S.hasOwnProperty(a)&&((s=S[a].instance)&&"function"==typeof s.destroy&&s.destroy(),S[a].instance=null);E.clearCache(),I={},L={},D=[],_=!1,R=!0,x="destroyed",TLT.terminationReason=t||x;try{sessionStorage.setItem("tl.TR",TLT.terminationReason),sessionStorage.setItem("tl.PU",this.normalizeUrl("",location.href))}catch(e){}if("function"==typeof A)try{A("destroyed")}catch(e){}u||(window.addEventListener("pageshow",p),u=!0)},_updateModules:function(e){var t=null,n=null,r=!0;if(l&&l.modules)try{for(n in l.modules)if(l.modules.hasOwnProperty(n)&&(t=l.modules[n],T.hasOwnProperty(n))){if(!1===t.enabled){this.stop(n);continue}this.start(n),t.events&&this._registerModuleEvents(n,t.events,e)}this._registerModuleEvents.clearCache()}catch(e){throw X.destroy(!1,"_updateModules: "+e.message),r=!1,e}else r=!1;return r},rebind:function(e){X._updateModules(e)},getSessionData:function(){if(!X.isInitialized())throw"getSessionData API was called before UIC is initialized.";var e,t,n,r,i=null;return l&&l.sessionDataEnabled?((t=(e=l.sessionData||{}).sessionQueryName)?n=d.getQueryStringValue(t,e.sessionQueryDelim):(t=e.sessionCookieName)?n=d.getCookieValue(t):(t=(r=TLT.getTLTSessionCookieInfo()).tltCookieName,n=r.tltCookieValue),t&&n&&((i=i||{}).tltSCN=t,i.tltSCV=n,i.tltSCVNeedsHashing=!!e.sessionValueNeedsHashing),i):(d.clog("TLT.getSessionData() API called when "+(l?"session data sharing is disabled.":"TLT is not initialized.")),null)},logGeolocation:function(e){var t;if(!X.isInitialized())throw"logGeolocation API was called before UIC is initialized.";e&&e.coords&&(t={type:13,geolocation:{lat:d.getValue(e,"coords.latitude",0),long:d.getValue(e,"coords.longitude",0),accuracy:Math.ceil(d.getValue(e,"coords.accuracy",0))}},o.post("",t))},logCustomEvent:function(e,t){if(!X.isInitialized())throw"logCustomEvent API was called before UIC is initialized.";var n;e&&"string"==typeof e||(e="CUSTOM"),n={type:5,customEvent:{name:e,data:t=t||{}}},o.post("",n)},logExceptionEvent:function(e,t,n){if(!X.isInitialized())throw"logExceptionEvent API was called before UIC is initialized.";var r;e&&"string"==typeof e&&(t&&(t=X.normalizeUrl("",t,6)),r={type:6,exception:{description:e,url:t=t||"",line:n=n||-1}},o.post("",r))},logFormCompletion:function(e,t){if(!X.isInitialized())throw"logFormCompletion API was called before UIC is initialized.";var n={type:15,formCompletion:{submitted:!!e,valid:"boolean"==typeof t?t:null}};o.post("",n)},logDataLayer:function(e){var t;if(!X.isInitialized())throw"logDataLayer API was called before UIC is initialized.";if(!s)throw"logDataLayer API was called but Data Layer module not found.";e&&"object"!=typeof e||(t={type:"logDataLayer",data:e},s.onevent(t))},logScreenviewLoad:function(e,t,n){if(!X.isInitialized())throw"logScreenviewLoad API was called before UIC is initialized.";g("LOAD",e,t)},logScreenviewUnload:function(e){if(!X.isInitialized())throw"logScreenviewUnload API was called before UIC is initialized.";g("UNLOAD",e)},logDOMCapture:function(e,t){var n,r,a,s=null;if(!this.isInitialized())throw"logDOMCapture API was called before UIC is initialized.";return d.isLegacyIE||i&&(e=e||window.document,r=this.getServiceConfig("domCapture"),t=d.mixin({},r.options,t),(n=i.captureDOM(e,t))&&(s=t.dcid||"dcid-"+d.getSerialNumber()+"."+(new Date).getTime(),n.dcid=s,n.eventOn=!!t.eventOn,a={type:12,domCapture:n},t.timeoutExpired&&(a.domCapture.timeout=!0),o.post("",a),!1!==t.qffd&&!N&&a.domCapture.fullDOM&&(o.flush(),N=!0))),s},performDOMCapture:function(e,t,n){return this.logDOMCapture(t,n)},performFormCompletion:function(e,t,n){return this.logFormCompletion(t,n)},_bridgeCallback:function(e){var t=M[e];return t&&t.enabled?t:null},logScreenCapture:function(){if(!X.isInitialized())throw"logScreenCapture API was called before UIC is initialized.";var e=X._bridgeCallback("screenCapture");null!==e&&e.cbFunction()},enableTealeafFramework:function(){if(!X.isInitialized())throw"enableTealeafFramework API was called before UIC is initialized.";var e=X._bridgeCallback("enableTealeafFramework");null!==e&&e.cbFunction()},disableTealeafFramework:function(){if(!X.isInitialized())throw"disableTealeafFramework API was called before UIC is initialized.";var e=X._bridgeCallback("disableTealeafFramework");null!==e&&e.cbFunction()},startNewTLFSession:function(){if(!X.isInitialized())throw"startNewTLFSession API was called before UIC is initialized.";var e=X._bridgeCallback("startNewTLFSession");null!==e&&e.cbFunction()},currentSessionId:function(){if(!X.isInitialized())throw"currentSessionId API was called before UIC is initialized.";var e,t=X._bridgeCallback("currentSessionId");return null!==t&&(e=t.cbFunction()),e},defaultValueForConfigurableItem:function(e){if(!X.isInitialized())throw"defaultValueForConfigurableItem API was called before UIC is initialized.";var t,n=X._bridgeCallback("defaultValueForConfigurableItem");return null!==n&&(t=n.cbFunction(e)),t},valueForConfigurableItem:function(e){if(!X.isInitialized())throw"valueForConfigurableItem API was called before UIC is initialized.";var t,n=X._bridgeCallback("valueForConfigurableItem");return null!==n&&(t=n.cbFunction(e)),t},setConfigurableItem:function(e,t){if(!X.isInitialized())throw"setConfigurableItem API was called before UIC is initialized.";var n=!1,r=X._bridgeCallback("setConfigurableItem");return null!==r&&(n=r.cbFunction(e,t)),n},addAdditionalHttpHeader:function(e,t){if(!X.isInitialized())throw"addAdditionalHttpHeader API was called before UIC is initialized.";var n=!1,r=X._bridgeCallback("addAdditionalHttpHeader");return null!==r&&(n=r.cbFunction(e,t)),n},logCustomEventBridge:function(e,t,n){if(!X.isInitialized())throw"logCustomEventBridge API was called before UIC is initialized.";var r=!1,i=X._bridgeCallback("logCustomEventBridge");return null!==i&&(r=i.cbFunction(e,t,n)),r},registerBridgeCallbacks:function(e){var t,n,r,i,o,a,s,l=null,u=TLT.utils;if(!e)return!1;if(0===e.length)return u.clog("Resetting previously registered callbacks."),M={},!1;try{for(t=0,r=e.length;t<r;t+=1)if("object"==typeof(l=e[t])&&l.cbType&&l.cbFunction)if(i={enabled:l.enabled,cbFunction:l.cbFunction,cbOrder:l.order||0},u.isUndefOrNull(M[l.cbType]))i.enabled&&(M[l.cbType]=i,u.clog("Registered callback: ",l.cbType,i));else{for(u.isArray(M[l.cbType])||(M[l.cbType]=[M[l.cbType]]),o=M[l.cbType],n=0,s=!1,a=o.length;n<a;n+=1)if(o[n].cbOrder===i.cbOrder&&o[n].cbFunction===i.cbFunction)s=!0,i.enabled||(o.splice(n,1),o.length||delete M[l.cbType],u.clog("Removed callback: ",l.cbType,i));else if(o[n].cbOrder>i.cbOrder)break;s||i.enabled&&(o.splice(n,0,i),u.clog("Registered callback: ",l.cbType,i))}}catch(e){return!1}return!0},registerMutationCallback:function(e,t){var n;return!(!e||"function"!=typeof e)&&(t?-1===(n=D.indexOf(e))&&(D.push(e),d.clog("Registered mutation callback: ",e)):-1!==(n=D.indexOf(e))&&(D.splice(n,1),d.clog("Unregistered mutation callback: ",e)),!0)},invokeMutationCallbacks:function(e){var t,n,r,i,o=[],a=[];if(0!==D.length){for(i=Map?new Map:new d.WeakMap,t=0;t<e.length;t++)(r=e[t].target)&&(n=d.getDocument(r),void 0===i.get(n)&&(n.host?a.push(n):o.push(n),i.set(n,!0)));for(i.clear(),t=0;t<D.length;t++)(0,D[t])(e,o,a)}},redirectQueue:function(e){var t,n,r,i,o,s,l;if(!e||!e.length)return e;if(!(i=M.messageRedirect))return e;for(n=0,s=(o=d.isArray(i)?i:[i]).length;n<s;n+=1)if((i=o[n])&&i.enabled)for(t=0,r=e.length;t<r;t+=1)(l=i.cbFunction(a.serialize(e[t]),e[t]))&&"object"==typeof l?e[t]=l:(e.splice(t,1),t-=1,r=e.length);return e},_hasSameOrigin:function(e){var t=!1;try{return(t=e.document.location.host===document.location.host&&e.document.location.protocol===document.location.protocol)||(t=e.document.domain===document.domain),t}catch(e){}return!1},provideRequestHeaders:function(){var e=null,t=M.addRequestHeaders;return t&&t.enabled&&(e=t.cbFunction()),e},_registerModuleEvents:function(){var e,r=0,o=function(e,t,n){return"window"===e?t:"document"===e?n:e};function a(e){var t=d.getIFrameWindow(e);return null!==t&&X._hasSameOrigin(t)&&null!==t.document&&"complete"===t.document.readyState&&""!==t.document.body.innerHTML}function s(s,l,u){if(u=u||X._getLocalTop().document,e=e||new d.WeakMap,function(r,i,a){var s,l,u,c=d.getDocument(a),f=X._getLocalTop(),h=d.isIFrameDescendant(a);if(a=a||c,O.normalizeModuleEvents(r,i,f,c),h&&"string"==typeof(s=t.ElementData.prototype.examineID(a).id))for(l in s=s.slice(0,s.length-1),I)if(I.hasOwnProperty(l))for(u=0;u<I[l].length;u+=1)if(r===I[l][u]&&-1!==l.indexOf(s)){delete I[l];break}d.forEach(i,(function(i){var s=o(i.target,f,c)||c,l="";!0!==i.recurseFrames&&h||("string"==typeof s?d.forEach(n.queryAll(s,a),(function(o){var a=e.get(o);a||(a=t.ElementData.prototype.examineID(o),e.set(o,a)),l=i.name+"|"+a.id+a.idType,-1===d.indexOf(I[l],r)&&(I[l]=I[l]||[],I[l].push(r),I[l].target=o,n.subscribe(i.name,o,X._publishEvent))})):(l=X._buildToken4bubbleTarget(i.name,s,void 0===i.target),I.hasOwnProperty(l)?-1===d.indexOf(I[l],r)&&I[l].push(r):(I[l]=[r],n.subscribe(i.name,s,X._publishEvent))),""!==l&&"string"!=typeof s&&(I[l].target=s))}))}(s,l,u),"performance"!==s){var c,f,h=null,p=null,g=n.queryAll("iframe, frame",u);for(c=0,f=g.length;c<f;c+=1)h=g[c],E(h)||(a(h)?(p=d.getIFrameWindow(h),X._registerModuleEvents(s,l,p.document),i.observeWindow(p)):(r+=1,function(e,t,n){var o=null,s=function(){var o=null;E(n)||(o=d.getIFrameWindow(n),X._hasSameOrigin(o)&&(X._registerModuleEvents(e,t,o.document),i.observeWindow(o))),(r-=1)||X._publishEvent({type:"loadWithFrames",custom:!0})};d.addEventListener(n,"load",(function(){s()})),d.isLegacyIE&&a(n)&&(o=d.getIFrameWindow(n),d.addEventListener(o.document,"readystatechange",(function(){s()})))}(s,l,h)))}}return s.clearCache=function(){e&&(e.clear(),e=null)},s}(),_buildToken4currentTarget:function(e){var n=e.nativeEvent?e.nativeEvent.currentTarget:null,r=n?t.ElementData.prototype.examineID(n):{id:e.target?e.target.id:null,idType:e.target?e.target.idType:-1};return e.type+"|"+r.id+r.idType},_buildToken4delegateTarget:function(e,t,n){return e+"|"+t+"|"+n},_buildToken4bubbleTarget:function(e,r,i,o){var a,s,l,u=X._getLocalTop(),c=d.getDocument(r),f=null,h=e;return c&&(a=c.defaultView||c.parentWindow),r===window||r===window.window?h+="|null-2|window":i&&a&&X._hasSameOrigin(a.parent)&&void 0!==c&&u.document!==c?(s=c,l=null,X._hasSameOrigin(a.parent)&&d.forEach(n.queryAll("iframe, frame",a.parent.document),(function(e){var t=null;E(e)||(t=d.getIFrameWindow(e),X._hasSameOrigin(t)&&t.document===s&&(l=e))})),(f=l)&&(h+="|"+t.ElementData.prototype.examineID(f).xPath+"-2")):h+="|null-2|document",h},_reinitConfig:function(){X._updateModules()},_publishEvent:function(e){var t,r,i,a,s=null,u=null,c=e.delegateTarget&&e.data?e.data:X._buildToken4currentTarget(e),f=null,h=null,p=!1,g=!1,m=e.delegateTarget||null;if(L=e,e.type.match(/^(click|change|blur|mouse|touch)/)&&(z(),o.resetFlushTimer()),d.getValue(l,"screenviewAutoDetect",!0)&&U(),"load"!==e.type&&"pageshow"!==e.type||e.nativeEvent.customLoad)if("click"===e.type&&(C=e.target.element),"beforeunload"===e.type&&(p=!1,(a="a"===d.getTagName(C)?C:document.activeElement)&&(H(a)?p=!0:d.forEach(l.ieExcludedLinks,(function(e){var t,r,i=n.queryAll(e);for(t=0,r=i?i.length:0;t<r;t+=1)if(i[t]&&i[t]===C){p=!0;break}}))),p))L={};else if(O.isUnload(e)&&(x="unloading"),"change"!==e.type||!d.isLegacyIE||"w3c"!==X.getFlavor()||"checkbox"!==e.target.element.type&&"radio"!==e.target.element.type){if("propertychange"===e.type){if("checked"!==e.nativeEvent.propertyName||!("checkbox"===e.target.element.type||"radio"===e.target.element.type&&e.target.element.checked))return void(L={});e.type="change",e.target.type="INPUT"}if(e.target&&F(e.target.element))L={};else{if(I.hasOwnProperty(c)||(e.hasOwnProperty("nativeEvent")&&(i=e.nativeEvent.currentTarget||e.nativeEvent.target),c=X._buildToken4bubbleTarget(e.type,i,!0,m)),I.hasOwnProperty(c))for(t=0,r=(f=I[c]).length;t<r;t+=1)if(s=f[t],u=X.getModule(s),h=d.mixin({},e),u&&X.isStarted(s)&&"function"==typeof u.onevent&&(g=O.canPublish(s,h)))try{u.onevent(h)}catch(e){d.clog("ERROR in "+s+" module.",e)}h&&"unload"===h.type&&g&&X.destroy(!1,h.type),L={}}}else L={};else L={}},_getLocalTop:function(){return window.window},addModule:function(e,t){if(T.hasOwnProperty(e))throw new Error("Attempting to add duplicate module '"+e+"' on TLT.");T[e]={creator:t,instance:null,context:null,messages:[]},this.isInitialized()&&this.start(e)},getModule:function(e){return T[e]&&T[e].instance?T[e].instance:null},removeModule:function(e){this.stop(e),delete T[e]},isStarted:function(e){return T.hasOwnProperty(e)&&null!==T[e].instance},start:function(e){var t=T[e],n=null;if(!T.hasOwnProperty(e))throw new Error("Attempting to start nonexistent module '"+e+"' on TLT.");t&&null===t.instance&&(t.context=new TLT.ModuleContext(e,this),"function"==typeof(n=t.instance=t.creator(t.context)).init&&n.init())},startAll:function(){var e=null;for(e in T)T.hasOwnProperty(e)&&this.start(e)},stop:function(e){var t=T[e],n=null;t&&null!==t.instance&&("function"==typeof(n=t.instance).destroy&&n.destroy(),t.instance=t.context=null)},stopAll:function(){var e=null;for(e in T)T.hasOwnProperty(e)&&this.stop(e)},addService:function(e,t){if(S.hasOwnProperty(e))throw new Error("Attempting to add duplicate service '"+e+"' on TLT.");S[e]={creator:t,instance:null}},getService:function(e){if(S.hasOwnProperty(e)){if(!S[e].instance){try{S[e].instance=S[e].creator(this),"function"==typeof S[e].instance.init&&S[e].instance.init()}catch(t){throw d.clog("UIC terminated due to error when instanciating the "+e+" service."),t}"function"!=typeof S[e].instance.getServiceName&&(S[e].instance.getServiceName=function(){return e})}return S[e].instance}return null},removeService:function(e){delete S[e]},broadcast:function(e){var t,n;if(e&&"object"==typeof e){if(!e.hasOwnProperty("type"))throw new Error("Message is missing property 'type'.");for(t in T)T.hasOwnProperty(t)&&(n=T[t],d.indexOf(n.messages,e.type)>-1&&"function"==typeof n.instance.onmessage&&n.instance.onmessage(e))}},listen:function(e,t){var n=null;this.isStarted(e)&&(n=T[e],-1===d.indexOf(n.messages,t)&&n.messages.push(t))},_getServices:function(){return S},fail:function(e,t,n){e="UIC FAILED. "+e;try{X.destroy(!!n,e)}catch(t){d.clog(e)}throw new X.UICError(e,t)},UICError:function(){function e(e,t){this.message=e,this.code=t}return e.prototype=new Error,e.prototype.name="UICError",e.prototype.constructor=e,e}(),getFlavor:function(){return"w3c"},isCrossOrigin:function(e,t){var n,r,i=!1;if(t=t||window.location.origin,!e||!t)return i;if(r=e.match(/^\/\//),e.match(/^\//)&&!r)i=!1;else if(r||-1!==e.indexOf("://")){r&&-1!==(n=t.indexOf("://"))&&(t=t.substring(n+1));const a=100;var o=t.length;o>a&&(o=a),i=e.length<o||(t!==e.substring(0,t.length)||e.length>t.length&&"/"!==e.charAt(t.length))}else i=!1;return i}};return z=function(){var e=null,t=d.getValue(l,"inactivityTimeout",6e5);function n(){d.clog("UIC self-terminated due to inactivity timeout."),X.destroy(!1,"inactivity")}t?(z=function(){e&&(clearTimeout(e),e=null),e=setTimeout(n,t)})():z=function(){}},P=function(u,f){var p,g,v,y,w,b,T,S,E,C,k,O,L=null;if(_)d.clog("TLT.init() called more than once. Ignoring.");else if(!TLT||!TLT.replay){if((r=X.getService("config")).updateConfig(u),l=r.getCoreConfig(),E=V(l.blockedUserAgents,navigator.userAgent))return d.clog("UIC not initializing because User-Agent matches blockedUserAgents list: ",E),void(TLT.terminationReason="blockedUA: "+E);if(e=X.getService("ajax"),d.browserBaseService=t=X.getService("browserBase"),d.browserService=n=X.getService("browser"),i=X.getService("domCapture"),o=X.getService("queue"),a=X.getService("serializer"),y=(p=r.getModuleConfig("TLCookie")||{}).sessionizationCookieName||"TLTSID","DND"===(w=d.getCookieValue("TLTSID")))return"destroyed"!==x&&X.destroy(!1,"killswitch"),void d.clog("Aborting initialization because the killswitch is active.");if((w=d.getCookieValue(y)||function(e){var t,n,r,i;if(localStorage&&e)return(r=localStorage.getItem(e))&&(n=r.split("|"),t=parseInt(n[0],10),Date.now()>t?localStorage.removeItem(e):i=n[1]),i}(y))||(y=p.wcxCookieName||"WCXSID",w=d.getCookieValue(y)),X._updateModules()){s=X.getModule("dataLayer"),r.subscribe&&r.subscribe("configupdated",X._reinitConfig),_=!0,x="loaded";try{"function"==typeof TLFExtensionNotify&&TLFExtensionNotify("Initialized")}catch(e){d.clog("Call to TLFExtensionNotify failed.",e)}for(v=(g=X.getServiceConfig("queue")).queues||[],(d.isLegacyIE||d.isIE9)&&(L=d.getOriginAndPath().origin),S=0;S<v.length;S+=1){if(L&&X.isCrossOrigin(v[S].endpoint,L))return d.clog("UIC terminated because IE 9 and below doesn't support cross-origin XHR"),X.setAutoFlush(!1),void X.destroy(!1,"CORS not supported");!w&&p.tlAppKey&&(b=v[S].endpoint,(T=v[S].killswitchURL||(b.match("collectorPost")?b.replace("collectorPost","switch/"+p.tlAppKey):null))&&(d.clog("Checking killswitch: "+T),e.sendRequest({type:"GET",url:T,async:!0,timeout:5e3,oncomplete:function(e){d.clog("Killswitch request result",e),"0"!==e.responseText&&0!==e.data||(d.clog("UIC terminated because the killswitch is enabled."),X.setAutoFlush(!1),d.setCookie("TLTSID","DND"),X.destroy(!1,"killswitch"))}}))),v[S].checkEndpoint&&!g.asyncReqOnUnload&&(g.asyncReqOnUnload=!0,d.clog("Pending endpoint check validation..."),e.sendRequest({oncomplete:function(e){e.success&&(g.asyncReqOnUnload=!1,d.clog("Endpoint check passed: ",e),d.clog("UIC will use sync on unload."))},timeout:v[S].endpointCheckTimeout||3e3,url:v[S].endpoint,headers:{"X-PageId":m,"X-Tealeaf-SaaS-AppKey":p.tlAppKey,"X-Tealeaf-EndpointCheck":!0},async:!0,error:function(e){e.success||(d.clog("Endpoint check failed: ",e),d.clog("UIC will use async on unload."),g.endpointCheckFailed=!0)}}))}if(O=function(e){var r,i;r={type:"load",target:window.window,srcElement:window.window,currentTarget:window.window,bubbles:!0,cancelBubble:!1,cancelable:!0,timeStamp:+new Date,customLoad:!0},i=new t.WebEvent(r),X._publishEvent(i),e&&n.unsubscribe(C,k,O)},l.screenviewLoadEvent?(C=l.screenviewLoadEvent.name,k=l.screenviewLoadEvent.target||window,n.subscribe(C,k,O)):O(),X.isInitialized()&&(x="initialized",z(),c=function(e){"mousemove"===e.type&&(h=!0),n.unsubscribe("mousemove",document,c),c=null},n.subscribe("mousemove",document,c,{once:!0})),"function"==typeof A)try{A(x)}catch(e){d.clog("Error in callback.",e)}}else"destroyed"!==x&&X.destroy(!1,"modules init")}},function(){var e,t,n=null;for(n in k)if(k.hasOwnProperty(n))for(e=0,t=k[n].length;e<t;e+=1)!function(e,t){X[t]=function(){var n=this.getService(e);if(n)return n[t].apply(n,arguments)}}(n,k[n][e])}(),X}(),function(){"use strict";var e,t,n,r=window.navigator.userAgent.toLowerCase(),i=-1!==r.indexOf("msie")||-1!==r.indexOf("trident"),o=(n=!!window.performance,i&&(!n||document.documentMode<9)),a=i&&9===document.documentMode,s=-1!==r.indexOf("android"),l=/(ipad|iphone|ipod)/.test(r),u=-1!==r.indexOf("opera mini"),c=-1===r.indexOf("chrome")&&-1!==r.indexOf("safari"),d=1,f={"a:":"link","button:button":"button","button:submit":"button","input:button":"button","input:checkbox":"checkBox","input:color":"colorPicker","input:date":"datePicker","input:datetime":"datetimePicker","input:datetime-local":"datetime-local","input:email":"emailInput","input:file":"fileInput","input:image":"button","input:month":"month","input:number":"numberPicker","input:password":"textBox","input:radio":"radioButton","input:range":"slider","input:reset":"button","input:search":"searchBox","input:submit":"button","input:tel":"tel","input:text":"textBox","input:time":"timePicker","input:url":"urlBox","input:week":"week","select:":"selectList","select:select-one":"selectList","textarea:":"textBox","textarea:textarea":"textBox"},h={isIE:i,isLegacyIE:o,isIE9:a,isAndroid:s,isLandscapeZeroDegrees:!1,isiOS:l,isOperaMini:u,isSafari:c,isUndefOrNull:function(e){return null==e},isArray:function(e){return!(!e||"[object Array]"!==Object.prototype.toString.call(e))},getSerialNumber:function(){var e;return e=d,d+=1,e},getRandomString:function(e,t){var n,r,i="";if(!e)return i;for("string"!=typeof t&&(t="ABCDEFGHJKLMNPQRSTUVWXYZ23456789"),n=0,r=t.length;n<e;n+=1)i+=t.charAt(Math.floor(Math.random()*r));return i},getValue:function(e,t,n){var r,i,o;if(n=void 0===n?null:n,!e||"object"!=typeof e||"string"!=typeof t)return n;for(r=0,i=(o=t.split(".")).length;r<i;r+=1){if(!e||void 0===e[o[r]])return n;e=e[o[r]]}return e},indexOf:function(e,t){return e&&e.indexOf?e.indexOf(t):-1},forEach:function(e,t,n){var r,i;if(!(e&&e.length&&t&&t.call))return 0;for(r=0,i=e.length;r<i;r+=1)t.call(n,e[r],r,e);return 1},some:function(e,t){var n,r,i=!1;for(n=0,r=e.length;n<r;n+=1)if(i=t(e[n],n,e))return i;return i},convertToArray:function(e){for(var t=0,n=e.length,r=[];t<n;)r.push(e[t]),t+=1;return r},mixin:function(e){var t,n,r,i;for(r=1,i=arguments.length;r<i;r+=1)for(t in n=arguments[r])Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e},extend:function(e,t,n){var r="";for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e&&"[object Object]"===Object.prototype.toString.call(n[r])?(void 0===t[r]&&(t[r]={}),this.extend(e,t[r],n[r])):t[r]=n[r]);return t},clone:function(e){var t,n;if(null===e||"object"!=typeof e)return e;if(e instanceof Object){for(n in t="[object Array]"===Object.prototype.toString.call(e)?[]:{},e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=this.clone(e[n]));return t}},parseVersion:function(e){var t,n,r=[];if(!e||!e.length)return r;for(t=0,n=(r=e.split(".")).length;t<n;t+=1)r[t]=/^[0-9]+$/.test(r[t])?parseInt(r[t],10):r[t];return r},isEqual:function(e,t){var n,r,i,o;if(e===t)return!0;if(typeof e!=typeof t)return!1;if(e instanceof Object&&t instanceof Object){if("[object Array]"===Object.prototype.toString.call(e)&&"[object Array]"===Object.prototype.toString.call(t)){if(e.length!==t.length)return!1;for(n=0,o=e.length;n<o;n+=1)if(!this.isEqual(e[n],t[n]))return!1;return!0}if("[object Object]"===Object.prototype.toString.call(e)&&"[object Object]"===Object.prototype.toString.call(t)){for(n=0;n<2;n+=1){for(r in e)if(e.hasOwnProperty(r)){if(!t.hasOwnProperty(r))return!1;if(!this.isEqual(e[r],t[r]))return!1}i=e,e=t,t=i}return!0}}return!1},calculateRelativeXY:function(e){if(h.isUndefOrNull(e)||h.isUndefOrNull(e.x)||h.isUndefOrNull(e.y)||h.isUndefOrNull(e.width)||h.isUndefOrNull(e.height))return"0.5,0.5";var t=Math.abs(e.x/e.width).toFixed(4),n=Math.abs(e.y/e.height).toFixed(4);return(t=t>1||t<0?.5:t)+","+(n=n>1||n<0?.5:n)},createObject:(e=null,t=null,"function"==typeof Object.create?e=Object.create:(t=function(){},e=function(e){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object prototype need to be an object!");return t.prototype=e,new t}),e),access:function(e,t){var n,r,i,o=t||window;if("string"==typeof e&&"object"==typeof o){for(r=0,i=(n=e.split(".")).length;r<i;r+=1)if(0!==r||"window"!==n[r]){if(!Object.prototype.hasOwnProperty.call(o,n[r]))return;if(o=o[n[r]],r<i-1&&!(o instanceof Object))return}return o}},isNumeric:function(e){var t=!1;return h.isUndefOrNull(e)||!/\S/.test(e)?t:t=!isNaN(2*e)},isUpperCase:function(e){return e===e.toUpperCase()&&e!==e.toLowerCase()},isLowerCase:function(e){return e===e.toLowerCase()&&e!==e.toUpperCase()},extractResponseHeaders:function(e){var t,n,r={},i=null;for(t=0,n=(e=e&&e.length?e.split("\n"):[]).length;t<n;t+=1)2===(i=e[t].split(": ")).length&&(r[i[0]]=i[1]);return r},getTargetState:function(e){var t=this.getTagName(e),n={a:["href"],input:{range:["maxValue:max","value"],checkbox:["value","checked"],radio:["value","checked"],image:["src"]},select:["value"],button:["value","innerText"],textarea:["value"]}[t]||null,r=null,i=null,o=null,a="";if(null!==n)for(a in"[object Object]"===Object.prototype.toString.call(n)&&(n=n[e.type]||["value"]),i={},n)n.hasOwnProperty(a)&&(-1!==n[a].indexOf(":")?i[(o=n[a].split(":"))[0]]=e[o[1]]:"innerText"===n[a]?i[n[a]]=this.trim(e.innerText||e.textContent):i[n[a]]=e[n[a]]);return"select"===t&&e.options&&!isNaN(e.selectedIndex)&&((i=i||{}).index=e.selectedIndex,i.index>=0&&i.index<e.options.length&&(r=e.options[e.selectedIndex],i.value=r.getAttribute("value")||r.getAttribute("label")||r.text||r.innerText,i.text=r.text||r.innerText)),i&&e.disabled&&(i.disabled=!0),i},getDocument:function(e){var t=e;return e&&9!==e.nodeType&&(t=e.getRootNode?e.getRootNode():e.ownerDocument||e.document),t},getWindow:function(e){try{if(e.self!==e){var t=h.getDocument(e);return h.isUndefOrNull(t.defaultView)?t.parentWindow:t.defaultView}}catch(t){e=null}return e},getOriginAndPath:function(e){var t,n,r,i,o,a,s={},l=[],u={};(e=e||window.location).origin?s.origin=e.origin:s.origin=(e.protocol||"")+"//"+(e.host||""),s.path=(e.pathname||"").split(";",1)[0],(s.origin.indexOf("file://")>-1||h.isiOS&&window.Ionic)&&null!==(t=s.path.match(/(.*)(\/.*app.*)/))&&(s.path=t[2],s.origin="file://"),n=e.search||"";try{new URLSearchParams(n).forEach((function(e,t){u[t]=e}))}catch(e){for(n.length>1&&"?"===n.charAt(0)&&(l=decodeURIComponent(n).substring(1).split("&")),o=0;o<l.length;o+=1)(a=l[o].indexOf("="))>-1&&(r=l[o].substring(0,a),i=l[o].substring(a+1),u[r]=i)}return s.queryParams=u,s},getIFrameWindow:function(e){var t=null;if(!e)return t;try{t=e.contentWindow||(e.contentDocument?e.contentDocument.parentWindow:null)}catch(e){}return t},getTagName:function(e){var t="";return h.isUndefOrNull(e)?t:t=e===document||9===e.nodeType?"document":e===window||e===window.window?"window":"string"==typeof e?e.toLowerCase():(e.tagName||e.nodeName||"").toLowerCase()},getTlType:function(e){var t,n,r="";return h.isUndefOrNull(e)||!e.type?r:(n=(t=e.type.toLowerCase())+":",e.subType&&(n+=e.subType.toLowerCase()),r=f[n]||t)},isIFrameDescendant:function(e){var t=h.getWindow(e);return!!t&&t!=TLT._getLocalTop()},getOrientationMode:function(e){var t="INVALID";if("number"!=typeof e)return t;switch(e){case 0:case 180:case 360:t="PORTRAIT";break;case 90:case-90:case 270:t="LANDSCAPE";break;default:t="UNKNOWN"}return t},getOrientationAngle:function(){if("number"==typeof window.orientation)return window.orientation;var e=(screen.orientation||{}).angle;if("number"!=typeof e)switch(screen.mozOrientation||screen.msOrientation){case"landscape-primary":case"landscape-secondary":e=90;break;default:e=0}return e},clog:function(e){if("object"==typeof e.console&&"function"==typeof e.console.log&&"function"==typeof e.console.log.apply){var t=e.console;return function(){t.log.apply(t,arguments)}}return function(){}}(window),trim:function(e){return e&&e.toString?e.trim?e.trim():e.toString().replace(/^\s+|\s+$/g,""):e},ltrim:function(e){return e&&e.toString?e.trimStart?e.trimStart():e.toString().replace(/^\s+/,""):e},rtrim:function(e){return e&&e.toString?e.trimEnd?e.trimEnd():e.toString().replace(/\s+$/,""):e},setCookie:function(e,t,n,r,i,o,a){var s,l,u,c,d,f,h,p="";if("None"===a?o=!0:"Lax"!==a&&(a="Strict"),h=";SameSite="+a,f=o?";Secure":"",e)for(e=encodeURIComponent(e),t=encodeURIComponent(t),u=(i||location.hostname).split("."),d=";Path="+(r||"/"),"number"==typeof n&&(this.isIE?((c=new Date).setTime(c.getTime()+1e3*n),p=";Expires="+c.toUTCString()):p=";Max-Age="+n),s=1===(l=u.length)?1:2;s<=l&&(document.cookie=e+"="+t+";Domain="+u.slice(-s).join(".")+d+p+f+h,this.getCookieValue(e)!==t);s+=1)1===l&&(document.cookie=e+"="+t+d+p+f+h)},getCookieValue:function(e,t){var n,r,i,o,a=null;try{if(t=t||document.cookie,!e||!e.toString)return null;o=(e+="=").length,i=t.split(";");const l=150;var s=i.length;for(s>l&&(s=l),n=0;n<s;n+=1)if(r=i[n],0===(r=h.ltrim(r)).indexOf(e)){a=r.substring(o,r.length);break}}catch(e){a=null}return a},getQueryStringValue:function(e,t,n){var r,i,o,a,s=null;try{if(o=(n=n||window.location.search).length,!e||!e.toString||!o)return null;n=(t=t||"&")+n.substring(1),e=t+e+"=",-1!==(r=n.indexOf(e))&&(a=r+e.length,-1===(i=n.indexOf(t,a))&&(i=o),s=decodeURIComponent(n.substring(a,i)))}catch(e){}return s},addEventListener:window.addEventListener?function(e,t,n){e.addEventListener(t,n,!1)}:function(e,t,n){e.attachEvent("on"+t,n)},matchTarget:function(e,t){var n,r,i,o,a,s,l,u,c=-1,d=document;if(!e||!t)return c;for(this.browserService&&this.browserBaseService||(this.browserService=TLT.getService("browser"),this.browserBaseService=TLT.getService("browserBase")),-2===t.idType&&(i=this.browserBaseService.getNodeFromID(t.id,t.idType),d=this.getDocument(i)),n=0,l=e.length;n<l&&-1===c;n+=1)if("string"==typeof(u=e[n])){for(r=0,a=(o=this.browserService.queryAll(u,d))?o.length:0;r<a;r+=1)if(o[r]&&(s=this.browserBaseService.ElementData.prototype.examineID(o[r])).idType===t.idType&&s.id===t.id){c=n;break}}else if(u&&u.id&&u.idType&&t.idType&&t.idType.toString()===u.idType.toString())switch(typeof u.id){case"string":u.id===t.id&&(c=n);break;case"object":u.cRegex||(u.cRegex=new RegExp(u.id.regex,u.id.flags)),u.cRegex.lastIndex=0,u.cRegex.test(t.id)&&(c=n)}return c},WeakMap:function(){function e(e,t){var n,r;for(n=0,r=(e=e||[]).length;n<r;n+=1)if(e[n][0]===t)return n;return-1}return function(){var t=[];this.set=function(n,r){var i=e(t,n);t[i>-1?i:t.length]=[n,r]},this.get=function(n){var r=t[e(t,n)];return r?r[1]:void 0},this.clear=function(){t=[]},this.has=function(n){return e(t,n)>=0},this.remove=function(n){var r=e(t,n);r>=0&&t.splice(r,1)},this.delete=this.remove}}()};"undefined"!=typeof TLT&&TLT||(window.TLT={}),TLT.utils=h}(),function(){"use strict";TLT.EventTarget=function(){this._handlers={}},TLT.EventTarget.prototype={constructor:TLT.EventTarget,publish:function(e,t){var n=0,r=0,i=this._handlers[e],o={type:e,data:t};if(void 0!==i)for(r=i.length;n<r;n+=1)i[n](o)},subscribe:function(e,t){if(this._handlers.hasOwnProperty(e)||(this._handlers[e]=[]),"function"!=typeof t)throw new Error("Event handler for '"+e+"' isn't a function.");this._handlers[e].push(t)},unsubscribe:function(e,t){var n=0,r=0,i=this._handlers[e];if(i)for(r=i.length;n<r;n+=1)if(i[n]===t)return void i.splice(n,1)}}}(),TLT.ModuleContext=function(){"use strict";var e=["broadcast","getConfig:getModuleConfig","listen","post","getXPathFromNode","performDOMCapture","performFormCompletion","isInitialized","getStartTime","normalizeUrl","getCurrentOffset","getTabId","setSessionCookieInfo"];return function(t,n){var r,i,o={},a=null,s=null,l=null;for(r=0,i=e.length;r<i;r+=1)(a=e[r].split(":")).length>1?(l=a[0],s=a[1]):(l=a[0],s=a[0]),o[l]=function(e){return function(){var r=n.utils.convertToArray(arguments);if(r.unshift(t),!n.hasOwnProperty(e))throw new Error("Attempting to access method '"+e+"' on TLT, but it doesn't exist. There's a misconfigured passthru method.");return n[e].apply(n,r)}}(s);return o.utils=n.utils,o}}(),TLT.addService("config",(function(e){"use strict";function t(t,n){e.utils.extend(!0,t,n),r.publish("configupdated",r.getConfig())}var n={core:{},modules:{},services:{}},r=e.utils.extend(!1,e.utils.createObject(new TLT.EventTarget),{getConfig:function(){return n},getDefaultConfig:function(){var e,t={core:{buildNote:"Acoustic Tealeaf UIC "+window.TLT.getLibraryVersion(),blockedElements:[],ieExcludedLinks:['a[href*="javascript:void"]',"input[onclick*='javascript:']"],blockedUserAgents:[{regex:"(Google|Bing|Face|DuckDuck|Yandex|Exa)bot|spider|archiver",flags:"i"},"PhantomJS"],inactivityTimeout:174e4,modules:{replay:{events:[{name:"change",attachToShadows:!0,recurseFrames:!0},{name:"click",recurseFrames:!0},{name:"dblclick",recurseFrames:!0},{name:"contextmenu",recurseFrames:!0},{name:"pointerdown",recurseFrames:!0},{name:"pointerup",recurseFrames:!0},{name:"hashchange",target:window},{name:"focus",recurseFrames:!0},{name:"blur",recurseFrames:!0},{name:"load",target:window},{name:"unload",target:window},{name:"resize",target:window},{name:"scroll",target:window},{name:"mousemove",recurseFrames:!0},{name:"orientationchange",target:window},{name:"touchend"},{name:"touchstart"},{name:"error",target:window},{name:"visibilitychange"}]},flushQueue:{events:[]},overstat:{enabled:!0,events:[{name:"click",recurseFrames:!0},{name:"mousemove",recurseFrames:!0},{name:"mouseout",recurseFrames:!0},{name:"submit",recurseFrames:!0}]},performance:{enabled:!0,events:[{name:"load",target:window},{name:"unload",target:window}]},ajaxListener:{enabled:!0,events:[{name:"load",target:window},{name:"unload",target:window}]},gestures:{enabled:!0,events:[{name:"tap",target:window},{name:"hold",target:window},{name:"drag",target:window},{name:"release",target:window},{name:"pinch",target:window}]},dataLayer:{enabled:!1,events:[{name:"load",target:window},{name:"unload",target:window}]},TLCookie:{enabled:!0}},screenviewAutoDetect:!0,framesBlacklist:[]},services:{queue:{asyncReqOnUnload:!0,useBeacon:!0,useFetch:!0,xhrEnabled:!0,queues:[{qid:"DEFAULT",endpoint:"",maxEvents:30,timerInterval:6e4,maxSize:3e5,checkEndpoint:!0,endpointCheckTimeout:4e3,encoder:"gzip"}]},message:{privacy:[{targets:["input[type=password]"],maskType:2},{targets:["input[id*=phone]","input[name*=phone]"],maskType:4,maskFunction:function(e){return e.slice(0,-3).replace(/[0-9]/g,"X")+e.slice(-3)}},{exclude:!0,targets:["input[type=hidden]","input[type=radio]","input[type=checkbox]","input[type=submit]","input[type=button]","input[type=search]"],maskType:4,maskFunction:function(e){return e.replace(/[a-z]/gi,"X").replace(/[0-9]/g,"9")}}],privacyPatterns:[{pattern:{regex:"\\d{3}-\\d{2}-\\d{4}",flags:"g"},replacement:"XXX-XX-XXXX"},{pattern:{regex:"<div[^<]*tlPrivate[^<]*>(.+?)</div>",flags:"g"},replacement:function(e,t){if(t.length>0)return e.replace(t,"xxxxxx")}},{pattern:{regex:"<span[^<]*tlPrivate[^<]*>(.+?)</span>",flags:"g"},replacement:function(e,t){if(t.length>0)return e.replace(t,"xxxxxx")}},{pattern:{regex:"<p[^<]*tlPrivate[^<]*>(.+?)</p>",flags:"g"},replacement:function(e,t){if(t.length>0)return e.replace(t,"xxxxxx")}}]},encoder:{gzip:{encode:"window.pako.gzip",defaultEncoding:"gzip"}},domCapture:{diffEnabled:!0,options:{maxLength:1e7,captureShadowDOM:!0,captureDynamicStyles:!0,captureFrames:!0}},browser:{normalizeTargetToParentLink:!0}},modules:{overstat:{hoverThreshold:3e3},performance:{calculateRenderTime:!0,renderTimeThreshold:6e5,performanceAlert:{enabled:!0,threshold:3e3,maxAlerts:100,blacklist:[]}},replay:{domCapture:{enabled:!0,screenviewBlacklist:[],triggers:[{event:"change"},{event:"click"},{event:"dblclick"},{event:"contextmenu"},{event:"visibilitychange"},{event:"load",fullDOMCapture:!0,delay:300}]},mousemove:{enabled:!0,sampleRate:200,ignoreRadius:3}},ajaxListener:{urlBlocklist:[{regex:"brilliantcollector\\.com"}],filters:[{log:{requestHeaders:!0,requestData:!1,responseHeaders:!0,responseData:!1}}]},dataLayer:{dataObject:"window.dataLayer"},TLCookie:{appCookieWhitelist:[{regex:".*"}],tlAppKey:""}}};return window.TLT.utils.isIE&&(9===document.documentMode&&(t.modules.replay.domCapture.enabled=!1,t.modules.ajaxListener.enabled=!1),10===document.documentMode&&(t.services.domCapture.diffEnabled=!1,t.modules.replay.domCapture.triggers=[{event:"click",targets:["a","a *","button","button *"]},{event:"change"},{event:"load",delay:300}])),(window.TLT.utils.isiOS||window.TLT.utils.isAndroid)&&(t.services.queue.queues[0].maxEvents=10,t.services.queue.queues[0].maxSize=1e4,t.services.queue.queues[0].timerInterval=1e4,t.services.queue.queues[0].endpointCheckTimeout=1e4,window.TLT.utils.isiOS&&((e=window.navigator.userAgent.match(/OS (\d+)_/))&&e[1]<13&&(t.services.queue.useBeacon=!1),t.core.modules.flushQueue&&t.core.modules.flushQueue.events?t.core.modules.flushQueue.events.push({name:"visibilitychange"}):console.log("Tealeaf Error: include the flushQueue module!"))),t},updateConfig:function(e){t(n,e)},getCoreConfig:function(){return n.core},updateCoreConfig:function(e){t(n.core,e)},getServiceConfig:function(e){return n.services[e]||{}},updateServiceConfig:function(e,r){void 0===n.services[e]&&(n.services[e]={}),t(n.services[e],r)},getModuleConfig:function(e){return n.modules[e]||{}},updateModuleConfig:function(e,r){void 0===n.modules[e]&&(n.modules[e]={}),t(n.modules[e],r)},destroy:function(){n={core:{},modules:{},services:{}}}});return r})),TLT.addService("queue",(function(e){"use strict";var t=e.utils,n=null,r={},i=6e5,o=e.getService("ajax"),a=e.getService("browser"),s=e.getService("encoder"),l=e.getService("serializer"),u=e.getService("config"),c=e.getService("message"),d=null,f={},h=!0,p=!0,g={5:{limit:300,count:0},6:{limit:400,count:0}},m=[],v=!0,y=!1,w=!0,b=!0,T=function(){var n={};function r(e){return void 0!==n[e]}function i(e){return r(e)?n[e]:null}function o(e){var t=i(e);null!==t&&(t.data=[])}return{exists:r,add:function(e,t){return r(e)||(n[e]={lastOffset:0,data:[],queueId:e,url:t.url,eventThreshold:t.eventThreshold,sizeThreshold:t.sizeThreshold||0,timerInterval:t.timerInterval,size:-1,serializer:t.serializer,encoder:t.encoder,crossDomainEnabled:!!t.crossDomainEnabled,crossDomainIFrame:t.crossDomainIFrame}),n[e]},remove:function(e){r(e)&&delete n[e]},reset:function(){n={}},get:i,clear:o,flush:function(e){var t=null;return r(e)&&(t=i(e).data,o(e)),t},push:function(n,o){var a=null,s=null,u=window.tlBridge,c=window.iOSJSONShuttle;try{s=l.serialize(o)}catch(e){o={error:s="Serialization failed: "+(e.name?e.name+" - ":"")+e.message}}if(void 0!==u&&"function"==typeof u.addMessage)t.clog("Added to Android bridge: ",o),u.addMessage(s);else if(void 0!==c&&"function"==typeof c)t.clog("Added to iOS bridge: ",o),c(s);else if(r(n))return a=i(n),"undefined"!=typeof console&&console.log("Added to queueId: ",n," data: ",o),a.data.push(o),a.data=e.redirectQueue(a.data),a.sizeThreshold&&(s=l.serialize(a.data),a.size=s.length),a.data.length;return 0}}}();function S(e){w&&(b=!0),e&&e.id&&t.extend(!0,m[e.id-1],{rspEnd:c.getCurrentOffset(),success:e.success,statusCode:e.statusCode,statusText:e.statusText}),t.clog("XHR Result: ",e)}function _(e,t,n,r){var i=T.get(e),o={name:t,value:n};"string"==typeof t&&"string"==typeof n&&(i.headers||(i.headers={once:[],always:[]}),(r?i.headers.always:i.headers.once).push(o))}function x(e,t){var n,r,i=T.get(e).headers,o=null;function a(e,t){var n,r,i=null;for(n=0,r=e.length;n<r;n+=1)t[(i=e[n]).name]=i.value}if(t=t||{},i)for(n=0,r=(o=[i.always,i.once]).length;n<r;n+=1)a(o[n],t);return t}function E(e){var t,n=null;if(!T.exists(e))throw new Error("Queue: "+e+" does not exist!");(n=(t=T.get(e))?t.headers:null)&&(n.once=[])}function C(){var t,n,r=0,i=e.provideRequestHeaders();if(i&&i.length)for(r=0,t=i.length;r<t;r+=1)_("DEFAULT",(n=i[r]).name,n.value,n.recurring);return r}function k(e){var t,n,r=[],i="";if(!e||!e.length)return i;for(t=0,n=e.length;t<n;t+=1)r[e[t].type]=!0;for(t=0,n=r.length;t<n;t+=1)r[t]&&(i&&(i+=","),i+=t);return i}function O(r,a){var u,d,f,h,p,g,y=T.get(r),w=y.url?T.flush(r):null,_=w?w.length:0,O={"Content-Type":"application/json","X-PageId":e.getPageId(),"X-Tealeaf":"device (UIC) Lib/6.4.20","X-TealeafType":"GUI","X-TeaLeaf-Page-Url":(g=t.getOriginAndPath(window.location),e.normalizeUrl("",g.path)),"X-Tealeaf-SyncXHR":(!!a).toString()},L=c.getCurrentOffset(),I=y.serializer||"json",M=y.encoder,D=n.tltWorker,P="unloading"===e.getState(),A=t.getOriginAndPath().origin,R=e.isCrossOrigin(y.url,A),z=null;if(_&&y)if(h=L-w[_-1].offset,i&&h>i+6e4)t.clog("UIC self-terminated due to inactivity(1).");else{if(b=!1,y.lastOffset=w[_-1].offset,O["X-Tealeaf-MessageTypes"]=k(w),u=(w=c.wrapMessages(w)).serialNumber,m[u-1]={serialNumber:u,reqStart:L},v&&(w.log={requests:m}),n.endpointCheckFailed&&(w.log.endpointCheckFailed=!0),C(),x(r,O),!D||a||P)if(I&&(w=l.serialize(w,I)),M&&(f=s.encode(w,M))&&(f.data&&!f.error&&(f.data instanceof window.ArrayBuffer?f.data.byteLength<w.length?(w=f.data,O["Content-Encoding"]=f.encoding):f.error=M+" encoder did not reduce payload ("+f.data.byteLength+") compared to original data ("+w.length+")":f.error="Encoder did not apply "+M+" encoding."),f.error&&e.logExceptionEvent("EncoderError: "+f.error,"UIC",-1)),y.crossDomainEnabled){if(!(z=t.getIFrameWindow(y.crossDomainIFrame)))return void t.clog("Cannot access xdomain frame window.");if(d={request:{id:u,url:y.url,async:!a,headers:O,data:w}},"function"==typeof window.postMessage)z.postMessage(d,y.crossDomainIFrame.src);else try{z.sendMessage(d)}catch(e){return void t.clog("Cannot access sendMessage API on xdomain frame window.")}b=!0}else o.sendRequest({id:u,oncomplete:S,url:y.url,async:!a,isUnloading:P,isCrossOrigin:R,headers:O,data:w});else D.onmessage=function(e){t.clog("Message received from worker thread",e),S(e.data)},p={id:u,url:y.url,headers:O,data:w,isUnloading:P,isCrossOrigin:R},D.postMessage(p),t.clog("Message sent to TLT worker from main thread",p);E(r)}}function L(e){var t,r=n.queues;for(t=0;t<r.length;t+=1)O(r[t].qid,e);return!0}function I(r,o){var a,s,l,u=c.createMessage(o),d=T.get(r);if((a=d.data.length)&&(l=u.offset-d.data[a-1].offset,i&&l>i))return t.clog("UIC self-terminated due to inactivity(2)."),e.setAutoFlush(!1),void e.destroy(!1,"inactivity(2)");a=T.push(r,u),s=d.size,w&&!b||(a>=d.eventThreshold||s>=d.sizeThreshold)&&h&&"unloading"!==e.getState()&&("click"!==e.getCurrentWebEvent().type||n.ddfoc?O(r):p&&(p=!1,window.setTimeout((function(){T.exists(r)&&(O(r),p=!0)}),500)))}function M(e){var n,r=!1;return!e||!e.type||((n=g[e.type])&&(n.count+=1,n.count>n.limit&&(r=!0,n.count===n.limit+1&&I("DEFAULT",{type:16,dataLimit:{messageType:e.type,maxCount:n.limit}}),t.clog("WARNING: Message limit ("+n.limit+") reached for message type ["+e.type+"]"))),r)}function D(e,t){f[e]=window.setTimeout((function n(){h&&(!w||w&&b)&&O(e),f[e]=window.setTimeout(n,t)}),t)}function P(e){var t=!1;return e&&f[e]&&(window.clearTimeout(f[e]),delete f[e],t=!0),t}function A(e){}function R(){h&&L(!n.asyncReqOnUnload),u.unsubscribe("configupdated",A),function(){var e=0;for(e in f)f.hasOwnProperty(e)&&P(e);f={}}(),T.reset(),n=null,d=null,y=!1}return{addHeaderToQueue:_,copyHeaders:x,clearHeaders:E,getExternalRequestHeaders:C,getQueueManager:function(){return T},getAutoFlushing:function(){return h},getMessageTypes:k,isMsgLimitReached:M,init:function(){var o;y?t.clog("Attempt to initialize service which has been already initialized(queueService)"):(o=u.getServiceConfig("queue")||{},n=o,r=e.getCoreConfig(),i=t.getValue(r,"inactivityTimeout",6e5),w=t.getValue(n,"serializePost",!0),t.forEach(n.queues,(function(t,n){var r=null;"DEFAULT"===t.qid&&(d=t),t.crossDomainEnabled&&((r=a.query(t.crossDomainFrameSelector))||e.fail("Cross domain iframe not found")),T.add(t.qid,{url:t.endpoint,eventThreshold:t.maxEvents,sizeThreshold:t.maxSize||0,serializer:t.serializer,encoder:t.encoder,timerInterval:t.timerInterval||0,crossDomainEnabled:t.crossDomainEnabled||!1,crossDomainIFrame:r}),void 0!==t.timerInterval&&t.timerInterval>0&&D(t.qid,t.timerInterval)})),u.subscribe("configupdated",A),y=!0)},destroy:function(){R()},_getQueue:function(e){return T.get(e).data},setAutoFlush:function(e){h=!0===e},flush:function(e){if(e=e||d.qid,!T.exists(e))throw new Error("Queue: "+e+" does not exist!");O(e)},flushAll:function(e){return L(!!e)},post:function(r,i,o){e.isInitialized()?(o=o||function(e){var t,r,i,o,a=null,s=n.queues;for(t=0,i=s.length;t<i;t+=1)if((a=s[t])&&a.modules)for(r=0,o=a.modules.length;r<o;r+=1)if(a.modules[r]===e)return a.qid;return d.qid}(r),T.exists(o)?M(i)||I(o,i):t.clog("Queue: "+o+" does not exist!")):t.clog("Attempt to post by '"+r+"' when UIC is not initialized!")},resetFlushTimer:function(e){var n,r;(e=e||d.qid,T.exists(e))?(n=e)&&P(n)&&(r=T.get(n)).timerInterval&&D(n,r.timerInterval):t.clog("Attempt to reset timer of a queue ["+e+"] that does not exist!")},setXHRLog:function(){v=!v,t.clog("XHR logging "+(v?"enabled":"disabled"))}}})),TLT.addService("browserBase",(function(e){"use strict";var t,n,r,i,o,a,s,l,u,c=e.utils,d={optgroup:!0,option:!0,nobr:!0},f={},h=null,p=!1,g=5,m=60;function v(){n=e.getService("config"),h=e.getService("serializer"),r=n?n.getServiceConfig("browser"):{},i=r.blacklist||[],o=r.customid||[],a=c.getValue(r,"normalizeTargetToParentLink",!0),s=c.getValue(r,"logAttributes",[])}function y(e){var t,n,r,i,o,a={};if(!e||!e.hasAttribute)return a;for(t=0,n=s.length,o=0;t<n&&o<g;t+=1)r=s[t],e.hasAttribute(r)&&(i=e.getAttribute(r)||"",a[r]=i.slice(0,m),o+=1);return a}function w(e,t){var n,r,o;if(!e)return null;if(!(o=void 0!==t?t:e.id)||"string"!=typeof o)return null;for(n=0,r=i.length;n<r;n+=1)if("string"==typeof i[n]){if(o===i[n])return null}else if("object"==typeof i[n]&&(i[n].cRegex||(i[n].cRegex=new RegExp(i[n].regex,i[n].flags)),i[n].cRegex.lastIndex=0,i[n].cRegex.test(o)))return null;return o}function b(e,t){var n,r={type:null,subType:null};if(!e)return r;switch(n=e.type){case"focusin":n="focus";break;case"focusout":n="blur"}return r.type=n,r}function T(e){var t={type:null,subType:null};return e?(t.type=c.getTagName(e),t.subType=e.type||null,t):t}function S(e){var t="null";return e&&e.length?t=h.serialize(e,"json"):t}function _(e,t,n,r){var i;return i=l(e,!!t,!!r),n?i:S(i)}function x(e){var t,n={left:-1,top:-1};return t=(e=e||document).documentElement||e.body.parentNode||e.body,n.left=Math.round("number"==typeof window.pageXOffset?window.pageXOffset:t.scrollLeft),n.top=Math.round("number"==typeof window.pageYOffset?window.pageYOffset:t.scrollTop),n}function E(e){return e&&void 0!==e.originalEvent&&void 0!==e.isDefaultPrevented&&!e.isSimulated}function C(e){return e?(e.type&&0===e.type.indexOf("touch")&&(E(e)&&(e=e.originalEvent),"touchstart"===e.type?e=e.touches[e.touches.length-1]:"touchend"===e.type&&(e=e.changedTouches[0])),e):null}function k(e){var t,n,r=e||window.event,i=document.documentElement,o=document.body,a=!1,s=null;if(E(r)&&(r=r.originalEvent),void 0!==e&&void 0!==r.target||(r.target=r.srcElement||window.window,r.timeStamp=Number(new Date),null!==r.pageX&&void 0!==r.pageX||(r.pageX=r.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),r.pageY=r.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),r.preventDefault=function(){this.returnValue=!1},r.stopPropagation=function(){this.cancelBubble=!0}),"click"===r.type){for(t=r.composedPath?r.composedPath():[],n=0;n<t.length;n+=1)if("button"===c.getTagName(t[n])){a=!0,s=t[n];break}if(a)return{originalEvent:r,target:s,srcElement:s,type:r.type,pageX:r.pageX,pageY:r.pageY}}return r}function O(e){var t,n,r,i=null;if(!e||!e.type)return null;if(0===e.type.indexOf("touch"))i=C(e).target;else if("function"==typeof e.composedPath)if((r=e.composedPath())&&r.length){if(i=r[0],a)for(t=0,n=r.length;t<n;t+=1)if("a"===c.getTagName(r[t])){i=r[t];break}}else i=e.target||window.window;else i=e.srcElement?e.srcElement:e.target;for(;i&&d[c.getTagName(i)]&&i.parentElement;)i=i.parentElement;return 9===i.nodeType&&i.documentElement&&(i=i.documentElement),i}function L(e){var t=0,n=0,r=document.documentElement,i=document.body;return(e=C(e))&&(e.pageX||e.pageY?(t=e.pageX,n=e.pageY):(e.clientX||e.clientY)&&(t=e.clientX+(r?r.scrollLeft:i?i.scrollLeft:0)-(r?r.clientLeft:i?i.clientLeft:0),n=e.clientY+(r?r.scrollTop:i?i.scrollTop:0)-(r?r.clientTop:i?i.clientTop:0))),{x:t,y:n}}function I(e,t){this.x=Math.round(e||0),this.y=Math.round(t||0)}function M(e,t){this.width=Math.round(e||0),this.height=Math.round(t||0)}function D(e,t){var n,r,i,o;t=O(e),n=this.examineID(t),i=T(t),o=this.examinePosition(e,t),(r=t&&t.getAttribute?t.getAttribute("aria-label"):null)&&(this.accessibility={id:r}),this.attributes=y(t),t&&t.innerText&&(this.attributes.innerText=c.trim(t.innerText).slice(0,m)),this.element=t,this.id=n.id,this.idType=n.idType,this.type=i.type,this.subType=i.subType,this.state=this.examineState(t),this.position=new I(o.x,o.y),this.position.relXY=o.relXY,this.size=new M(o.width,o.height),this.xPath=n.xPath,this.name=n.name}function P(){var e,t,n,r=1;if(document.body.getBoundingClientRect){try{e=document.body.getBoundingClientRect()}catch(e){return c.clog("getBoundingClientRect failed.",e),r}t=e.right-e.left,n=document.body.offsetWidth,r=Math.round(t/n*100)/100}return r}function A(e){var t,n,r,i;if(!e||!e.getBoundingClientRect)return{x:0,y:0,width:0,height:0};try{t=e.getBoundingClientRect(),i=x(document)}catch(e){return c.clog("getBoundingClientRect failed.",e),{x:0,y:0,width:0,height:0}}return n={x:t.left+i.left,y:t.top+i.top,width:t.right-t.left,height:t.bottom-t.top},c.isIE&&(n.x-=document.documentElement.clientLeft,n.y-=document.documentElement.clientTop,1!==(r=P())&&(n.x=Math.round(n.x/r),n.y=Math.round(n.y/r),n.width=Math.round(n.width/r),n.height=Math.round(n.height/r))),n}function R(){var e=c.getOrientationAngle();return c.isLandscapeZeroDegrees&&(180===Math.abs(e)||0===Math.abs(e)?e=90:90!==Math.abs(e)&&270!==Math.abs(e)||(e=0)),e}function z(t){var n,r,i,o,a;if(t)return t;for(a in t={},o=(e.getCoreConfig()||{}).modules)if(o.hasOwnProperty(a)&&o[a].events)for(n=0,r=o[a].events.length;n<r;n+=1)(i=o[a].events[n]).state&&(t[i.name]=i.state);return t}function N(e){var n;return(t=z(t))[e.type]&&(n=c.getValue(e,t[e.type],null)),n}function U(e){var t,n,r;this.data=e.data||null,this.delegateTarget=e.delegateTarget||null,(e.gesture||e.originalEvent&&e.originalEvent.gesture)&&(this.gesture=e.gesture||e.originalEvent.gesture,this.gesture.idType=new D(this.gesture,this.gesture.target).idType),t=L(e=k(e)),this.custom=!1,this.nativeEvent=!0===this.custom?null:e,this.position=new I(t.x,t.y),this.target=new D(e,e.target),this.orientation=R(),(r=N(e))&&(this.target.state=r),this.timestamp=(new Date).getTime(),n=b(e,this.target),this.type=n.type,this.subType=n.subType}function V(e,t,n){var r,i,o,a=[];return this instanceof V?e&&e.nodeType?(3===e.nodeType&&(e=e.parentElement),r=(o=l(e,!1,t,n))[0],a=o.length&&(1===r.length||2===r.length&&"h"===r[1])?l(e,!0,t):c.clone(o),this.xpath=S(o),this.xpathList=o,this.fullXpath=S(a),this.fullXpathList=a,i=a[a.length-1],this.isShadowHost=!!i&&"h"===i[i.length-1],this.applyPrefix=function(e){var t,n;e instanceof V&&e.fullXpathList.length&&(n=e.fullXpathList[e.fullXpathList.length-1],t=this.fullXpathList.shift(),c.isEqual(t[0],n[0])?(this.fullXpathList=e.fullXpathList.concat(this.fullXpathList),this.fullXpath=S(this.fullXpathList),1!==(t=this.xpathList.shift()).length?(this.xpathList=e.xpathList.concat(this.xpathList),this.xpath=S(this.xpathList)):this.xpathList.unshift(t)):this.fullXpathList.unshift(t))},this.compare=function(e){return e instanceof V?this.fullXpathList.length-e.fullXpathList.length:0},this.isSame=function(e){var t=!1;return e instanceof V?(0===this.compare(e)&&(t=this.fullXpath===e.fullXpath),t):t},void(this.containedIn=function(e,t){var n,r,i,o;if(!(e instanceof V))return!1;if(e.fullXpathList.length>this.fullXpathList.length)return!1;for(n=0,i=e.fullXpathList.length;n<i;n+=1)if(!c.isEqual(e.fullXpathList[n],this.fullXpathList[n]))return!1;if(!t)for(r=n,i=this.fullXpathList.length;r<i;r+=1)if("h"===(o=this.fullXpathList[r])[o.length-1])return!1;return!0})):(this.fullXpath="",this.xpath="",this.fullXpathList=[],void(this.xpathList=[])):null}return u={nobr:!0},l=function(t,n,r,i){var o,a,s,l,d=document.documentElement,f=null,h=null,p=null,g=[],m=!0,v=e._getLocalTop(),y="",b=!1;if(!t||!t.nodeType)return g;if(11===t.nodeType){if(!(t=t.host))return g;b=!0}for(;m;)if(m=!1,"window"!==(y=c.getTagName(t)))if(y&&!b&&u[y])t=t.parentNode,m=!0;else{for(a=w(t,i);t&&(1===t.nodeType||9===t.nodeType)&&t!==document&&(n||!a);a=w(t))if(p=t.parentNode){if(!(f=p.firstChild)){g.push(["XPath Error(1)"]),t=null;break}for(o=0;f;f=f.nextSibling)if(1===f.nodeType&&c.getTagName(f)===y){if(f===t){s=[y,o],b&&(s.push("h"),b=!1),g[g.length]=s;break}o+=1}11===p.nodeType?(t=p.host,b=!0):t=p,y=c.getTagName(t)}else{if(!(h=c.getWindow(t))||r)return s=[y,0],g[g.length]=s,g.reverse();if(h===v)return g.reverse();t=h.frameElement,y=c.getTagName(t),p=t.parentNode}a&&!n&&(s=[a],b&&(s.push("h"),b=!1),g[g.length]=s,c.isIFrameDescendant(t)?(m=!0,t=c.getWindow(t).frameElement):r||d.contains(t)||(t.getRootNode&&(l=t.getRootNode())&&(t=l.host,b=!0,m=!0),m||c.clog("Node is neither in the document nor in Shadow DOM, orphaned?",t))),i=void 0}return g.reverse()},f.xpath=function(e,t){var n,r,i,o,a,s,l,u,d=null,f=!1;if(!e)return null;if(n=h.parse(e),r=t=t||document,!n)return null;for(o=0,l=n.length;o<l&&r;o+=1){if(f=(d=n[o]).length>1&&"h"===d[d.length-1],1===d.length||2===d.length&&f)r=t.getElementById?t.getElementById(d[0]):t.querySelector?t.querySelector("#"+d[0]):null;else{for(a=0,s=-1,u=r.childNodes.length;a<u;a+=1)if(1===r.childNodes[a].nodeType&&c.getTagName(r.childNodes[a])===d[0].toLowerCase()&&(s+=1)===d[1]){r=r.childNodes[a];break}if(s!==d[1])return null}if(!r)return c.clog("Unable to locate xpath component ("+o+") "+d[0]),null;if(f&&o<l-1){if(!r.shadowRoot)return c.clog("Host ("+o+") "+d[0]+" does not have a shadow root or the shadow root is not accessible."),null;t=r=r.shadowRoot}("frame"===(i=c.getTagName(r))||"iframe"===i)&&o<l-1&&(t=r=c.getIFrameWindow(r).document)}return r!==t&&r?r:null},D.HTML_ID=-1,D.XPATH_ID=-2,D.ATTRIBUTE_ID=-3,D.prototype.examineID=function(e,t){var n,r,i={id:"",idType:0,xPath:"",name:""},a=o.length,s=document.documentElement;if(!e)return i;i.xPath=_(e,!1,!1,t),i.name=e.name;try{if(r="function"!=typeof s.contains||s.contains(e),(t||r)&&(!c.getWindow(e)||!c.isIFrameDescendant(e)))if(w(e))i.id=e.id,i.idType=D.HTML_ID;else if(o.length&&e.attributes)for(;a;)a-=1,void 0!==(n=e.attributes[o[a]])&&(i.id=o[a]+"="+(n.value||n),i.idType=D.ATTRIBUTE_ID)}catch(e){}return i.id||(i.id=i.xPath,"null"!==i.id&&(i.idType=D.XPATH_ID)),i},D.prototype.examineState=function(e){return c.getTargetState(e)},D.prototype.examinePosition=function(e,t){var n=L(e),r=A(t);return r.x=n.x||n.y?Math.round(Math.abs(n.x-r.x)):r.width/2,r.y=n.x||n.y?Math.round(Math.abs(n.y-r.y)):r.height/2,r.relXY=c.calculateRelativeXY(r),r},V.prototype={},{getAttributesToBeLogged:y,normalizeEvent:k,normalizeTarget:O,getEventDetails:C,getEventPosition:L,getEventType:b,getElementType:T,getBoundingClientRectNormalized:A,checkId:w,getZoomValue:P,getDocScrollPosition:x,initCustomEventList:z,getCustomState:N,init:function(){p?c.clog("Attempt to initialize service which has been already initialized(browserBaseService)"):(v(),n&&n.subscribe("configupdated",v),p=!0)},destroy:function(){n&&n.unsubscribe("configupdated",v),p=!1},WebEvent:U,ElementData:D,Xpath:V,processDOMEvent:function(t){e.isInitialized()?e._publishEvent(new U(t)):c.clog("processDOMEvent API invoked when UIC is not initialized!")},getNormalizedOrientation:R,getXPathFromNode:function(e,t,n,r,i){return _(t,n,r,i)},getNodeFromID:function(e,t,n){var r,i,o="-1",a="-2",s="-3",l=null;return e&&t?(r=n||window.document,(t=t.toString())===o?r.getElementById?l=r.getElementById(e):r.querySelector&&(l=r.querySelector("#"+e)):t===s?(i=e.split("="),r.querySelector&&(l=r.querySelector("["+i[0]+'="'+i[1]+'"]'))):t===a&&(l=f.xpath(e,r)),l):l},queryDom:f}})),TLT.addService("browser",(function(e){"use strict";var t,n=e.utils,r=e.getService("config"),i=e.getService("browserBase"),o=null,a=null,s=r?r.getServiceConfig("browser"):{},l=n.getValue(s,"useCapture",!0),u=n.getValue(s,"usePassive",!0),c=!1,d={NO_QUERY_SELECTOR:"NOQUERYSELECTOR"},f={list2Array:function(e){var t,n=e.length,r=[];if(void 0===e.length)return[e];for(t=0;t<n;t+=1)r[t]=e[t];return r},find:function(e,t,n){return n=n||"css",this.list2Array(this[n](e,t))},css:function(e,t){return(t=t||document).querySelectorAll(e)}},h=(t=new n.WeakMap,{add:function(r){var o,a=t.get(r)||[(o=r,function(t){e.isInitialized()||n.clog(t.type+" received but UIC is not initialized.",t);var r=new i.WebEvent(t);"resize"===t.type||"hashchange"===t.type?setTimeout((function(){o(r)}),5):o(r)}),0];return a[1]+=1,t.set(r,a),a[0]},find:function(e){var n=t.get(e);return n?n[0]:null},remove:function(e){var n=t.get(e);n&&(n[1]-=1,n[1]<=0&&t.remove(e))}});function p(e){var t={capture:l,passive:u};return n.isIE?l:n.mixin(t,e)}function g(){if(f.xpath=i.queryDom.xpath,document.querySelectorAll||e.fail("querySelectorAll does not exist!",d.NO_QUERY_SELECTOR),"function"==typeof document.addEventListener)o=function(e,t,n,r){r=p(r),e.addEventListener(t,n,r)},a=function(e,t,n,r){r=p(r),e.removeEventListener(t,n,r)};else{if(void 0===document.attachEvent)throw new Error("Unsupported browser");o=function(e,t,n){e.attachEvent("on"+t,n)},a=function(e,t,n){e.detachEvent("on"+t,n)}}c=!0}return{queryDom:f,init:function(){c?n.clog("Attempt to initialize service (browserService.w3c) which has been already initialized."):g()},destroy:function(){c=!1},getServiceName:function(){return"W3C"},query:function(e,t,n){try{return f.find(e,t,n)[0]||null}catch(e){return console.log(e.message),[]}},queryAll:function(e,t,n){try{return f.find(e,t,n)}catch(e){return console.log(e.message),[]}},matches:function(e,t){var n=!1;try{t&&e&&(t.matches?n=t.matches(e):t.msMatchesSelector&&(n=t.msMatchesSelector(e)))}catch(e){console.log(e.message)}return n},subscribe:function(e,t,n,r){var i=h.add(n);o(t,e,i,r)},unsubscribe:function(e,t,r,i){var o=h.find(r);if(o){try{a(t,e,o,i)}catch(t){n.clog("Unsubscribe failed for event: "+e+"\n"+t.message)}h.remove(r)}}}})),TLT.addService("ajax",(function(e){"use strict";var t,n=e.utils,r=!1,i=!1,o=!1;function a(e){var t="",n=[];for(t in e)e.hasOwnProperty(t)&&n.push([t,e[t]]);return n}function s(e){var t="",n="?";for(t in e)e.hasOwnProperty(t)&&(n+=encodeURIComponent(t)+"="+encodeURIComponent(e[t])+"&");return n.slice(0,-1)}function l(e){var r,i,o=t(),s=[["X-Requested-With","XMLHttpRequest"]],l=0,u="boolean"!=typeof e.async||e.async,c="",d=null;for(e.headers&&(s=s.concat(a(e.headers))),e.contentType&&s.push(["Content-Type",e.contentType]),o.open(e.type.toUpperCase(),e.url,u),r=0,i=s.length;r<i;r+=1)(c=s[r])[0]&&c[1]&&o.setRequestHeader(c[0],c[1]);e.error&&(e.error=function(e){if("function"==typeof e)return function(t){var r,i,o=!1;if(t){if(!(r=t.target))return e(t);(i=r.status)>=200&&i<300&&(o=!0),e({headers:n.extractResponseHeaders(r.getAllResponseHeaders()),responseText:r.responseText,statusCode:i,statusText:r.statusText,id:r.id,success:o})}}}(e.error),o.addEventListener("error",e.error)),o.onreadystatechange=d=function(){4===o.readyState&&(o.onreadystatechange=d=function(){},e.timeout&&window.clearTimeout(l),e.oncomplete({id:e.id,headers:n.extractResponseHeaders(o.getAllResponseHeaders()),responseText:o.responseText||null,statusCode:o.status,statusText:o.statusText,success:o.status>=200&&o.status<300}),o=null)},o.send(e.data||null),d(),e.timeout&&(l=window.setTimeout((function(){o&&(o.onreadystatechange=function(){},4!==o.readyState&&(o.abort(),"function"==typeof e.error&&e.error({id:e.id,statusCode:o.status,statusText:"timeout",success:!1})),e.oncomplete({id:e.id,headers:n.extractResponseHeaders(o.getAllResponseHeaders()),responseText:o.responseText||null,statusCode:o.status,statusText:"timeout",success:!1}),o=null)}),e.timeout))}return{convertHeadersToArray:a,convertHeadersToQuery:s,init:function(){var a;o||(a=e.getServiceConfig("queue"),t=void 0!==window.XMLHttpRequest?function(){return new XMLHttpRequest}:function(){return new ActiveXObject("Microsoft.XMLHTTP")},a&&(r=n.getValue(a,"useBeacon",!0)&&"function"==typeof navigator.sendBeacon,i=n.getValue(a,"useFetch",!0)&&"function"==typeof window.fetch),o=!0)},destroy:function(){o=!1},sendRequest:function(e){var t,n=!0;e.type=e.type||"POST",!e.isUnloading&&e.async||!r||(n=!1,t=function(e){var t,n=s(e.headers);return t="string"==typeof e.data?e.data:e.data?new Uint8Array(e.data):"",navigator.sendBeacon(e.url+n,t)}(e),t||(n=!0)),n&&(e.async&&i&&!e.timeout?function(e){var t=e.headers||{},n=e.id||0,r={method:e.type,headers:t,body:e.data,mode:e.isCrossOrigin?"cors":"same-origin",credentials:e.isCrossOrigin?"omit":"same-origin",keepalive:!e.isCrossOrigin&&e.isUnloading,cache:"no-store"},i=e.oncomplete||function(){};t["X-Requested-With"]="fetch",window.fetch(e.url,r).then((function(e){var t={success:e.ok,statusCode:e.status,statusText:e.statusText,id:n};t.success?e.text().then((function(e){try{t.data=JSON.parse(e)}catch(n){t.data=e}i(t)})).catch((function(e){t.statusCode=1,t.statusText=e.message,i(t)})):i(t)})).catch((function(e){var t={success:!1,statusCode:2,statusText:e.message,id:n};i(t)}))}(e):l(e))}}})),TLT.addService("domCapture",(function(e){"use strict";var t,n,r,i,o,a,s,l=e.getService("config"),u=e.getService("browserBase"),c=e.getService("browser"),d={maxMutations:100,maxLength:1e6,captureShadowDOM:!1,captureDynamicStyles:!1,captureHREFStyles:!1,captureFrames:!1,removeScripts:!0,removeComments:!0,captureStyle:!0},f={childList:!0,attributes:!0,attributeOldValue:!0,characterData:!0,subtree:!0},h=void 0!==window.MutationObserver,p=f,g=[],m=[],v=[],y=[],w=[],b=[],T=0,S=100,_=!1,x=!1,E=!1,C=function(){},k=function(){},O=e._publishEvent,L=!1,I=e.utils,M=Object.getOwnPropertyDescriptor(Document.prototype,"styleSheets"),D=Object.getOwnPropertyDescriptor(Document.prototype,"adoptedStyleSheets"),P={},A={},R={};function z(e){var t,n;if(e)for(t=0,n=e.length;t<n;t+=1)delete e[t].oldValue;return e}function N(e,t){var n,r,i=-1;if(!e||!t)return i;for(n=0,r=e.length;n<r;n+=1)if(e[n].name===t){i=n;break}return i}function U(e,t){var n,r,i,o;for(n=0,r=e.length,o=!1;n<r;n+=1)if((i=e[n]).name===t.name){i.oldValue===t.value?e.splice(n,1):i.value=t.value,o=!0;break}return o||e.push(t),e}function V(e,t){var n,r,i,o,a,s,l,u=0;for(e.removedNodes=t.removedNodes.length,e.addedNodes=I.convertToArray(t.addedNodes),n=0,o=y.length;n<o;n+=1)if(s=y[n],e.isSame(s)){if(e.removedNodes)for(r=0;r<t.removedNodes.length;r+=1)-1!==(i=s.addedNodes.indexOf(t.removedNodes[r]))&&(s.addedNodes.splice(i,1),e.removedNodes-=1);if(s.removedNodes+=e.removedNodes,s.addedNodes.concat(e.addedNodes),!s.removedNodes&&!s.addedNodes.length){for(l=!1,r=0;r<y.length;r+=1)if(s!==y[r]&&y[r].containedIn(s)){l=!0;break}l||(y.splice(n,1),u=-1)}a=!0;break}return a||(y.push(e),u=1),u}function F(e,t){var n,r,i,o,a,s=!1;for(n=0,i=y.length;!s&&n<i;n+=1)if(a=y[n],e.containedIn(a))for(o=a.addedNodes,r=0;r<o.length;r+=1)if(o[r].contains&&o[r].contains(t)){s=!0;break}return s}function H(e,n){var r,i,o,a,s,l=null,c=0;if("checked"===(o=n.attributeName)||"selected"===o){if(l=u.ElementData.prototype.examineID(n.target),t.isPrivacyMatched(l))return c;l=null}if("value"===o&&((l=u.ElementData.prototype.examineID(n.target)).currState=I.getTargetState(n.target)||{},l.currState.value?t.applyPrivacyToTarget(l):l=null),e.attributes=[{name:o,oldValue:n.oldValue,value:l?l.currState.value:n.target.getAttribute(o)}],(a=e.attributes[0]).oldValue===a.value)return c;for(r=0,i=b.length,s=!1;r<i;r+=1)if(l=b[r],e.isSame(l)){l.attributes=U(l.attributes,a),l.attributes.length?F(e,n.target)&&(b.splice(r,1),c=-1):(b.splice(r,1),c=-1),s=!0;break}return s||F(e,n.target)||(b.push(e),c=1),c}function j(){return new window.MutationObserver((function(t){t&&(!function(e){var t,n,r,i,o;if(e&&e.length)if(_)T+=e.length;else{for(t=0,n=e.length;t<n&&T<S;t+=1)if(i=e[t],(o=new u.Xpath(i.target))&&(r=o.fullXpathList).length&&"html"===r[0][0])switch(i.type){case"characterData":case"childList":T+=V(o,i);break;case"attributes":T+=H(o,i);break;default:I.clog("Unknown mutation type: "+i.type)}T>=S&&(I.clog("Switching to full DOM capture as total mutations ("+T+") matched or exceeded configured threshold ("+S+")"),_=!0,T+=n-t)}}(t),I.clog("Processed ["+t.length+"] mutation records."),e.invokeMutationCallbacks(t))}))}function X(e){var t=i.call(this,e);return r&&t&&r.observe(t,p),t}function q(e,t){return this.updateOwner(),this.insertRuleOriginal(e,t)}function B(e){this.deleteRuleOriginal(e),this.updateOwner()}function Y(e){this.replaceSyncOriginal(e),this.updateOwner()}function W(e){this.replaceOriginal(e),this.updateOwner()}function K(){if(this.ownersReference)for(var e=Object.keys(this.ownersReference),t=0;t<e.length;t+=1){var n=e[t];P[n]||(w.push(n),P[n]=!0)}}function Q(e){this.ownersReference||(this.ownersReference={}),this.ownersReference[e]=!0,P[e]=!0}function J(e){this.ownersReference&&delete this.ownersReference[e]}function G(e){e.domId=Math.random().toString(16).slice(2),A[e.domId]=e,P[e.domId]=!0;var t=[].concat.apply([],e.adoptedStyleSheets);if(t=t.concat.apply(t,e.styleSheets))for(var n=0;n<t.length;n+=1){var r=t[n];r.ownersReference||(r.ownersReference={}),r.ownersReference[e.domId]=!0}}function Z(e){if(!e||!e.alreadyModified){e.alreadyModified=!0;var t=Object.getOwnPropertyDescriptor(e.Document.prototype,"adoptedStyleSheets"),n=Object.getOwnPropertyDescriptor(e.Document.prototype,"styleSheets");return Object.defineProperty(e.Document.prototype,"adoptedStyleSheets",{set:function(e){var n,r;if(this.domId||G(this),(r=this.adoptedStyleSheets).length>0)for(n=0;n<r.length;n+=1)r[n].removeOwnership(this.domId);for(n=0;n<e.length;n+=1)e[n].publishOwnership(this.domId);return t.set.call(this,e)}}),Object.defineProperty(e.Document.prototype,"styleSheets",{get:function(){var e,t;for(t=n.get.call(this),this.domId||G(this),e=0;e<t.length;e+=1)t[e].publishOwnership(this.domId);return t}}),e.CSSStyleSheet.prototype.insertRuleOriginal=e.CSSStyleSheet.prototype.insertRule,e.CSSStyleSheet.prototype.deleteRuleOriginal=e.CSSStyleSheet.prototype.deleteRule,e.CSSStyleSheet.prototype.insertRule=q,e.CSSStyleSheet.prototype.deleteRule=B,e.CSSStyleSheet.prototype.replaceSyncOriginal=e.CSSStyleSheet.prototype.replaceSync,e.CSSStyleSheet.prototype.replaceOriginal=e.CSSStyleSheet.prototype.replace,e.CSSStyleSheet.prototype.replaceSync=Y,e.CSSStyleSheet.prototype.replace=W,e.CSSStyleSheet.prototype.publishOwnership=Q,e.CSSStyleSheet.prototype.removeOwnership=J,void(e.CSSStyleSheet.prototype.updateOwner=K)}}function $(o){var u,c,m,y,w,b,T=l.getCoreConfig();if(l.subscribe("configupdated",k),t=e.getService("message"),(n=o).options=I.mixin({},d,n.options),h=h&&I.getValue(n,"diffEnabled",!0),S=I.getValue(n.options,"maxMutations",100),h&&(p=I.getValue(n,"diffObserverConfig",f),r=j(),g.push(window)),(b=n.options.captureShadowDOM&&Element.prototype.attachShadow)&&window.ShadyDOM&&window.ShadyDOM.inUse&&(n.options.captureShadowDOM=!1,b=!1),b)for(m in T.modules)if(T.modules.hasOwnProperty(m))for(u=0,c=(w=T.modules[m].events||[]).length;u<c;u+=1)w[u].attachToShadows&&(y=w[u].name,-1===I.indexOf(v,y)&&v.push(y));n.options.captureDynamicStyles&&document.adoptedStyleSheets&&(Z(window),b&&(a=Object.getOwnPropertyDescriptor(ShadowRoot.prototype,"adoptedStyleSheets"),s=Object.getOwnPropertyDescriptor(ShadowRoot.prototype,"styleSheets"),Object.defineProperty(ShadowRoot.prototype,"adoptedStyleSheets",{set:function(e){var t,n;if(this.domId||G(this),(n=this.adoptedStyleSheets).length>0)for(t=0;t<n.length;t+=1)n[t].removeOwnership(this.domId);for(t=0;t<e.length;t+=1)e[t].publishOwnership(this.domId);return a.set.call(this,e)}}),Object.defineProperty(ShadowRoot.prototype,"styleSheets",{get:function(){var e,t;for(t=s.get.call(this),this.domId||G(this),e=0;e<t.length;e+=1)t[e].publishOwnership(this.domId);return t}})),G(document)),r&&(r.observe(window.document,p),!i&&I.getValue(n,"options.captureShadowDOM",!1)&&(i=Element.prototype.attachShadow,Element.prototype.attachShadow=X),L=!0),E=!0}function ee(){return"tlt-"+I.getSerialNumber()}function te(e,t,n){var r,i,o,a,s,l=[];if(!e||!t)return l;if(n&&2===n.length&&(i=n[0],o=n[1]),(a=e.querySelectorAll(t))&&a.length)for(r=a.length-1;r>=0;r-=1)s=a[r],i?s[i]===o&&l.push(s):l.push(s);return l}function ne(e,t,n){var r,i,o;for(r=(o=te(e,t,n)).length-1;r>=0;r-=1)(i=o[r]).parentNode.removeChild(i);return e}function re(e,t){var n,r,i=te(e,"img"),o=new RegExp("^data:image/(.*?);base64");for(n=0;n<i.length;n++)r=i[n],o.test(r.src)&&r.src.length>t&&(r.src="",r.setAttribute("removedByUIC",!0));return e}function ie(e,t){var n,r;for(n=0;e.hasChildNodes()&&n<e.childNodes.length;n+=1)(r=e.childNodes[n]).nodeType===t?(e.removeChild(r),n-=1):r.hasChildNodes()&&ie(r,t);return e}function oe(e){var t,n,r=null;if(!e)return r;switch(e.nodeType){case 1:(t=e.ownerDocument)&&t.documentElement===e&&(n=t.doctype);break;case 9:n=e.doctype}return n&&(r="<!DOCTYPE "+n.name+(n.publicId?' PUBLIC "'+n.publicId+'"':"")+(!n.publicId&&n.systemId?" SYSTEM":"")+(n.systemId?' "'+n.systemId+'"':"")+">"),r}function ae(e,t){var n,r,i,o,a,s;if(t&&(o=e.querySelectorAll("input"),a=t.querySelectorAll("input")))for(n=0,s=a.length;n<s;n+=1)switch(r=o[n],(i=a[n]).type){case"checkbox":case"radio":r.checked?i.setAttribute("checked","checked"):i.removeAttribute("checked");break;default:i.setAttribute("value",r.value),i.getAttribute("type")||i.setAttribute("type","text")}}function se(e,t){var n,r,i,o,a,s,l;if(e&&t&&(r=e.querySelectorAll("select"),o=t.querySelectorAll("select"),r))for(a=0,l=r.length;a<l;a+=1)for(n=r[a],i=o[a],s=0;s<n.options.length;s+=1)s===n.selectedIndex||n.options[s].selected?i.options[s].setAttribute("selected","selected"):i.options[s].removeAttribute("selected")}function le(e,t){var n=null;if(e)switch(e.nodeType||-1){case 11:n=e.innerHTML;break;case 9:n=e.documentElement?e.documentElement.outerHTML:"";break;case 1:n=t?e.innerHTML:e.outerHTML;break;default:n=null}return n}function ue(e){var t=!1;if(e&&"object"==typeof e)switch(e.nodeType||-1){case 9:case 1:t=!0;break;default:t=!1}return t}function ce(e){var t,n,r;for(e.TLTListeners=e.TLTListeners||{},t=0,n=v.length;t<n;t+=1)r=v[t],e.TLTListeners[r]||(c.subscribe(r,e,O),e.TLTListeners[r]=!0)}function de(e,t,n,i){var o,a,s,l,c,d,f={shadows:[]};if(!e||!i&&!e.children)return f;for(o=0,a=(c=i?[e]:e.children).length;o<a;o+=1){if((l=c[o]).shadowRoot&&(d=new u.Xpath(l),s=C(l.ownerDocument,l.shadowRoot,"",n),f.shadows.push({root:s.root,originalSize:s.originalSize,xpath:d.xpath}),f.shadows=f.shadows.concat(s.shadows),ce(l.shadowRoot),h))try{r.observe(l.shadowRoot,p),l.shadowRoot.TLTListeners.mutation=!0,-1===I.indexOf(m,l)&&m.push(l)}catch(e){I.clog("Failed to observe shadow root.",e,l)}s=de(l,null,n),f.shadows=f.shadows.concat(s.shadows)}return f}function fe(e){var t,n,r,i,o,a,s,l,u=0;if(!e)return u;if(e.root){if(u+=e.root.length,e.frames)for(t=0,r=(s=e.frames).length;t<r;t+=1)s[t].root&&(u+=s[t].root.length)}else if(e.diffs)for(t=0,r=e.diffs.length;t<r;t+=1)if(u+=(a=e.diffs[t]).xpath.length,a.root)u+=a.root.length;else if(a.attributes)for(n=0,i=a.attributes.length;n<i;n+=1)u+=(o=a.attributes[n]).name.length,o.value&&(u+=o.value.length);if(e.shadows)for(t=0,r=(l=e.shadows).length;t<r;t+=1)l[t].root&&(u+=l[t].root.length);return u}function he(e){var t,n,r,i,o=[];if(!e||!e.children)return o;for(t=0,n=(i=e.children).length;t<n;t+=1)(r=i[t]).shadowRoot&&(r.shadowRoot.TLTListeners||o.push([r,r.shadowRoot]),o=o.concat(he(r.shadowRoot))),o=o.concat(he(r));return o}function pe(e,t){var n,r,i,o,a;if(e&&t&&t.captureShadowDOM){for(n=0,r=(a=he(e)).length,i=[];n<r;n+=1)o=de(a[n][0],0,t,!0),i=i.concat(o.shadows);return i}}function ge(e,t){var n,r,i,o,a=[];if(!e||!e.children)return a;for(t=t||1,n=0,r=(o=e.children).length;n<r;n+=1)(i=o[n]).shadowRoot&&(a.push([i,i.shadowRoot,t]),a=a.concat(ge(i.shadowRoot,t+1))),a=a.concat(ge(i,t));return a}function me(t,n){var r,i,o,a,s;return a=performance.now(),o=ge(t.documentElement),s=performance.now(),I.clog("Finding Shadow DOM roots took: "+(s-a).toFixed(2)+" milliseconds."),I.clog("Found ["+o.length+"] Shadow DOM roots: ",o),(r=C(t,t,null,n))||(r={}),r.shadows&&r.shadows.sort((function(e,t){var n,r,i=0;return n=e.xpath,r=t.xpath,0===(i=n.length===r.length?n===r?0:n<r?-1:1:n.length<r.length?-1:1)&&console.error("Duplicate xpath: "+n),i})),r.charset=t.characterSet||t.charset,i=I.getOriginAndPath(t.location),r.host=i.origin,r.url=e.normalizeUrl("",i.path,12),r}function ve(e){var t,n,r,i,o,a,s,l,c,d,f,h,p={fullDOM:!1,diffs:[],attributeDiffs:{}},g=new RegExp("^data:image/(.*?);base64");for(function(e){var t,n,r;if(e&&e.length)for(e=e.sort((function(e,t){return e.compare(t)})),t=0;t<e.length;t+=1)for(r=e[t],n=t+1;n<e.length;n+=0)e[n].containedIn(r)?e.splice(n,1):n+=1}(y),function(){var e,t,n,r;for(e=0,n=y.length;e<n&&b.length;e+=1)for(r=y[e],t=0;t<b.length;t+=1)b[t].containedIn(r)&&(b.splice(t,1),t-=1)}(),l=e.captureShadowDOM,e.captureShadowDOM=!1,t=0,n=y.length;t<n;t+=1)if(f=y[t],d=u.getNodeFromID(f.xpath,-2)){if(!f.isShadowHost||(d=d.shadowRoot).TLTListeners){if(d===window.document.body||d===window.document.documentElement)return e.captureShadowDOM=l,me(window.document,e);delete(r=C(window.document,d,f,e)).originalSize,r.shadows&&0===r.shadows.length&&delete r.shadows,r.frames&&0===r.frames.length&&delete r.frames,r.xpath=f.xpath,p.diffs.push(r)}}else I.clog("Target is in the mutated target list but not in the DOM",f);for(t=0;t<w.length;t+=1)i=w[t],s=ye(o=A[i]),(a=new u.Xpath(o))&&"null"!==a.xpath?(a=a.xpath.slice(0,-1),a+=',["'+i+'"]]'):a='[["'+i+'"]]',r={root:s,xpath:a},P[i]=!1,p.diffs.push(r);function m(e,t){e&&e.name&&(p.attributeDiffs[r.xpath][e.name]={value:e.value})}function v(t){var n,r,i;for(n=0,i=t.length;n<i;n+=1)if("src"===(r=t[n]).name&&g.test(r.value)&&r.value.length>e.discardBase64){r.value="",t.push({name:"removedByUIC",value:!0});break}return t}for(t=0,n=b.length;t<n;t+=1)N((f=b[t]).attributes,"id")>-1&&(d=u.getNodeFromID(f.fullXpath,-2))&&(f.xpath=f.fullXpath),h=z(f.attributes),e.hasOwnProperty("discardBase64")&&((d=u.getNodeFromID(f.xpath,-2))||(d=u.getNodeFromID(f.fullXpath,-2)),d&&"img"===d.tagName.toLowerCase()&&h&&(h=v(h))),r={xpath:f.xpath,attributes:h},p.diffs.push(r),p.attributeDiffs[r.xpath]={},I.forEach(r.attributes,m);return e.captureShadowDOM=l,(c=pe(window.document,e))&&c.length&&(p.shadows=c),p}function ye(e){var t,r,i,o,a,s,l,u=n.options.captureHREFStyles;if(!P[e.domId])return R[e.domId];if((o=(o=[].concat.apply([],e.adoptedStyleSheets)).concat.apply(o,e.styleSheets))&&o.length>0){for(t=[],s=0;s<o.length;s+=1)if(a=o[s],!(!u&&!e.isDocumentFromIframe&&a.href||a.ownerNode&&a.ownerNode.textContent)){try{i=a.cssRules}catch(e){continue}for(l=0;l<i.length;l+=1)t.push(i[l].cssText)}t.length>0&&(r='<style id="'+e.domId+'">'+t.join(" ")+"</style>",R[e.domId]=r)}return P[e.domId]=!1,r}return o=function(e){var t=null;return ue(e)&&!(t=e.cloneNode(!0))&&e.documentElement&&(t=e.documentElement.cloneNode(!0)),t},C=function(r,i,a,s){var l,u,c,d,f,h,p,g=!0,m={},v=n.options.captureDynamicStyles;if(!r||!i)return m;if((u=le(i))&&(m.originalSize=u.length),!(l=o(i))&&i.host)g=!1,(h=document.createElement("div")).id="srph-"+Date.now(),h.innerHTML=le(i),l=h;else if(!l)return m;return l&&(s.removeScripts&&(ne(l,"script"),ne(l,"noscript")),s.keepImports||ne(l,"link",["rel","import"]),s.removeComments&&ie(l,8),s.captureStyle?s.useACS&&function(e,t){var n,r,i,o,a,s,l,u,c;if(e&&t&&t.querySelectorAll)for(l=e.querySelectorAll("style"),u=t.querySelectorAll("style"),n=0,c=l.length;n<c;n+=1)if((s=l[n]).sheet){for(r=0,o=(i=s.sheet.cssRules).length,a=[];r<o;r+=1)a.push(i[r].cssText);a.length&&(u[n].innerHTML=a.join("\n"))}}(i,l):ne(l,"style"),s.hasOwnProperty("discardBase64")&&re(l,s.discardBase64),se(i,l),ae(i,l),function(e,t){var n,r,i,o,a,s;if(e&&t&&(o=e.querySelectorAll("textarea"),s=t.querySelectorAll("textarea"),o&&s))for(n=0,r=o.length;n<r;n+=1)i=o[n],(a=s[n]).setAttribute("value",i.value),a.value=a.textContent=i.value}(i,l),l=t.applyPrivacyToNode(l,a,r),s.captureFrames&&(c=function(t,n,r){var i,o,a,s,l,u,c,d,f,h,p,g,m,v=["iframe","frame"],y={frames:[]};for(o=0;o<v.length;o+=1)if(s=v[o],p=t.querySelectorAll(s),g=n.querySelectorAll(s),p)for(i=0,a=p.length;i<a;i+=1)try{l=p[i],(u=I.getIFrameWindow(l))&&u.document&&(r.captureAboutBlankFrames||"about:blank"!==u.location.href)&&((c=u.document).isDocumentFromIframe||(Z(u),c.isDocumentFromIframe=!0),d=C(c,c,"",r),f=ee(),g[i].setAttribute("tltid",f),d.tltid=f,g[i].removeAttribute("srcdoc"),m=I.getOriginAndPath(c.location),d.host=m.origin,d.url=e.normalizeUrl("",m.path,12),d.charset=c.characterSet||c.charset,(h=g[i].getAttribute("src"))||(h=u.location.href,g[i].setAttribute("src",h)),d.root||(d.root="<html></html>"),y.frames=y.frames.concat(d.frames),delete d.frames,y.frames.push(d))}catch(e){}return y}(i,l,s))),s.captureShadowDOM&&(d=de(i,0,s)),c&&(m=I.mixin(m,c)),d&&(m=I.mixin(m,d)),f=(oe(i)||"")+le(l||i,!g),m.root=t.applyPrivacyPatterns(f),v&&document.adoptedStyleSheets&&(i instanceof Document||i instanceof ShadowRoot||i.isDocumentFromIframe||"BODY"===i.nodeName&&i.ownerDocument.isDocumentFromIframe)&&("BODY"===i.nodeName&&(i=i.ownerDocument),i.domId||G(i),(p=ye(i))&&(i instanceof ShadowRoot?m.root+=p:m.root=m.root.replace("</body>",p+"</body>"))),m},{updateConfig:k=function(){$((l=e.getService("config")).getServiceConfig("domCapture")||{})},getUniqueID:ee,removeTags:ne,removeBase64Src:re,getTagList:te,getDoctypeAsString:oe,fixInputs:ae,fixSelectLists:se,getHTMLText:le,isNodeValidForCapture:ue,getCapturedLength:fe,dupNode:o,init:function(){l=e.getService("config"),E?I.clog("Attempt to initialize service which has been already initialized(domCaptureService)"):$(l.getServiceConfig("domCapture")||{})},destroy:function(){l.unsubscribe("configupdated",k),r&&(r.disconnect(),r=null),i&&Element.prototype.attachShadow===X&&(Element.prototype.attachShadow=i,i=null),E=!1,D&&Object.defineProperty(Document.prototype,"adoptedStyleSheets",D),M&&Object.defineProperty(Document.prototype,"styleSheets",M),a&&Object.defineProperty(ShadowRoot.prototype,"adoptedStyleSheets",a),s&&Object.defineProperty(ShadowRoot.prototype,"styleSheets",s),CSSStyleSheet.prototype.insertRuleOriginal&&(CSSStyleSheet.prototype.insertRule=CSSStyleSheet.prototype.insertRuleOriginal),CSSStyleSheet.prototype.deleteRuleOriginal&&(CSSStyleSheet.prototype.deleteRule=CSSStyleSheet.prototype.deleteRuleOriginal),CSSStyleSheet.prototype.replaceSyncOriginal&&(CSSStyleSheet.prototype.replaceSync=CSSStyleSheet.prototype.replaceSyncOriginal),CSSStyleSheet.prototype.replaceOriginal&&(CSSStyleSheet.prototype.replace=CSSStyleSheet.prototype.replaceOriginal),CSSStyleSheet.prototype.publishOwnership&&delete CSSStyleSheet.prototype.publishOwnership,CSSStyleSheet.prototype.removeOwnership&&delete CSSStyleSheet.prototype.removeOwnership,CSSStyleSheet.prototype.updateOwner&&delete CSSStyleSheet.prototype.updateOwner},observeWindow:function(e){e&&(I.getValue(n,"options.captureFrames",!1)||e===window)&&-1===I.indexOf(g,e)&&(g.push(e),r&&L&&r.observe(e.document,p))},captureDOM:function(e,t){var i,o,a,s=null,l=0;if(!E||I.isIE&&document.documentMode<10)return s;if(t=I.mixin({},n.options,t),e=e||window.document,!x||!h||_||t.forceFullDOM){if(r&&r.disconnect(),(s=me(e,t)).fullDOM=!0,s.forced=!(!_&&!t.forceFullDOM),x=!0,r)for(i=0,o=g.length;i<o;i+=1){a=g[i];try{r.observe(a.document,p)}catch(e){g.splice(i,1),o=g.length,i-=1}}}else(s=ve(t)).fullDOM=!s.diffs;return h&&(s.mutationCount=T),y=[],b=[],w=[],T=0,_=!1,t.maxLength&&(l=fe(s))>t.maxLength&&(s={errorCode:101,error:"Captured length ("+l+") exceeded limit ("+t.maxLength+")."}),s}}})),TLT.addService("encoder",(function(e){"use strict";var t={},n=null,r=null,i=!1;function o(n){var r=null;return n?((r=t[n])&&"string"==typeof r.encode&&(r.encode=e.utils.access(r.encode)),r):r}function a(e){t=e,n.subscribe("configupdated",r),i=!0}return{handleConfigUpdated:r=function(){a((n=e.getService("config")).getServiceConfig("encoder")||{})},getEncoder:o,init:function(){n=e.getService("config"),i?e.utils.clog("Attempt to initialize service (encoder) which has been already initialized."):a(n.getServiceConfig("encoder")||{})},destroy:function(){n.unsubscribe("configupdated",r),i=!1},encode:function(t,n){var r,i,a={data:null,encoding:null,error:null};if("string"!=typeof t&&!t||!n)return a.error="Invalid "+(t?"type":"data")+" parameter.",a;if(!(r=o(n)))return a.error="Specified encoder ("+n+") not found.",a;if("function"!=typeof r.encode)return a.error="Configured encoder ("+n+") 'encode' method is not a function.",a;try{i=r.encode(t)}catch(e){return a.error="Exception "+(e.name?e.name+" - ":"")+(e.message||e),a}return i&&null!==e.utils.getValue(i,"buffer",null)?(a.data=i.buffer,a.encoding=r.defaultEncoding,a):(a.error="Encoder ("+n+") returned an invalid result.",a)}}})),TLT.addService("message",(function(e){"use strict";var t,n,r,i=e.utils,o=e.getTabId(),a=[],s=0,l=0,u=e.getStartTime(),c=window.performance&&performance.timeOrigin&&performance.timeOrigin<u?Math.round(performance.timeOrigin):u,d=Date.now()-c+10,f=(new Date).getTimezoneOffset(),h=e.getService("browserBase"),p=e.getService("browser"),g=e.getService("config"),m=g.getCoreConfig(),v=g.getServiceConfig("message")||{},y=e.normalizeUrl("",window.location.href),w=window.location.hostname,b=v.hasOwnProperty("privacy")?v.privacy:[],T={},S="x",_="X",x="9",E="@",C=parseFloat((window.devicePixelRatio||1).toFixed(2)),k=window.screen||{},O=k.width||0,L=k.height||0,I=h.getNormalizedOrientation(),M=i.isiOS&&90===Math.abs(I)?L:O,D=i.isiOS&&90===Math.abs(I)?O:L,P=window.screen?window.screen.height-window.screen.availHeight:0,A=window.innerWidth||document.documentElement.clientWidth,R=window.innerHeight||document.documentElement.clientHeight,z=!1,N={},U=!1;function V(){var e=Date.now()-c,t=window.performance&&performance.now?Math.round(performance.now()):e;return e-t>d&&(t=e),t}function F(e){var t="";if(delete e.timestamp,this.type=e.type,this.offset=V(),2===e.type&&"LOAD"===e.screenview.type?(a.push(V()),this.screenviewOffset=0):a.length?(this.screenviewOffset=V()-a[a.length-1],2===e.type&&"UNLOAD"===e.screenview.type&&a.pop()):this.screenviewOffset=0,this.type)for(t in this.count=l+=1,this.fromWeb=!0,e)e.hasOwnProperty(t)&&(this[t]=e[t])}function H(e,t,n){var r=T.PVC_MASK_BASIC;return"string"!=typeof t?t:(e?e.maskType===T.PVC_MASK_EMPTY.maskType?r=T.PVC_MASK_EMPTY:e.maskType===T.PVC_MASK_BASIC.maskType?r=T.PVC_MASK_BASIC:e.maskType===T.PVC_MASK_TYPE.maskType?r=T.PVC_MASK_TYPE:e.maskType===T.PVC_MASK_CUSTOM.maskType&&"function"!=typeof(r="string"==typeof e.maskFunction?i.access(e.maskFunction):e.maskFunction)&&(r=T.PVC_MASK_BASIC):r=T.PVC_MASK_BASIC,r(t,n))}function j(e,t){var n;if(e&&t)for(n in t)t.hasOwnProperty(n)&&("value"===n?t[n]=H(e,t[n]):delete t[n])}function X(e,t){return-1!==i.matchTarget(e,t)}function q(e){var t,n,o,a,s;if(!e)return"";for(o=Date.now(),t=0,n=r.length;t<n;t+=1)(s=r[t]).cRegex.lastIndex=0,e=e.replace(s.cRegex,s.replacement);return(a=Date.now()-o)>50&&i.clog("WARNING: Applying privacy patterns on text length "+e.length+" took "+a+"ms."),e}function B(e,t){var n,r=null;if(!(e&&e.maskAttributes&&t&&t.attributes))return r;if("function"==typeof e.maskAttributes)try{r=e.maskAttributes(t.id,t.attributes)}catch(e){}else for(n in r=t.attributes,t.attributes)t.attributes.hasOwnProperty(n)&&(r[n]=H(e,t.attributes[n]));return r}function Y(e){var t,n,r,o,a,s,l=!1;if(!e||!e.currState&&!e.prevState&&!e.attributes||!e.id)return e;for(a=e.prevState,s=e.currState,t=0,n=b.length;t<n;t+=1)if(o=b[t],r=i.getValue(o,"exclude",!1),X(o.targets,e)!==r){a&&a.hasOwnProperty("value")&&j(o,a),s&&s.hasOwnProperty("value")&&j(o,s),o.maskAttributes&&e.attributes&&(e.attributes=B(o,e)),l=!0;break}return l||(a&&a.value&&(a.value=q(a.value)),s&&s.value&&(s.value=q(s.value))),e}function W(e){return e&&e.target?(Y(e.target),e):e}function K(e,t){var n,r,o,a;if(t&&e)if(e.value?(o=H(t,e.value,e),e.setAttribute("value",o),e.value=o):t.maskType===T.PVC_MASK_CUSTOM.maskType&&H(t,"",e),e.checked&&e.removeAttribute("checked"),"select"===i.getTagName(e))for(e.selectedIndex=-1,n=0,r=e.options.length;n<r;n+=1)(a=e.options[n]).removeAttribute("selected"),a.selected=!1;else"textarea"===i.getTagName(e)&&(e.textContent=e.value)}function Q(){var t,n,o,a,s,l,u;for(g=e.getService("config"),v=g.getServiceConfig("message")||{},m=g.getCoreConfig(),b=v.privacy||[],r=v.privacyPatterns||[],U=i.getValue(v,"shadowDOMCacheEnabled",!0),t=0,a=b.length;t<a;t+=1)for(n=0,u=(l=(o=b[t]).targets).length;n<u;n+=1)"object"==typeof(s=l[n])&&("string"==typeof s.idType&&(s.idType=+s.idType),"object"==typeof s.id&&(s.cRegex=new RegExp(s.id.regex,s.id.flags)));for(t=r.length-1;t>=0;t-=1)"object"==typeof(o=r[t]).pattern?o.cRegex=new RegExp(o.pattern.regex,o.pattern.flags):(r.splice(t,1),i.clog("WARNING: Ignoring invalid entry ["+t+"] in the privacyPatterns list."))}function J(e){var t,n,r,i,o,a=e.dcid,s=e.shadows||[],l=e.fullDOM;if(0!==s.length&&l){for(r in N)N.hasOwnProperty(r)&&(N[r].age+=1);for(t=0,n=s.length;t<n;t+=1)i=s[t],(o=N[i.xpath])&&o.root===i.root?(o.hitCount+=1,o.age-=1,i.cacheDCID=o.dcid,delete i.root):N[i.xpath]={root:i.root,dcid:a,hitCount:0,age:0};for(r in N)N.hasOwnProperty(r)&&(o=N[r]).age>o.hitCount+1&&delete N[r]}}return T.PVC_MASK_EMPTY=function(e){return""},T.PVC_MASK_BASIC=function(e){return"string"!=typeof e?"":e.length?"XXXXX":""},T.PVC_MASK_TYPE=function(e){var t,n,r,o="";if("string"!=typeof e)return o;for(n=0,r=(t=e.split("")).length;n<r;n+=1)i.isNumeric(t[n])?o+=x:i.isUpperCase(t[n])?o+=_:i.isLowerCase(t[n])?o+=S:o+=E;return o},T.PVC_MASK_EMPTY.maskType=1,T.PVC_MASK_BASIC.maskType=2,T.PVC_MASK_TYPE.maskType=3,T.PVC_MASK_CUSTOM={maskType:4},{privacyMasks:T,maskStr:H,applyMask:j,applyAttributeMask:B,privacyFilter:Y,maskElement:K,updateConfig:Q,optimizeDOMCaptureMessage:J,init:function(){if(z)i.clog("Attempt to initialize service which has been already initialized(messageService)");else{g.subscribe&&g.subscribe("configupdated",Q),Q(),z=!0;try{t=sessionStorage.getItem("tl.TR"),n=sessionStorage.getItem("tl.PU"),sessionStorage.removeItem("tl.TR"),sessionStorage.removeItem("tl.PU")}catch(e){t=null}}},destroy:function(){g.unsubscribe("configupdated",Q),z=!1},applyPrivacyToNode:function(e,t,n){var r,o,a,s,l,u,c,d,f,g,m,v,y,w=[],T=[];if(!e||!n)return null;for(r=0,c=b.length;r<c;r+=1)for(d=b[r],(l=i.getValue(d,"exclude",!1))&&(u=d),o=0,y=(v=d.targets).length;o<y;o+=1)if("string"==typeof(m=v[o]))if(e.id&&/srph-\d{13}/.test(e.id)||!p.matches(m,e)||(l?w.push(e):K(e,d)),f=p.queryAll(m,e),l)w=w.concat(f);else for(a=0,g=f.length;a<g;a+=1)K(s=f[a],d);else if("string"==typeof m.id)switch(m.idType){case-1:case-3:s=h.getNodeFromID(m.id,m.idType,e),l?w.push(s):K(s,d);break;case-2:T.push({ruleIndex:r,targetIndex:o,exclude:l})}else T.push({ruleIndex:r,targetIndex:o,exclude:l});return function(e,t,n,r,o,a){var s,l,u,c,d,f,g,m,v,y,w,T=[];if(!e.length&&!o.length&&!a)return[];if(!(w=p.queryAll("input, select, textarea",t))||!w.length)return[];for(s=0,c=o.length;s<c;s+=1)-1!==(l=w.indexOf(o[s]))&&w.splice(l,1);if(e.length)for(s=0,c=w.length,T=[];s<c;s+=1)w[s].value&&(-2===(f=h.ElementData.prototype.examineID(w[s],!0)).idType&&((g=new h.Xpath(w[s],!0)).applyPrefix(n),f.id=g.xpath),T.push({id:f.id,idType:f.idType,element:w[s]}));for(s=0,c=e.length;s<c;s+=1)if(v=b[e[s].ruleIndex],m=i.getValue(v,"exclude",!1),"string"==typeof(y=v.targets[e[s].targetIndex]).id&&-2===y.idType)for(l=0;l<T.length;l+=1)T[l].idType===y.idType&&T[l].id===y.id&&(m?(u=w.indexOf(d),w.splice(u,1)):K(d=T[l].element,v));else for(l=0;l<T.length;l+=1)y.cRegex.lastIndex=0,T[l].idType===y.idType&&y.cRegex.test(T[l].id)&&(d=T[l].element,m?(u=w.indexOf(d),w.splice(u,1)):K(d,v));if(a)for(s=0,c=w.length;s<c;s+=1)K(w[s],a)}(T,e,t,0,w,u),e},applyPrivacyToMessage:W,applyPrivacyToTarget:Y,applyPrivacyPatterns:q,isPrivacyMatched:function(e){var t,n,r=!1;if(!e)return r;for(t=0,n=b.length;t<n;t+=1)if(X(b[t].targets,e)){r=!0;break}return r},createMessage:function(e){if(void 0===e.type)throw new TypeError("Invalid queueEvent given!");return 12===e.type&&U&&J(e.domCapture),W(new F(e))},wrapMessages:function(r){var a={messageVersion:"13.0.0.0",serialNumber:s+=1,sessions:[{id:e.getPageId(),tabId:o,startTime:c,timezoneOffset:f,messages:r,clientEnvironment:{webEnvironment:{libVersion:"6.4.20",buildNote:m.buildNote||"",domain:w,page:y,referrer:document.referrer,mouseMovement:e.isMousemovementDetected(),screen:{devicePixelRatio:C,deviceWidth:M,deviceHeight:D,deviceToolbarHeight:P,width:A,height:R,orientation:I}}}}]},l=a.sessions[0].clientEnvironment.webEnvironment;return l.screen.orientationMode=i.getOrientationMode(l.screen.orientation),t&&(l.priorPage={page:n,terminationReason:t}),a},getCurrentOffset:V}})),TLT.addService("serializer",(function(e){"use strict";var t=e.getService("config"),n={},r={},i={json:void 0!==window.JSON?{serialize:window.JSON.stringify,parse:window.JSON.parse}:{}},o=null,a=!1;function s(t,n,r){var i,o,a;for(i=0,o=(t=t||[]).length;i<o;i+=1)if("string"==typeof(a=t[i])&&(a=e.utils.access(a)),"function"==typeof a){n[r]=a;break}}function l(l){var u,c;for(u in l)l.hasOwnProperty(u)&&(s(l[u].stringifiers,n,u),s(l[u].parsers,r,u));n.json=n.json||i.json.serialize,r.json=r.json||i.json.parse,"function"==typeof n.json&&"function"==typeof r.json||e.fail("JSON parser and/or serializer not provided in the UIC config. Can't continue."),"function"!=typeof n.json||"function"!=typeof r.json?c=!0:(c=void 0===r.json('{"foo": "bar"}')||"bar"!==r.json('{"foo": "bar"}').foo,c=(c=(c=void 0===r.json("[1, 2]")||(c=c||1!==r.json("[1, 2]")[0])||2!==r.json("[1,2]")[1])||'{"foo":"bar"}'!==n.json({foo:"bar"}))||"[1,2]"!==n.json([1,2])),c&&("function"!=typeof n.json&&"function"!=typeof r.json?console.log("parse.json() and serialize.json() are not a functions."):"function"!=typeof n.json?console.log("serialize.json() is not a function."):"function"!=typeof r.json?console.log("parse.json() is not a function."):(void 0===r.json('{"foo": "bar"}')?console.log("parse.json('{'foo': 'bar'}') is undefined"):"bar"!==r.json('{"foo":"bar"}').foo&&console.log("Parsing of JSON object is failing."),void 0===r.json("[1, 2]")?console.log("parse.json('[1, 2]') is undefined"):1===r.json("[1,2]")[0]&&2===r.json("[1,2]")[1]||console.log("Parsing of JSON array is failing."),'{"foo":"bar"}'!==n.json({foo:"bar"})&&console.log("Stringification of JSON object is failing."),"[1,2]"!==n.json([1,2])&&console.log("Stringification of JSON array is failing.")),e.fail("JSON stringification and parsing are not working as expected")),t&&t.subscribe("configupdated",o),a=!0}return{updateConfig:o=function(){l((t=e.getService("config")).getServiceConfig("serializer"))},init:function(){a?e.utils.clog("Attempt to initialize service which has been already initialized(serializerService)"):l(t?t.getServiceConfig("serializer"):{})},destroy:function(){n={},r={},t&&t.unsubscribe("configupdated",o),a=!1},parse:function(t,n){return"function"!=typeof r[n=n||"json"]&&e.utils.clog("Unsupported type of data in parse method of serializer service: "+n),r[n](t)},serialize:function(t,r){return"function"!=typeof n[r=r||"json"]&&e.utils.clog("Unsupported type of data in serializer method of serializer service: "+r),n[r](t)}}})),TLT.addModule("TLCookie",(function(e){"use strict";var t,n,r,i={},o=[],a=0,s=!0,l=!1,u="WCXSID",c="TLTSID",d="CoreID6",f=null,h=e.utils;function p(){var e="123456789";return h.getRandomString(1,e)+h.getRandomString(31,e+"0")}function g(){var e=p(),t=!!i.secureTLTSID,n=i.samesite;return h.setCookie(c,e,void 0,void 0,void 0,t,n),h.getCookieValue(c)}function m(){if(!f&&window.cmRetrieveUserID)try{window.cmRetrieveUserID((function(e){f=e}))}catch(e){h.clog("Error when invoking cmRetrieveUserID: ",e),f=null}}function v(e){var t,n,r,i;if(localStorage&&e)return(r=localStorage.getItem(e))&&(n=r.split("|"),t=parseInt(n[0],10),Date.now()>t?localStorage.removeItem(e):i=n[1]),i}function y(e,t){var n;if(localStorage&&e)return t=t||p(),n=Date.now()+a,localStorage.setItem(e,n+"|"+t),v(e)}function w(){return o}function b(i){if(o=[],s=h.getValue(i,"sessionIDUsesCookie",!0),l=h.getValue(i,"sessionIDUsesStorage",!1),i.tlAppKey&&(r=i.tlAppKey,o.push({name:"X-Tealeaf-SaaS-AppKey",value:r})),i.visitorCookieName&&(d=i.visitorCookieName),i.wcxCookieName&&(u=i.wcxCookieName),(t=h.getCookieValue(u))&&o.push({name:"X-WCXSID",value:t}),i.sessionizationCookieName&&(c=i.sessionizationCookieName),l){a=h.getValue(i,"sessionIDStorageTTL",6e5);try{n=v(c)}catch(e){h.clog("TLCookie: Local Storage read access exception.",e),l=!1}}if(!n&&s&&(n=h.getCookieValue(c)),!n)if(t)c=u,n=t;else{if(l)try{n=y(c)}catch(e){h.clog("TLCookie: Local Storage write access exception.",e),l=!1}!n&&s&&(n=g())}e.setSessionCookieInfo(c,n),n||(n="Check7UIC7Cookie7Configuration77"),o.push({name:"X-Tealeaf-SaaS-TLTSID",value:n}),o.length&&TLT.registerBridgeCallbacks([{enabled:!0,cbType:"addRequestHeaders",cbFunction:w}])}function T(e){var t,n,r,o=!1,a=i.appCookieWhitelist;if(!a||!a.length)return o;for(t=0,n=a.length;t<n&&!o;t+=1)(r=a[t]).regex?(r.cRegex||(r.cRegex=new RegExp(r.regex,r.flags)),r.cRegex.lastIndex=0,o=r.cRegex.test(e)):o=r===e;return o}function S(){var t,n,r,i,o={},a=document.cookie,s="",l="";if(!a)return;var u=(i=a.split("; ")).length;for(u>150&&(u=150),t=0;t<u;t+=1){if((n=(r=i[t]).indexOf("="))>=0)try{s=decodeURIComponent(r.substr(0,n))}catch(e){s=r.substr(0,n)}if(l=r.substr(n+1),T(s))try{o[s]=decodeURIComponent(l)}catch(e){o[s]=l}}f&&!o[d]&&(o[d]=f),e.post({type:14,cookies:o})}return{processConfig:b,createTLTSIDCookie:g,isCookieWhitelisted:T,postAppCookies:S,init:function(){b(i=e.getConfig()||{}),m()},destroy:function(){l&&y(c,n),window.setTimeout((function(){TLT.registerBridgeCallbacks([{enabled:!1,cbType:"addRequestHeaders",cbFunction:w}])}))},onevent:function(e){if("screenview_load"===e.type)h.getValue(i,"appCookieWhitelist.length",0)&&(m(),S())}}})),TLT.addModule("dataLayer",(function(e){"use strict";var t,n,r,i=!1,o=e.utils,a=10,s=!0;function l(e,t){var n,r,i,o=-1;if(!e||!t)return o;for(n=0,r=t.length;n<r&&-1===o;n+=1)switch(typeof(i=t[n])){case"string":e===i&&(o=n);break;case"object":i.cRegex||(i.cRegex=new RegExp(i.regex,i.flags)),i.cRegex.lastIndex=0,i.cRegex.test(e)&&(o=n)}return o}function u(e,t){return l(e,t)>=0}function c(e,t){return l(e,t)>=0}function d(e,t,n,r){var i,l,c={},f=n&&n.propertyBlocklist?n.propertyBlocklist:[],h=n&&n.rootProperties?n.rootProperties:{};if(!e)return null;if(t){if((t+=1)>5&&!r||t>a)return"Serialization error: Exceeds nesting limit (5) or (10) for a permitted property."}else t=1;for(i in e)if(Object.prototype.hasOwnProperty.call(e,i))if(u(i,f))o.clog("dataLayer: Not recording blocked property '"+i+"'");else{if(1===t&&(r="",i in h&&(r=i)),!s&&!r||t>5&&r&&i!==h[r][t-1]&&n.rootProperties[r][t-1])continue;switch(typeof(l=e[i])){case"object":if(l instanceof Node)l.nodeName?(c[i]=l.nodeName.toLowerCase(),l.id&&(c[i]+="#"+l.id)):c[i]="DOMNode: unknown";else if(l instanceof Window)c[i]="DOMWindow: "+l.location.href;else try{JSON.stringify(l),c[i]=d(l,t,n,r)}catch(e){c[i]="Serialization error: "+e.message}break;case"function":o.clog("dataLayer: Not recording function value '"+i+"'");break;case"undefined":o.clog("dataLayer: Not recording undefined value '"+i+"'");break;default:c[i]=l}}return c}function f(e){var t=null;if(!e)return t;switch(typeof e){case"string":t=o.access(e);break;case"object":t=e;break;case"function":try{t=e()}catch(e){o.clog("dataLayer: Error executing configured dataObject function.",e)}}return t}function h(n){var o,a;if(i){for(o=t.dataObjects,a=0;a<o.length;a+=1)if(!c(n,o[a].rules?o[a].rules.screenviewBlocklist:[])){var l={type:19,dataLayer:{}},u=f(o[a].dataObject);if(!u)return;o[a].rules&&(s=void 0===o[a].rules.includeEverything||o[a].rules.includeEverything),l.dataLayer=d(u,0,o[a].rules),s=!0,e.post(l)}r&&(clearTimeout(r),r=null)}}return{getDataLayerObject:f,getMatchIndex:l,isPropertyBlocked:u,isScreenviewBlocked:c,processDataLayerObject:d,logDataLayers:h,init:function(){t=e.getConfig(),n=o.getValue(t,"logDelay",500),r=null,i=!0;for(var a=t.dataObjects,s=0;s<a.length;s+=1)if(a[s].rules&&a[s].rules.permittedProperties){var l=a[s].rules.permittedProperties;a[s].rules.rootProperties={};for(var u=0;u<l.length;u+=1)"string"==typeof l[u]&&(l[u]=l[u].split("."),a[s].rules.rootProperties[l[u][0]]=l[u])}},destroy:function(){t=null,r&&(clearTimeout(r),r=null),i=!1},onevent:function(e){if("object"==typeof e&&e.type)switch(e.type){case"load":r=null;break;case"screenview_load":r||(r=setTimeout((function(){h(e.name)}),n));break;case"click":case"pointerdown":h(e.name);break;case"logDataLayers":e.data&&"object"!=typeof e.data||h(e.name);break;case"unload":r&&h(e.name)}else o.clog("dataLayer: Invalid event object passed to onevent",e)},onmessage:function(e){}}})),!TLT||"function"!=typeof TLT.addModule)throw"Overstat module included but TLT is not defined!!!";if(TLT.addModule("overstat",(function(e){"use strict";var t=e.utils,n={},r={updateInterval:250,hoverThreshold:1e3,hoverThresholdMax:12e4,gridCellMaxX:10,gridCellMaxY:10,gridCellMinWidth:20,gridCellMinHeight:20},i=50;function o(t){var n=(e.getConfig()||{})[t];return"number"==typeof n?n:r[t]}function a(n,r){var i=t.getValue(n,"webEvent.target",{}),o=t.getValue(i,"element.tagName")||"",a="input"===o.toLowerCase()?t.getValue(i,"element.type"):"",s=t.getTlType(i),l={type:9,event:{hoverDuration:n.hoverDuration,hoverToClick:t.getValue(r,"hoverToClick")},target:{id:i.id||"",idType:i.idType||"",name:i.name||"",tlType:s,type:o,subType:a,position:{width:t.getValue(i,"element.offsetWidth",0),height:t.getValue(i,"element.offsetHeight",0),relXY:n.relXY}}};l.target.id&&(i.accessibility&&(l.target.accessibility=i.accessibility),i.attributes&&(l.target.attributes=i.attributes),t.clog("Overstat - posted hover event"),t.clog(l),e.post(l))}function s(e){return e&&!e.nodeType&&e.element&&(e=e.element),e}function l(e){return!(e=s(e))||e===document.body||e===document.html||e===document}function u(e){return(e=s(e))?e.parentNode:null}function c(e){return(e=s(e))?e.offsetParent||e.parentElement||u(e):null}function d(e){var t=function(e){return(e=s(e))&&e.tagName?e.tagName.toUpperCase():""}(e);return 1!==function(e){return(e=s(e))&&e.nodeType||-1}(e)||"TR"===t||"TBODY"===t||"THEAD"===t}function f(r,l,u,c){var d;this.xPath=null!==r?(d=r)?d.xPath?d.xPath:(d=s(d),e.getXPathFromNode(d)):"":"",this.domNode=r,this.hoverDuration=0,this.hoverUpdateTime=0,this.gridX=Math.max(l,0),this.gridY=Math.max(u,0),this.parentKey="",this.updateTimer=-1,this.disposed=!1,this.childKeys={},this.webEvent=c,this.getKey=function(){return this.xPath+":"+this.gridX+","+this.gridY},this.update=function(){var e=(new Date).getTime(),t=this.getKey();0!==this.hoverUpdateTime&&(this.hoverDuration+=e-this.hoverUpdateTime),this.hoverUpdateTime=e,clearTimeout(this.updateTimer),this.updateTimer=setTimeout((function(){!function(e,t){var r=n[e];if(r&&r[t])r[t]()}(t,"update")}),o("updateInterval"))},this.dispose=function(e){if(clearTimeout(this.updateTimer),delete n[this.getKey()],this.disposed=!0,e){var t=this.clone();n[t.getKey()]=t,t.update()}},this.process=function(e){if(clearTimeout(this.updateTimer),this.disposed)return!1;var r=!1,s=this,l=0;if(this.hoverDuration>=o("hoverThreshold")){for(this.hoverDuration=Math.min(this.hoverDuration,o("hoverThresholdMax")),r=!0,a(this,{hoverToClick:!!e});void 0!==s&&l++<i;)s.dispose(e),s=n[s.parentKey];l>=i&&t.clog("Overstat process() hit iterations limit")}else this.dispose(e);return r},this.clone=function(){var e=new f(this.domNode,this.gridX,this.gridY);return e.parentKey=this.parentKey,e}}function h(e,n,r){var o=function(e){if(e&&e.position)return{x:e.position.x,y:e.position.y};for(var n=(e=s(e))&&e.getBoundingClientRect?e.getBoundingClientRect():null,r=n?n.left:e?e.offsetLeft:0,o=n?n.top:e?e.offsetHeight:0,a=r,u=o,d=0,f=0,h=c(e),p=0;h&&p++<i&&!l(h);)d=h.offsetLeft-(h.scrollLeft||0),f=h.offsetTop-(h.scrollTop||0),d===a&&f===u||(r+=d,o+=f,a=d,u=f),h=c(h);return p>=i&&t.clog("Overstat calculateNodeOffset() hit iterations limit"),isNaN(r)&&(r=0),isNaN(o)&&(o=0),{x:r,y:o}}(e=s(e)),a=n-o.x,u=r-o.y;return isFinite(a)||(a=0),isFinite(u)||(u=0),{x:a,y:u}}function p(e,t){return(e=Math.floor(1e4*Math.min(Math.max(e,0),1))/1e4)+","+(t=Math.floor(1e4*Math.min(Math.max(t,0),1))/1e4)}function g(e){var r=e,o={},a=null,s=!1,l=0;for(o[e.getKey()]=!0;void 0!==r&&l++<i&&(o[r.parentKey]=!0,""!==r.parentKey&&r.parentKey!==r.getKey());)l>=i&&t.clog("Overstat cleanupHoverEvents() hit iterations limit"),r=n[r.parentKey];for(a in n)n.hasOwnProperty(a)&&!o[a]&&(r=n[a])&&(s?r.dispose():s=r.process())}function m(e,r,i){return r||(r=e.target),l(r)||t.isiOS||t.isAndroid?null:(d(r)?v=m(e,c(r),i):(u=function(e,t,n){var r=(e=s(e)).getBoundingClientRect?e.getBoundingClientRect():null,i=r?r.width:e.offsetWidth,a=r?r.height:e.offsetHeight,l=i&&i>0?Math.max(i/o("gridCellMaxX"),o("gridCellMinWidth")):o("gridCellMinWidth"),u=a&&a>0?Math.max(a/o("gridCellMaxY"),o("gridCellMinHeight")):o("gridCellMinHeight"),c=Math.min(Math.floor(t/l),o("gridCellMaxX")),d=Math.min(Math.floor(n/u),o("gridCellMaxY")),f=i>0?t/i:0,h=a>0?n/a:0;return isFinite(c)||(c=0),isFinite(d)||(d=0),{x:c,y:d,relXY:p(f,h)}}(r,(a=h(r,e.position.x,e.position.y)).x,a.y),(v=new f(r,u.x,u.y,e)).relXY=u.relXY,y=v.getKey(),n[y]?v=n[y]:n[y]=v,v.update(),i||((T=c(r))&&null!==(b=m(e,T,!0))&&(w=b.getKey(),(y=v.getKey())!==w&&(v.parentKey=w)),g(v))),v);var a,u,v,y,w,b,T}function v(e){(function(e,n){var r=0;if(!n||n===e)return!1;for(n=u(n);!l(n)&&r++<i;){if(n===e)return!0;n=u(n)}return r>=i&&t.clog("Overstat isChildOf() hit iterations limit"),!1})((e=function(e){return e.nativeEvent&&(e=e.nativeEvent),e}(e)).target,e.relatedTarget)||function(e,t){var r=null,i=null,o=!1;for(i in n)n.hasOwnProperty(i)&&(r=n[i])&&r.domNode===e&&r.getKey()!==t&&(o?r.dispose():o=r.process())}(e.target)}function y(r){if(t.getValue(r,"target.id"))switch(r.type){case"mousemove":m(r);break;case"mouseout":v(r);break;case"click":!function(e){var t=null,r=null,i=!1;for(r in n)n.hasOwnProperty(r)&&(t=n[r])&&(i?t.dispose():i=t.process(!0))}();break;case"submit":e.performFormCompletion(!0)}}return{DEBUG:1,formatRelXY:p,postUIEvent:a,init:function(){},destroy:function(){var e;for(e in n)n.hasOwnProperty(e)&&(n[e].dispose(),delete n[e])},onevent:function(e){"object"==typeof e&&e.type&&y(e)},onmessage:function(e){},createHoverEvent:function(e,t,n,r){return new f(e,t,n,r)},cleanupHoverEvents:g,eventMap:n}})),!TLT||"function"!=typeof TLT.addModule)throw"Performance module included but TLT is not defined!!!";TLT.addModule("performance",(function(e){"use strict";var t,n,r,i={loadReceived:!1,unloadReceived:!1,perfEventSent:!1},o=null,a=null,s={},l=0,u=e.utils,c="https:"===window.location.protocol,d=[],f=0,h={enabled:!1,resourceTypes:[],blacklist:[]};function p(e){var t,n={},r="",i=0;if(!e||"object"!=typeof e||!e.navigationStart)return{};for(r in t=e.navigationStart,e)(Object.prototype.hasOwnProperty.call(e,r)||"number"==typeof e[r])&&(i=e[r],n[r]="number"==typeof i&&i&&"navigationStart"!==r?i-t:i);return n}function g(e){var t,n,r=0;return e&&(t=e.responseEnd>0&&e.responseEnd<e.domLoading?e.responseEnd:e.domLoading,n=e.loadEventStart,u.isNumeric(t)&&u.isNumeric(n)&&n>t&&(r=n-t)),r}function m(n,r){var a,s,u,c,d,f,h,m,v,y={type:7,performance:{}};if(n&&!i.perfEventSent){if(v=(f=n.performance||{}).timing,d=f.navigation,v){if(!v.loadEventStart&&!r)return;y.performance.timing=p(v),y.performance.timing.renderTime=g(v)}else{if(!t.calculateRenderTime)return;y.performance.timing={renderTime:l,calculated:!0}}if(c=y.performance.timing,t.renderTimeThreshold&&c.renderTime>t.renderTimeThreshold&&(c.invalidRenderTime=c.renderTime,delete c.renderTime),f.getEntriesByType)for(a=0,s=(h=f.getEntriesByType("paint")).length;a<s;a+=1)(m=h[a]).startTime>0&&(c[m.name]=Math.round(m.startTime));if(!c["first-paint"]&&c.msFirstPaint&&(c["first-paint"]=c.msFirstPaint,delete c.msFirstPaint),d){switch(d.type){case 0:u="NAVIGATE";break;case 1:u="RELOAD";break;case 2:u="BACKFORWARD";break;default:u="UNKNOWN"}y.performance.navigation={type:u,redirectCount:d.redirectCount}}e.post(y),i.perfEventSent=!0,o&&(clearInterval(o),o=null)}}function v(t){var n={type:20,violations:{}},r=n.violations;t&&t.length&&(r.total=t.length,t.splice(10),r.urls=t,e.post(n))}function y(t){var n,i,o,a,s,l,u=r.blacklist;if(t&&t.name&&(i=t.name,o=t.initiatorType,c&&0===i.indexOf("http:")&&d.push(i),!(r.hasOwnProperty("maxAlerts")&&f>=r.maxAlerts||r.hasOwnProperty("threshold")&&t.duration<r.threshold||t.transferSize&&t.transferSize<t.encodedBodySize||t.responseStart===t.responseEnd||r.resourceTypes.length>0&&-1===r.resourceTypes.indexOf(o)))){for(s=!1,n=0;n<u.length;n+=1)switch(typeof(a=u[n])){case"object":a.cRegex||(a.cRegex=new RegExp(a.regex,a.flags)),a.cRegex.lastIndex=0,a.cRegex.test(i)&&(s=!0);break;case"string":-1!==i.indexOf(a)&&(s=!0)}s||(f+=1,l={urlNormalized:e.normalizeUrl(i,17),url:i,initiator:o,duration:Math.round(t.duration),responseEnd:Math.round(t.responseEnd)},void 0!==t.transferSize&&(l.transferSize=t.transferSize,t.duration&&(l.bps=Math.round(t.transferSize/t.duration*1e3))),e.post({type:17,resourceData:l}))}}function w(){s={},a&&(clearTimeout(a),a=null)}function b(){var t={type:20,pageExperience:u.clone(s)};(s.fid||s.lcp||s.cls)&&(t.pageExperience.https="https:"===window.location.protocol,e.post(t),w())}function T(e){if(e&&e.name){switch(e.name){case"FID":s.fid=Math.round(e.value);break;case"LCP":s.lcp=Math.round(e.value);break;case"CLS":s.cls=Number(e.value.toFixed(2))}void 0!==s.fid&&void 0!==s.lcp&&void 0!==s.cls&&b()}}function S(){var e;t&&t.pageExperience&&t.pageExperience.enabled&&(w(),(e=t.pageExperience.api).getCLS(T),e.getLCP(T),e.getFID(T),a=setTimeout(b,3e5))}function _(){var e;t&&u.getValue(t,"pageExperience.enabled",!0)&&(t.pageExperience=t.pageExperience||{},!(e=t.pageExperience).api&&window.webVitals&&(e.api={getCLS:webVitals.getCLS,getLCP:webVitals.getLCP,getFID:webVitals.getFID}),e.api?e.enabled=!0:(e.enabled=!1,u.clog("Performance Module: Web Vitals JS not found. Page Experience Signals will not be logged.")))}return{parseTiming:p,getRenderTime:g,postPerformanceEvent:m,postMixedModeViolations:v,processPerformanceEntry:y,initPageExperience:_,logPageExperience:S,collectVitals:T,postPageExperienceMsg:b,init:function(){t=e.getConfig(),r=u.mixin({},h,t.performanceAlert),_()},destroy:function(){b(),o&&(clearInterval(o),o=null,m(window,!0)),n&&n.disconnect(),c&&(v(d),d=[]),t=null},onevent:function(a){var s;if("object"==typeof a&&a.type)switch(a.type){case"load":i.loadReceived=!0,function(t){var n=e.getStartTime();t.timestamp>n&&!l&&(l=t.timestamp-n)}(a),i.perfEventSent||o||(o=setInterval((function(){e.isInitialized()&&m(window)}),u.getValue(t,"delay",2e3))),r.enabled&&"function"==typeof window.PerformanceObserver&&(n=new window.PerformanceObserver((function(e,t){u.forEach(e.getEntries(),y)})),s=window.performance.getEntriesByType("resource"),setTimeout((function(){u.forEach(s,y)})),n.observe({entryTypes:["resource"]}));break;case"screenview_load":S(),i.perfEventSent||m(window);break;case"screenview_unload":default:break;case"unload":i.unloadReceived=!0,b(),i.perfEventSent||m(window)}else u.clog("Invalid event object passed to onevent: ",a)},onmessage:function(e){}}})),TLT.addModule("replay",(function(e){"use strict";var t,n=e.utils,r=0,i={scale:0,timestamp:0},o={},a=null,s=[],l=!0,u=null,c=null,d=null,f=(new Date).getTime(),h=null,p="root",g=null,m=null,v=null,y=null,w=null,b={inFocus:!1},T=null,S=e.getConfig()||{},_=n.getValue(S,"viewPortWidthHeightLimit",1e4),x=1,E=1,C={},k=n.getValue(S,"mousemove")||{},O=k.sampleRate,L=k.ignoreRadius,I=null,M=[],D=[],P={},A=0,R=1e3,z=0,N=[],U=[],V="visible"===document.visibilityState;function F(e){var t=!1,n=null;if("object"!=typeof e||!e.type)return t;switch(e.type.toLowerCase()){case"input":n="|"+(e.subType||"")+"|",t=-1!=="|button|image|submit|reset|".indexOf(n.toLowerCase());break;case"select":case"textarea":t=!1;break;default:t=!0}return t}function H(e){var t=[];for(e=e.parentNode;e;)t.push(e),e=e.parentNode;return t}function j(e){return n.some(e,(function(e){var t=n.getTagName(e);return"a"===t||"button"===t?e:null}))}function X(e){var t=e.type,n=e.target;if("blur"===(t="string"==typeof t?t.toLowerCase():"unknown")&&(t="focusout"),"change"===t)if("INPUT"===n.type)switch(n.subType){case"text":case"date":case"time":t=n.subType+"Change";break;default:t="valueChange"}else t="TEXTAREA"===n.type?"textChange":"valueChange";return t}function q(e,t,n){var r;if(document.querySelector(e))return!0;for(r=0;r<t.length;r++)if(t[r].querySelector(e))return!0;for(r=0;r<n.length;r++)if(n[r].querySelector(e))return!0;return!1}function B(t,r,i){var o,a,s,l,u,c,d,f,h;for(o=0;o<U.length;o++)a=(d=U[o]).delayUntil.selector,s=n.getValue(d.delayUntil,"exists",!0),l=d.delayUntil.dualSnapshot||!1,u=q(a,r,i),c=d.lastStatus||!1,f=d.config||{},h=d.timerId,(!0===s&&!0===u&&!1===c||!1===s&&!1===u&&!0===c||!0===l&&!0===u&&!1===c||!0===l&&!1===u&&!0===c)&&(e.performDOMCapture(document,f),l&&!1!==u||(U.splice(o--,1),0===U.length&&TLT.registerMutationCallback(B,!1),h&&clearTimeout(h))),d.lastStatus=u}function Y(t,r,i){var o,a=null;return t?((r=r||{}).eventOn=l,l=!1,i?(a="dcid-"+n.getSerialNumber()+"."+(new Date).getTime()+"s","object"==typeof i?(r.dcid=a,o={config:r,delayUntil:i,lastStatus:!1},U.push(o),TLT.registerMutationCallback(B,!0),void 0!==i.timeout&&i.timeout>=0&&(o.timerId=window.setTimeout((function(){!function(t){var n,r;for(n=0;n<U.length;n+=1)(r=U[n].config||{}).dcid===t&&(r.timeoutExpired=!0,e.performDOMCapture(document,r),U.splice(n--,1),0===U.length&&TLT.registerMutationCallback(B,!1))}(a)}),i.timeout))):window.setTimeout((function(){r.dcid=a,e.performDOMCapture(t,r)}),i)):(delete r.dcid,a=e.performDOMCapture(t,r)),a):a}function W(t,n){var r,i,o,a;for(r=0,i=t.length;r<i;r+=1)switch(o=t[r],a=n&&0===n.indexOf("#")?location.pathname+n:void 0===n||n===p?location.pathname+location.hash:n,a=e.normalizeUrl(a,2),typeof o){case"object":if(o.cRegex||(o.cRegex=new RegExp(o.regex,o.flags)),o.cRegex.lastIndex=0,o.cRegex.test(a))return!0;break;case"string":if(o===a)return!0}return!1}function K(){var t,n=!1;if(k.enabled&&!window.hasOwnProperty("ontouchstart")&&0!==M.length)return A>=R&&(n=!0),t={type:18,mousemove:{elements:D.slice(0),data:M.slice(0),config:{ignoreRadius:k.ignoreRadius,sampleRate:k.sampleRate},limitReached:n,maxInactivity:z}},e.post(t),D.length=0,M.length=0,P={},z=0,t}function Q(t,r,i){var o,a,s,l,u,c,d,f,h=!1,p={},g=null,m=0;if(!t||!r&&!i)return g;if(!r&&"load"!==t&&"unload"!==t)return g;if(S=e.getConfig()||{},!n.getValue(S,"domCapture.enabled",!1)||n.isLegacyIE)return g;if(W(n.getValue(S,"domCapture.screenviewBlacklist",[]),i))return g;for(o=0,u=(l=n.getValue(S,"domCapture.triggers")||[]).length;!h&&o<u;o+=1){if((s=l[o]).event===t)if("load"===t||"unload"===t)if(s.screenviews)for(a=0,f=(d=s.screenviews).length;!h&&a<f;a+=1)switch(typeof(c=d[a])){case"object":c.cRegex||(c.cRegex=new RegExp(c.regex,c.flags)),c.cRegex.lastIndex=0,h=c.cRegex.test(i);break;case"string":h=c===i}else h=!0;else h=!s.targets||-1!==n.matchTarget(s.targets,r);"change"===s.event&&s.delayUntil&&(N=N.concat(s.targets))}return h&&(m=s.delay||s.delayUntil||("load"===s.event?7:0),p.forceFullDOM=!!s.fullDOMCapture,(g=Y(window.document,p,m))&&K()),g}function J(e){var t,r,i=n.getValue(e,"webEvent.target",{}),o=i.type,a=i.subType||"",s=n.getTlType(i),l=H(n.getValue(i,"element")),u=n.getValue(e,"webEvent.subType",null);return t={timestamp:n.getValue(e,"webEvent.timestamp",0),type:4,target:{id:i.id||"",idType:i.idType,name:i.name,tlType:s,type:o,position:{width:n.getValue(i,"size.width"),height:n.getValue(i,"size.height")},currState:e.currState||null},event:{tlEvent:X(n.getValue(e,"webEvent")),type:n.getValue(e,"webEvent.type","UNKNOWN")}},i.accessibility&&(t.target.accessibility=i.accessibility),i.attributes&&(t.target.attributes=i.attributes),a&&(t.target.subType=a),"number"==typeof e.dwell&&e.dwell>0&&(t.target.dwell=e.dwell),"number"==typeof e.visitedCount&&(t.target.visitedCount=e.visitedCount),void 0!==e.prevState&&(t.prevState=e.prevState),u&&(t.event.subType=u),r=j(l),t.target.isParentLink=!!r,r&&(r.href&&(t.target.currState=t.target.currState||{},t.target.currState.href=t.target.currState.href||r.href),r.value&&(t.target.currState=t.target.currState||{},t.target.currState.value=t.target.currState.value||r.value),(r.innerText||r.textContent)&&(t.target.currState=t.target.currState||{},t.target.currState.innerText=n.trim(t.target.currState.innerText||r.innerText||r.textContent))),n.isUndefOrNull(t.target.currState)&&delete t.target.currState,n.isUndefOrNull(t.target.name)&&delete t.target.name,t}function G(t){e.post(t)}function Z(t){var n,r,i,o,a,s=t.length,l={mouseout:!0,mouseover:!0},u=[];for(n=0;n<s;n+=1)if(i=t[n])if(l[i.event.type])u.push(i);else{for(r=n+1;r<s&&t[r]&&l[t[r].event.type];r+=1);r<s&&(o=t[r])&&i.target.id===o.target.id&&i.event.type!==o.event.type&&("click"===i.event.type&&(a=i,i=o,o=a),"click"===o.event.type?(i.target.position=o.target.position,n+=1):"blur"===o.event.type&&(i.target.dwell=o.target.dwell,i.target.visitedCount=o.target.visitedCount,i.focusInOffset=o.focusInOffset,i.target.position=o.target.position,n+=1),t[r]=null,t[n]=i),u.push(t[n])}for(i=u.shift();i;i=u.shift())e.post(i);t.splice(0,t.length)}function $(e,t){s.push(J({webEvent:e,id:t,currState:n.getValue(e,"target.state")}))}function ee(e,t,r){var i,a,l,u=!1;e&&0!==s.length&&(t=t||(o[e]?o[e].webEvent:{}))&&((l="blur"===t.type||"change"===t.type?n.getValue(t,"target.state",{}):t.target&&n.getTargetState(t.target.element)||{})&&l.disabled&&(r=!0),a=s[s.length-1],o[e]?(a.focusInOffset=o[e].focusInOffset,a.target.visitedCount=o[e].visitedCount,o[e].focus&&(o[e].dwell=Number(new Date)-o[e].focus,a.target.dwell=o[e].dwell),o[e].processedChange||!o[e].prevState||r||n.isEqual(o[e].prevState,l)||(t.type="change",a.event.type=t.type,a.event.tlEvent=X(t),a.target.prevState=o[e].prevState,a.target.currState=l)):o[e]={},"click"===a.event.type?F(a.target)||(a.target.currState=l,u=!0):"focus"===a.event.type&&(u=!0),u&&!r&&(a.event.type="blur",a.event.tlEvent="focusout"),a.dcid||(i=Q(a.event.type,t.target))&&(a.dcid=i),r||(b.inFocus=!1),o[e].prevState=l?n.mixin({},l):l,Z(s))}function te(e,t){var r=s.length,i=r?s[r-1]:null;b.inFocus&&b.target.id===e?i&&i.target.id===e||($(t,e),o[e].processedChange=!1,o[e].processedClick=!1):(b.inFocus&&ee(b.target.id,b),(b=t).inFocus=!0,o[e]||(o[e]={}),o[e].focus=b.dwellStart=Number(new Date),o[e].focusInOffset=m?b.dwellStart-Number(m):-1,"focus"===t.type?o[e].prevState=n.getValue(t,"target.state"):"click"!==t.type||o[e].prevState||(o[e].prevState=n.getValue(t,"target.state"),!o[e].prevState||"checkbox"!==t.target.subType&&"radio"!==t.target.subType||(o[e].prevState.checked=!o[e].prevState.checked)),o[e].visitedCount=o[e].visitedCount+1||1,o[e].webEvent=t,o[e].processedChange=!1,o[e].processedClick=!1,s.length&&console.warn("Focus on ["+e+"] but tmpQueue is not empty!",s),$(t,e))}function ne(e,t){var r;te(e,t),(r=s[s.length-1]).event.type="change",r.event.tlEvent=X(t),r.target.currState=t.target.state,o[e].prevState&&(r.target.prevState=o[e].prevState,"boolean"==typeof r.target.currState.checked&&(r.target.prevState.checked=!r.target.currState.checked)),o[e].webEvent=t,o[e].processedChange=!0,-1!==n.matchTarget(N,t.target)&&ee(e,t)}function re(e,t){var r,i;"select"===t.target.type&&T&&T.target.id===e?T=null:(te(e,t),"focus"===(r=s[s.length-1]).event.type&&(r.event.type="click",r.event.tlEvent=X(t)),(i=t.nativeEvent)&&(!window.MouseEvent||!(i instanceof MouseEvent&&0===i.detail)||window.PointerEvent&&i instanceof PointerEvent&&""!==i.pointerType)&&(r.target.position.relXY=n.getValue(t,"target.position.relXY")),o[e].processedChange||(o[e].webEvent=t),o[e].processedClick=!0,F(t.target)&&ee(e,t,!0),T=t)}function ie(e,t){var r=e;if(n.getValue(t,"target.element.disabled",!1))switch(t.type){case"pointerdown":d=r;break;case"pointerup":r===d&&(t.type="click",re(e,t)),d=null}}function oe(t){var r,i,o,a,s,l,u=0;if(k.enabled&&!window.hasOwnProperty("ontouchstart")&&!(A>=R)){if(r={element:{id:t.target.id,idType:t.target.idType},x:t.position.x,y:t.position.y,offset:e.getCurrentOffset()},null!==I){if(u=r.offset-I.offset,O&&u<O)return;if(s=Math.abs(r.x-I.x),l=Math.abs(r.y-I.y),L&&(s>l?s:l)<L)return;u>z&&(z=u)}i=JSON.stringify(r.element),void 0===(o=P[i])&&(D.push(r.element),o=D.length-1,P[i]=o),a=n.getValue(t,"target.position.relXY").split(","),M.push([o,a[0],a[1],r.offset]),A+=1,I=r}}function ae(e){var t=e.orientation;G({type:4,event:{type:"orientationchange"},target:{prevState:{orientation:r,orientationMode:n.getOrientationMode(r)},currState:{orientation:t,orientationMode:n.getOrientationMode(t)}}}),r=t}function se(){var e;return e=x-E,isNaN(e)?"INVALID":e<0?"CLOSE":e>0?"OPEN":"NONE"}function le(){var e;u&&((e=u.clientState).viewPortHeight>0&&e.viewPortHeight<_&&e.viewPortWidth>0&&e.viewPortWidth<_&&G(u),c=u,u=null,v=w||v,y=null),le.timeoutId=0}function ue(e){var t=null;if(!n.isOperaMini)return u=function(e){var t,r=document.documentElement||{},i=document.body||{},o=window.screen,a=o.width,s=o.height,l=n.getValue(e,"orientation",0),u=n.isiOS&&90===Math.abs(l)?s:a,d={type:1,clientState:{pageWidth:Math.max(i.clientWidth||0,r.offsetWidth||0,r.scrollWidth||0),pageHeight:Math.max(i.clientHeight||0,r.offsetHeight||0,r.scrollHeight||0),viewPortWidth:window.innerWidth||r.clientWidth,viewPortHeight:window.innerHeight||r.clientHeight,viewPortX:Math.round(window.pageXOffset||(r||i).scrollLeft||0),viewPortY:Math.round(window.pageYOffset||(r||i).scrollTop||0),deviceOrientation:l,event:n.getValue(e,"type")}},f=d.clientState;return c=c||d,"unload"===f.event&&f.viewPortHeight===f.pageHeight&&f.viewPortWidth===f.pageWidth&&c.clientState.viewPortHeight<f.viewPortHeight&&(f.viewPortHeight=c.clientState.viewPortHeight,f.viewPortWidth=c.clientState.viewPortWidth),f.viewPortY+f.viewPortHeight>f.pageHeight&&(f.viewPortY=f.pageHeight-f.viewPortHeight),f.viewPortY<0&&(f.viewPortY=0),t=f.viewPortWidth?u/f.viewPortWidth:1,f.deviceScale=t.toFixed(3),f.viewTime=0,v&&y&&(f.viewTime=y.getTime()-v.getTime()),"scroll"===e.type&&(f.viewPortXStart=c.clientState.viewPortX,f.viewPortYStart=c.clientState.viewPortY),d}(e),"scroll"===e.type||"resize"===e.type?(le.timeoutId&&window.clearTimeout(le.timeoutId),le.timeoutId=window.setTimeout(le,n.getValue(S,"scrollTimeout",2e3))):"touchstart"===e.type||"load"===e.type?u&&(E=parseFloat(u.clientState.deviceScale)):"touchend"===e.type&&u&&(x=parseFloat(u.clientState.deviceScale),le()),"load"!==e.type&&"unload"!==e.type||("unload"===e.type&&f&&((t=n.clone(u)).clientState.event="attention",t.clientState.viewTime=(new Date).getTime()-f),le(),t&&(u=t,le())),u}function ce(e,t){var r,i,o=["type","name","target.id"],a=null,s=!0,l=0,u=0,c=0;if(!e||!t||"object"!=typeof e||"object"!=typeof t)return!1;for(r=0,i=o.length;s&&r<i;r+=1)if(a=o[r],n.getValue(e,a)!==n.getValue(t,a)){s=!1;break}return s&&(u=n.getValue(e,"timestamp"),c=n.getValue(t,"timestamp"),isNaN(u)&&isNaN(c)||(l=Math.abs(n.getValue(e,"timestamp")-n.getValue(t,"timestamp")),(isNaN(l)||l>10)&&(s=!1))),s}function de(e){var t,r={type:4,event:{tlEvent:X(e),type:e.type},target:{id:n.getValue(e,"target.id"),idType:n.getValue(e,"target.idType"),currState:n.getValue(e,"target.state")}};(t=Q(e.type,e.target))&&(r.dcid=t),G(r)}return{currOrientation:r,pastEvents:o,lastEventId:a,getTmpQueue:function(){return s},getPendingQueue:function(){return U},postEventQueue:Z,eventCounter:0,curClientState:u,getViewEventStart:function(){return g},setViewEventStart:function(e){g=e},viewTimeStart:m,parentElements:H,getParentLink:j,createQueueEvent:J,postUIEvent:G,handleFocus:te,handleBlur:ee,handleChange:ne,handleClick:re,handleOrientationChange:ae,handleClientState:ue,getPinchType:se,saveTouchState:function(e){i.scale=e.scale,i.rotation=e.rotation,i.timestamp=(new Date).getTime()},isDuplicateTouch:function(e){var t=!1;return e?t=i.scale===e.scale&&Math.abs((new Date).getTime()-i.timestamp)<500:t},getTlEvent:X,isDuplicateEvent:ce,scheduleDOMCapture:Y,addDOMCapture:Q,mutationDomCapture:B,isTargetClickable:F,defaultEventHandler:de,isScreenviewBlacklisted:W,handleMousemove:oe,logMousemove:K,init:function(){s=[]},destroy:function(){ee(a),s=[],le.timeoutId&&(window.clearTimeout(le.timeoutId),le.timeoutId=0)},onevent:function(i){var l,u,c,d,f,g=null,b=null;if("object"==typeof i&&i.type){if(!ce(i,h)){switch(h=i,"undefined"!=typeof console&&console.log("Replay event["+i.type+"]: ",i),l=n.getValue(i,"target.id"),o[l]||(o[l]={}),function(e,t){var r,i=!1,a=s.length,l=a?s[a-1]:null;l&&((r=l.target.id)!==e&&"selectList"!==l.target.tltype&&("focus"!==t.type&&"click"!==t.type&&"change"!==t.type&&"blur"!==t.type&&"unload"!==t.type||(ee(r),i=!0)),r===e&&("click"===t.type&&o[e].processedClick||"change"===t.type&&o[e].processedChange||"pointerup"===t.type&&o[e].processedClick&&n.getValue(t.target,"state.disabled",!1))&&(ee(r,null,!0),i=!0))}(l,i),i.type){case"hashchange":break;case"focus":te(l,i);break;case"blur":ee(l,i);break;case"pointerdown":case"pointerup":ie(l,i);break;case"click":re(l,i);break;case"change":ne(l,i);break;case"orientationchange":ae(i);break;case"touchstart":!function(e){2===n.getValue(e,"nativeEvent.touches.length",0)&&ue(e)}(i);break;case"touchend":!function(e){var t={},r=n.getValue(e,"nativeEvent.rotation",0)||n.getValue(e,"nativeEvent.touches[0].webkitRotationAngle",0),i=null,o={type:4,event:{type:"touchend"},target:{id:n.getValue(e,"target.id"),idType:n.getValue(e,"target.idType")}};2===n.getValue(e,"nativeEvent.changedTouches.length",0)+n.getValue(e,"nativeEvent.touches.length",0)&&(ue(e),(i={rotation:r?r.toFixed(2):0,scale:x?x.toFixed(2):1}).pinch=se(),t.scale=E?E.toFixed(2):1,o.target.prevState=t,o.target.currState=i,G(o))}(i);break;case"loadWithFrames":TLT.logScreenviewLoad("rootWithFrames");break;case"load":r=i.orientation,v=new Date,("number"!=typeof n.getOrientationAngle()||n.isAndroid)&&(c=window.screen.width>window.screen.height?90:0,u=n.getOrientationAngle(),Math.abs(u)===c||180===u&&0===c||270===u&&90===c||(n.isLandscapeZeroDegrees=!0,180===Math.abs(u)||0===Math.abs(u)?r=90:90!==Math.abs(u)&&270!==Math.abs(u)||(r=0))),setTimeout((function(){e.isInitialized()&&ue(i)}),100),t=n.getValue(S,"forceRootScreenview",!1)?p:e.normalizeUrl(location.hash,2)||p,TLT.logScreenviewLoad(t);break;case"screenview_load":m=new Date,function(){var e;for(e in o)o.hasOwnProperty(e)&&(o[e].visitedCount=0)}(),g=Q("load",null,i.name);break;case"screenview_unload":g=Q("unload",null,i.name);break;case"resize":case"scroll":y||(y=new Date),w=new Date,ue(i);break;case"unload":for(d in C)C.hasOwnProperty(d)&&(f=C[d].exception).repeats>1&&(b={type:6,exception:f},e.post(b));s&&Z(s),y=new Date,ue(i),t!==p&&e.normalizeUrl(location.hash,2)!==t||TLT.logScreenviewUnload(t);break;case"mousemove":oe(i);break;case"error":!function(t){var r,i=null,o=n.getValue(t,"nativeEvent.message"),a=n.getValue(t,"nativeEvent.filename",""),s=n.getValue(t,"nativeEvent.lineno",-1),l=n.getValue(t,"nativeEvent.error");"string"==typeof o&&(a&&(a=e.normalizeUrl(a,6)),r=l&&l.stack?l.stack.toString():(o+" "+a+" "+s).toString(),C[r]?C[r].exception.repeats=C[r].exception.repeats+1:(i={type:6,exception:{description:o,url:a,line:s}},e.post(i),C[r]={exception:{description:o,url:a,line:s,repeats:1}}),1)}(i);break;case"visibilitychange":!function(e){var t,n="visible"===document.visibilityState,r={type:4,event:{type:"visibilitychange"},target:{prevState:{visible:V},currState:{visible:n}}};(t=Q(e.type,e.target))&&(r.dcid=t),G(r),V=n}(i);break;default:de(i)}return a=l,g}h=i}},onmessage:function(){}}}));


/**
 * Copyright (c) 2023 Acoustic, L.P. All rights reserved.
 *
 * NOTICE: This file contains material that is confidential and proprietary to
 * Acoustic, L.P. and/or other developers. No license is granted under any intellectual or
 * industrial property rights of Acoustic, L.P. except as may be provided in an agreement with
 * Acoustic, L.P. Any unauthorized copying or distribution of content from this file is
 * prohibited.
 *
 */

// ***Tealeaf configuration for SDK 6.4.20 - South China Insurance - ecover Car***
(function () {
    "use strict";
    var config,
        TLT = window.TLT,
        isWebkit = /WebKit/i.test(navigator.userAgent);

    if (TLT.utils.isLegacyIE) {
        if (console) {
            console.warn("This version of the UIC does not support Internet Explorer 8.");
            console.info("Applications requiring Internet Explorer 8 (or below) support should use UIC 5.2.0");
        }
        TLT.terminationReason = "Unsupported browser";
        return;
    }

    config =
    {
        core: {
            buildNote: "2023_ecover_CustomizedMOD_Car",
            blockedElements: ["#cdk-overlay-3","#mat-datepicker-1"],
            modules: {
                overstat: {
                    events: [
                        { name: "click", recurseFrames: true },
                        { name: "mousemove", recurseFrames: true },
                        { name: "mouseout", recurseFrames: true },
                        { name: "submit", recurseFrames: true }
                    ]
                },
                performance: {
                    events: [
                        { name: "load", target: window },
                        { name: "unload", target: window }
                    ]
                },
                replay: {
                    events: [
                        { name: "change", attachToShadows: true, recurseFrames: true },
                        { name: "click", recurseFrames: true },
                        { name: "dblclick", recurseFrames: true },
                        { name: "contextmenu", recurseFrames: true },
                        { name: "pointerdown", recurseFrames: true },
                        { name: "pointerup", recurseFrames: true },
                        { name: "hashchange", target: window },
                        { name: "focus", recurseFrames: true },
                        { name: "blur", recurseFrames: true },
                        { name: "load", target: window},
                        { name: "unload", target: window},
                        { name: "resize", target: window},
                        { name: "scroll", target: window},
                        { name: "mousemove", recurseFrames: true },
                        { name: "orientationchange", target: window},
                        { name: "touchend" },
                        { name: "touchstart" },
                        { name: "error", target: window},
                        { name: "visibilitychange" }
                    ]
                },
                dataLayer: {
                    enabled: false,
                    events: [
                        { name: "load", target: window },
                        { name: "unload", target: window }
                    ]
                },
                TLCookie: {
                    enabled: true
                }
            },

            normalization: {
                urlFunction: function (urlOrPath, messageType) {
                    return urlOrPath;
                }
            },

            sessionDataEnabled: false,
            sessionData: {
                sessionValueNeedsHashing: true,
                sessionQueryName: "sessionID",
                sessionQueryDelim: ";",
                sessionCookieName: "jsessionid"
            },
            screenviewAutoDetect: true,
            framesBlacklist: [
                //"#iframe1"
            ]
        },
        services: {
            queue: {
                asyncReqOnUnload: isWebkit,
                useBeacon: true,
                queues: [
                    {
                        qid: "DEFAULT",
                        endpoint: "https://lib-us-2.brilliantcollector.com/collector/collectorPost",
                        //endpoint: "https://lib-us-1.brilliantcollector.com/collector/collectorPost",
                        maxEvents: 50,
                        timerInterval: 300000,
                        maxSize: 300000,
                        checkEndpoint: false,
                        endpointCheckTimeout: 3000,
                        encoder: "gzip"
                    }
                ]
            },
            message: {
                privacy: [
               /*     {
                        //exclude: true,
                        targets: [
                            "input[type=password]",
                            "input[type=hidden]",
                            //{ id: "[[\"navbarContent\"],[\"ul\",0],[\"li\",8],[\"a\",0]]", idType: -2},
                            //"input[type=text]",
                            //"input[type=tel]",
                            //"input[type=email]",
                            //".LoremIpsumDolorSitAmetConsecteturAdipiscingQuis",
                            //{id: {regex: ".*card.*", flags: "g"}, idType: -1},
                            //{id: "LoremIpsumDolorSitAmetConsecteturAdipiscingQuis",idType: -1}
                        ],
                        // 遮罩規則 maskType 1 : 原字串全部改為空白
                        // 遮罩規則 maskType 2 : 原字串全部改以XXXXX取代原值
                        // 遮罩規則 maskType 3 : 原字串以 英文大寫:X 英文小寫:x 數字:9 其他字元:@ 原則取代原值
                        "maskType": 2
                    },   */
                    {
                        targets: [
                                  { id: "[[\"navbarContent\"],[\"ul\",0],[\"li\",8],[\"a\",0]]", idType: -2},
                                  ".text-truncate-two-lines",
                                  //{ id: "headerUserID", idType: -1},
                                  //".tlf_n_l5",
                                 ],
                        maskAttributes: true,
                        maskType: 4,
                        maskFunction: function (val, element) {
                            if (element && element.innerText) {
                                // Directly modify the DOM element
                                //element.innerText = "Blocked by Tealeaf";
                                element.innerText = "已遮罩";
                            }
                      //      var n = val.length;
                      //      var firstLetter = val.charAt(0);
                      //      if (firstLetter.trim() === '') {
                      //          return firstLetter + val.substring(1).replace(/./g, "O");}
                      //      var maskedStr = '';
                      //      for (var i = 0; i <= n - 2; i++) {maskedStr += "O";}
                      //      var maskedVal = firstLetter.concat(maskedStr);
                      //      return maskedVal;
                      //      return val.charAt(0) + val.slice(1).replace(/./g, "$");
                      //      var maskedVal = element;
                      //      return maskedVal;
                              return "do-not-capture";
                        }
                    },
              /*      {
            targets: [
                // CSS Selector: All password input fields
                //"input [type=password]"
                                                  { id: "[[\"navbarContent\"],[\"ul\",0],[\"li\",8],[\"a\",0]]", idType: -2},
                                  { id: "headerUserID", idType: -1},
                                  ".text-truncate-two-lines",
                                  ".tlf_n_iT",
            ],
            // All attributes will be masked using maskType 3.
            maskAttributes: true,
            maskType: 3
        },   
        {
            targets: [
                           { id: "i-guess-that-u-will-never-use-this", idType: -1},
                           ".i-guess-that-u-will-never-use-this",
            ],
            maskType: 1,
            
             // Custom function used to perform selective attribute masking.
             // @param {String} id Element id
             // @param {Object} attributes Object containing the name-value pairs
             // @returns {Object} Object containing the masked values which will be logged by the UIC.
        
            maskAttributes: function (id, attributes) {
                if (attributes.secret) {
                    // apply selective privacy to the attribute containing sensitive information.
                    attributes.secret = "BLOCKED";
                }
                // Return the object which will be logged by the UIC.
                return attributes;
            }
        },   */
                    {
                    //UserInput遮罩:只留第一個字.
                        targets: [
                                 { id: "name", idType: -1},  //註冊 會員姓名
                                 {id: "UserName", idType: -1},
                                 { id: {regex: ".*Name.*", flags: "g"}, idType: -1},
                        ],
                        maskType: 4,
                        maskFunction: function (val) {
                        var n = val.length;
                        var firstLetter = val.charAt(0);
                        if (firstLetter.trim() === '') {
                           return firstLetter + val.substring(1).replace(/./g, "O");}
                        var maskedStr = '';
                        for (var i = 0; i <= n - 2; i++) {maskedStr += "O";}
                        var maskedVal = firstLetter.concat(maskedStr);
                        return maskedVal;
                        }
                    },
                    {
                    //UserInput遮罩:遮罩後4碼.
                        targets: [
                                 { id: "personId", idType: -1},  //註冊 會員帳號
                                 { id: "id", idType: -1},  //續保 會員帳號
                                 { id: {regex: "idNumber.*", flags: "g"}, idType: -1},
                                 { id: {regex: ".*BirthDay.*", flags: "g"}, idType: -1},
                                 { id: {regex: ".*MobilePhone.*", flags: "g"}, idType: -1},
                        ],
                        maskType: 4,
                        maskFunction: function (val) {
                            var n = val.length;
                            if (n > 0) {var maskedVal = val.slice(0, -4);
                                        maskedVal += '****';}
                            else {maskedVal='';}
                            return maskedVal;
                        }
                    },
                    {
                    //UserInput遮罩:遮罩後5碼.
                        targets: [
                                 { id: "mobile", idType: -1 },  //註冊 手機號碼
                                 { id: "AssuredId", idType: -1 },
                                 { id: "EngineId", idType: -1 },
                                 { id: "Account", idType: -1 },
                                 { id: "VehicleEngineId", idType: -1 },
                                 { id: "VehicleId", idType: -1 },
                                 { id: {regex: "ApplicantId.*", flags: "g"}, idType: -1},
                                 { id: {regex: "DriverID.*", flags: "g"}, idType: -1},
                        ],
                        maskType: 4,
                        maskFunction: function (val) {
                            var n = val.length;
                            if (n > 0) {var maskedVal = val.slice(0, -5);
                                        maskedVal += '*****';}
                            else {maskedVal='';}
                            return maskedVal;
                        }
                    },
                    {
                    //UserInput遮罩:遮罩＠之後.
                        targets: [
                                 {id: "emlabfx8b", idType: -1},  //忘記密碼要輸入的email
                                 {id: "emldr0uaf", idType: -1},  //忘記密碼要輸入的email  此id的後六碼似乎會隨機生成
                                 { id: {regex: "eml.*", flags: "g"}, idType: -1},  //忘記密碼要輸入的email  用以因應此id的後六碼隨機生成  註冊會員的也是同樣情形
                                 { id: {regex: ".*Email.*", flags: "g"}, idType: -1},
                        ],
                        maskType: 4,
                        maskFunction: function (val) {
                                var n = val.length;
                                var p = val.indexOf("@");
                                var m = n - p;
                                var strPrefix = (m <= 0) ? "" : val.substr(0, p + 1);
                                var strMask = "";
                                var maskedVal = "";
                                if (n > 0 && p > 0) {
                                   for (var i = 0; i < m - 1; i++) {
                                   strMask += "*";}
                                   maskedVal = strPrefix.concat(strMask);}
                                else {for (var j = 0; j < n; j++)
                                     {maskedVal += "X";}}
                                return maskedVal;
                        }
                    },
                    {
                        /* 遮罩規則 : 原字串前4碼保留其餘遮蔽 */
                        targets: [
                                 {id: "birthday", idType: -1},
                                 {id: "CellPhone", idType: -1},
                                ],
                        "maskType": 4,
                                maskFunction: function (val)
                                {
                                var n = val.length;
                                var strPrefix = val.substring(0,4);
                                var strMask = '*';
                                var strSuffix = '';
                                var strMaskLength = n-4;
                                if (n > 0){
                                for(var i=1;i<strMaskLength;i++){
                                    strMask = '*'+strMask;}
                                var maskedVal = strPrefix.concat(strMask,strSuffix);
                                return maskedVal;}
                        }
                    },
                    {
                        /* 半遮罩  遮罩規則 : 取原字串50%長度做為新字串中段並加以遮蔽 */
                        targets: [
                                  { id: "invitationCode", idType: -1 },  //註冊 推薦碼
                                  { id: "AddressDetail", idType: -1 },
                                ],
                        "maskType": 4,
                                maskFunction: function (val) {
                                var n = val.length;
                                var nSection = n / 4;
                                var strPrefix = val.slice(0, Math.ceil(nSection));
                                var strMask = 'X';
                                var strSuffix = val.substr(-(Math.ceil(nSection)));
                                var strMaskLength = nSection * 2;
                                if (n > 0) {
                                   for (var i = 1; i < strMaskLength; i++) {
                                         strMask = 'X' + strMask;
                                    }
                                    var maskedVal = strPrefix.concat(strMask, strSuffix);
                                    return maskedVal;
                                }
                        }
                    },
                    {
                    //UserInput遮罩:全遮罩.
                        targets: [
                                 ".tlPrivacy",
                                 ".mat-calendar-body-cell-content",
                                 "mat-datepicker-input",
                                 "class=mat-datepicker-input",
                                 "input[type=button]",
                                 { id: "cdk-overlay-3", idType: -1},
                                 { id: "mat-datepicker-1", idType: -1},
                                 { id: {regex: "mat-datepicker-.*", flags: "g"}, idType: -1},
                                 { id: "pcode", idType: -1 },  //續保 會員密碼？
                                 { id: "verifyCode", idType: -1 },  //續保Captcha
                                 { id: "password", idType: -1 },  //註冊 設定會員密碼
                                 { id: "password-confirm", idType: -1 },  //註冊 確認會員密碼
                                 { id: "bank-id", idType: -1 },
                                 { id: "cc-ccv", idType: -1 },
                                 { id: "LiceNo2", idType: -1 },
                                 { id: "car-number2", idType: -1 },
                                 { id: "AccountNumber", idType: -1 },
                                 { id: "CardNumber", idType: -1 },
                                 { id: "ExpDate_Month", idType: -1 },
                                 { id: "ExpDate_Year", idType: -1 },
                                 { id: "Cvv", idType: -1 },
                                 { id: "VehicleTagId_2", idType: -1 },
                                 { id: "VerificationCode", idType: -1 },
                                 { id: "otpBackCode", idType: -1 },
                                 { id: "cc-number", idType: -1 },
                                 { id: "cc-exp", idType: -1 },
                                 { id: "cc-ccv", idType: -1 },
                                 { id: {regex: ".*Address.*", flags: "g"}, idType: -1},
                        ],
                        maskType: 4,
                                maskFunction: function (val)
                                {
                                var n = val.length;
                                var maskedStr = '#';
                                if (n >= 0){
                                for (var i = 0; i < n; i++) {
                                maskedStr += '#';}
                                var maskedVal = maskedStr;
                                return maskedVal;}
                                }
                    }
                ],
                privacyPatterns: [
                    {
                    // 保留前5碼 針對西元生日特殊場景
                        pattern: {
                            regex: '<label>西元生日：<\/label>(.*?)<div class="greyword">(.*?)<',
                            flags: "sg"
                        },
                        replacement: function (fullmatch, group1, group2) {
                                    var replacementTag = "不顯示";
                                    var retVal = fullmatch.replace(group2, replacementTag);
                                    return retVal;
                         }
                    },
           /*       {
                    // WebResponse 遮罩 type=hidden 的值, 不搭配 class name .
                        pattern: {regex: '.*?type="hidden".*?value="(.*?)"', flags: "g" },
                        replacement: function (fullmatch, group1, group2) {
                                    var replacementTag = "";
                                    var retVal = fullmatch.replace(group1, replacementTag);
                                    return retVal;
                        }
                    },  
                    {
                    // WebResponse 遮圖 遮罩方式 : 原圖替換顯示, 當 data:image...採用base64 時觸發遮罩, 不需搭配 class name 宣告.
                        pattern: {regex: '"data:image\/(.*?);base64,(.*?)"', flags: "g"},
                        replacement: function (fullmatch, group1, group2) {
                                    var replacementTag = "iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAIAAAAn5KxJAAAAWklEQVR42u3XsREAIAgEQSjdyjGwAf3Q2c+Z25SumnrfJEdnHZ+BgoKCgoKCgoKCgv4DnajZHfayHCgoKCgoKCgoKCjoLTQNhr0VvyKgoKCgoKCgoKCgoP9AN8dQ5111sJcWAAAAAElFTkSuQmCC";
                                    var retVal = fullmatch.replace(group2, replacementTag);
                                    return retVal;
                        }
                    },
                    {
                    // WebResponse遮罩-只留第一個字 (適用於第一字元自帶空白)
                        pattern: {regex: 'class="[^"]*tlf_r_f1[^"]*"[^>]*>(.*?)<', flags: "g"},
                        replacement: function(fullmatch, group1) {
                                     var newVal = group1.replace(/\s/, "");
                                     var n = newVal.length;
                                     var firstLetter = newVal.substring(0, 1);
                                     var maskedStr = '';
                                     for (var i = 0; i <= n - 2; i++) {
                                         maskedStr += "O";}
                                     var maskedVal = firstLetter.concat(maskedStr);
                                     var retVal = fullmatch.replace(group1, maskedVal);
                                     return retVal;
                        }
                    },
                    {
                    // WebResponse遮罩-遮罩後4碼.new
                        pattern: {regex: 'class="[^"]*tlf_n_l4[^"]*"[^>]*>(.*?)<', flags: "g"},
                        replacement: function(fullmatch, group1) {
                                     var n = group1.length;
                                     if (n > 0) {var maskedVal = group1.slice(0, -4);
                                        maskedVal += '****';}
                                     else {maskedVal='';}
                                     var retVal = fullmatch.replace(group1, maskedVal);
                                     return retVal;
                        }
                    },
                    {
                    // WebResponse遮罩-遮罩後5碼.new
                        pattern: {regex: 'class="[^"]*tlf_n_l5[^"]*"[^>]*>(.*?)<', flags: "g"},
                        replacement: function(fullmatch, group1) {
                                     var n = group1.length;
                                     if (n > 0) {var maskedVal = group1.slice(0, -5);
                                        maskedVal += '*****';}
                                     else {maskedVal='';}
                                     var retVal = fullmatch.replace(group1, maskedVal);
                                     return retVal;
                        }
                    },
                    {
                    // WebResponse遮罩-遮罩＠之後.new
                        pattern: {regex: 'class="[^"]*tlf_n_at1[^"]*"[^>]*>(.*?)<', flags: "g"},
                        replacement: function(fullmatch, group1) {
                                     var n = group1.length;
                                     var p = group1.indexOf("@");
                                     var m = n - p;
                                     var strPrefix = (m <= 0) ? "" : group1.substr(0, p + 1);
                                     var strMask = "";
                                     var maskedVal = "";
                                     if (n > 0 && p > 0) {
                                        for (var i = 0; i < m - 1; i++) {strMask += "*";}
                                        maskedVal = strPrefix.concat(strMask);}
                                     else {for (var j = 0; j < n; j++)
                                        {maskedVal += "X";}}
                                     var retVal = fullmatch.replace(group1, maskedVal);
                                     return retVal;
                        }
                    },
                    {
                    // WebResponse遮罩-遮罩＠之後.new
                        pattern: {regex: 'class="text-blue tlf_n_at1">(.*?)<\/a>', flags: "g"},
                        replacement: function(fullmatch, group1) {
                                     var n = group1.length;
                                     var p = group1.indexOf("@");
                                     var m = n - p;
                                     var strPrefix = (m <= 0) ? "" : group1.substr(0, p + 1);
                                     var strMask = "";
                                     var maskedVal = "";
                                     if (n > 0 && p > 0) {
                                        for (var i = 0; i < m - 1; i++) {strMask += "*";}
                                        maskedVal = strPrefix.concat(strMask);}
                                     else {for (var j = 0; j < n; j++)
                                        {maskedVal += "X";}}
                                     var retVal = fullmatch.replace(group1, maskedVal);
                                     return retVal;
                        }
                    },
                    {
                    // WebResponse遮罩-全遮罩.ecover use case.
                        pattern: {regex: 'class="[^"]*tlf_n_all[^"]*"[^>]*value="(.*?)"', flags: "g"},
                        replacement: function(fullmatch, group1) {
                                     var n = group1.length;
                                     var maskedStr = '';
                                     if (n >= 0){
                                     for (var i = 0; i < n; i++) {
                                     maskedStr += '*';}
                                     var maskedVal = maskedStr;
                                     }
                                     var retVal = fullmatch.replace(group1, maskedVal);
                                     return retVal;
                        }
                    },
                    {
                    // WebResponse遮罩-遮罩後6碼 生日格式  ex:民國90年05月11日 .new
                        pattern: {regex: 'class="[^"]*tlf_n_l6[^"]*"[^>]*>(.*?)<', flags: "g"},
                        replacement: function(fullmatch, group1) {
                                     var n = group1.length;
                                     var maskedVal = '';
                                     var starmarks = '';
                                     if (group1.includes("民國")) {
                                     var tmpStr = '年XX月XX日';
                                     var spltStr = group1.split("年");
                                     maskedVal = spltStr[0] + tmpStr;}
                                     else {
                                     maskedVal = group1.substring(0, n - 6)
                                     for (var i = 0; i <= 6; i++) {starmarks += '*';}
                                     maskedVal = maskedVal + starmarks;}
                                     var retVal = fullmatch.replace(group1, maskedVal);
                                     return retVal;
                        }
                    },
                    {
                    // WebResponse遮罩-遮罩dash之後.
                        pattern: {regex: 'class="[^"]*tlf_n_dash1[^"]*"[^>]*>(.*?)<', flags: "g"},
                        replacement: function(fullmatch, group1) {
                                     var n = group1.length;
                                     //console.log('Start');
                                     var maskedVal = '';
                                     var starmarks = '';
                                     var gp1Strs = group1.split('-');
                                     if (typeof gp1Strs[1] !== "undefined") {
                                     for (var i = 0; i <= gp1Strs[1].length; i++) {
                                     starmarks += '*';}
                                     maskedVal = gp1Strs[0] + starmarks;}
                                     else {maskedVal = '********';}
                                     var retVal = fullmatch.replace(group1, maskedVal);
                                     //console.log(retVal);
                                     return retVal;
                        }
                    },
                    {
                    // Match class type 1 保留前6碼 = 第7碼開始遮.
                        pattern: {regex: 'class="[^"]*tlf_r_f6[^"]*"[^>]*>(.*?)<', flags: "g"},
                        replacement: function(fullmatch, group1) {
                                     var n = group1.length;
                                     var maskedVal = '';
                                     if (n > 5) {
                                     maskedVal = group1.slice(0, 6);
                                     for (var i = 0; i < n - 6; i++) {
                                     maskedVal += '*';}}
                                     else {maskedVal = '********';}
                                     var retVal = fullmatch.replace(group1, maskedVal);
                                     return retVal;
                        }
                    }   */
                ]
            },
            encoder: {
                gzip: {
                    encode: "window.pako.gzip",
                    defaultEncoding: "gzip"
                }
            },
            domCapture: {
                diffEnabled: true,
                options: {
                    maxMutations: 100,
   		    maxLength: 5000000,
                    captureStyle: true,
                    captureFrames: true,
                    captureShadowDOM: false
				}
            },
            browser: {
                normalizeTargetToParentLink: true
            }
        },
        modules: {
            overstat: {
                hoverThreshold: 2000
            },
            performance: {
                calculateRenderTime: true,
                renderTimeThreshold: 600000
            },
            replay: {
                domCapture: {
                    enabled: true,
                    triggers: [
                        {
                            event: "click"
                            	,fullDOMCapture: true
				,delay: 200
                        },
                        {
                            event: "change"
                            	,fullDOMCapture: true
				,delay: 200
                        },
                        {
                            event: "load"
                            	,fullDOMCapture: true
				,delay: 200
                        },
                        {
                            event: "unload"
                            	,fullDOMCapture: true
				,delay: 200
                        },
                        {
                            event: "visibilitychange"
                        }
                    ]
                },
                mousemove: {
                    enabled: true,
                    sampleRate: 200,
                    ignoreRadius: 10
                }
            },
            dataLayer: {
                dataObject: ""
            },
            TLCookie: {
                appCookieWhitelist: [
                    { regex: ".*" }
                ],
                // b202b759e31e48afb4ab692a79eb78a6 --- Aurocore UAT
                // 885bab87ae294f2fabd7c34eaa7d6d6d --- ecover Car
                // f74117ac247e43bf85b2584acdb500ff --- BP Shared AppKey
                tlAppKey: "885bab87ae294f2fabd7c34eaa7d6d6d"
            }
        }
    };

    TLT.init(config);
}());
